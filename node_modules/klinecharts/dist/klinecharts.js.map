{"version":3,"file":"klinecharts.js","sources":["../src/common/utils/id.ts","../src/common/utils/dom.ts","../src/common/utils/canvas.ts","../src/common/utils/typeChecks.ts","../src/common/utils/logger.ts","../src/common/utils/format.ts","../src/common/utils/number.ts","../src/common/Options.ts","../src/store/TimeScaleStore.ts","../src/component/Indicator.ts","../src/extension/indicator/averagePrice.ts","../src/extension/indicator/awesomeOscillator.ts","../src/extension/indicator/bias.ts","../src/extension/indicator/bollingerBands.ts","../src/extension/indicator/brar.ts","../src/extension/indicator/bullAndBearIndex.ts","../src/extension/indicator/commodityChannelIndex.ts","../src/extension/indicator/currentRatio.ts","../src/extension/indicator/differentOfMovingAverage.ts","../src/extension/indicator/directionalMovementIndex.ts","../src/extension/indicator/easeOfMovementValue.ts","../src/extension/indicator/exponentialMovingAverage.ts","../src/extension/indicator/momentum.ts","../src/extension/indicator/movingAverage.ts","../src/extension/indicator/movingAverageConvergenceDivergence.ts","../src/extension/indicator/onBalanceVolume.ts","../src/extension/indicator/priceAndVolumeTrend.ts","../src/extension/indicator/psychologicalLine.ts","../src/extension/indicator/rateOfChange.ts","../src/extension/indicator/relativeStrengthIndex.ts","../src/extension/indicator/simpleMovingAverage.ts","../src/extension/indicator/stoch.ts","../src/extension/indicator/stopAndReverse.ts","../src/extension/indicator/tripleExponentiallySmoothedAverage.ts","../src/extension/indicator/volume.ts","../src/extension/indicator/volumeRatio.ts","../src/extension/indicator/williamsR.ts","../src/extension/indicator/index.ts","../src/store/IndicatorStore.ts","../src/store/CrosshairStore.ts","../src/component/Overlay.ts","../src/extension/overlay/fibonacciLine.ts","../src/extension/overlay/horizontalRayLine.ts","../src/extension/overlay/horizontalSegment.ts","../src/extension/overlay/horizontalStraightLine.ts","../src/extension/figure/line.ts","../src/extension/overlay/parallelStraightLine.ts","../src/extension/overlay/priceChannelLine.ts","../src/extension/overlay/priceLine.ts","../src/extension/overlay/rayLine.ts","../src/extension/overlay/segment.ts","../src/extension/overlay/straightLine.ts","../src/extension/overlay/verticalRayLine.ts","../src/extension/overlay/verticalSegment.ts","../src/extension/overlay/verticalStraightLine.ts","../src/extension/overlay/simpleAnnotation.ts","../src/extension/overlay/simpleTag.ts","../src/extension/overlay/index.ts","../src/common/Bounding.ts","../src/common/Eventful.ts","../src/widget/Widget.ts","../src/common/utils/performance.ts","../src/widget/SeparatorWidget.ts","../src/pane/Pane.ts","../src/store/OverlayStore.ts","../src/common/Action.ts","../src/store/ActionStore.ts","../src/extension/styles/light.ts","../src/extension/styles/dark.ts","../src/extension/styles/index.ts","../src/store/ChartStore.ts","../src/common/utils/compatible.ts","../src/widget/DrawWidget.ts","../src/component/Figure.ts","../src/extension/figure/circle.ts","../src/extension/figure/polygon.ts","../src/extension/figure/rect.ts","../src/extension/figure/text.ts","../src/extension/figure/rectText.ts","../src/extension/figure/index.ts","../src/view/View.ts","../src/view/GridView.ts","../src/view/ChildrenView.ts","../src/view/CandleBarView.ts","../src/view/IndicatorView.ts","../src/view/CrosshairLineView.ts","../src/view/IndicatorTooltipView.ts","../src/view/OverlayView.ts","../src/widget/IndicatorWidget.ts","../src/view/CandleAreaView.ts","../src/view/CandleHighLowPriceView.ts","../src/view/CandleLastPriceLineView.ts","../src/extension/i18n/zh-CN.ts","../src/extension/i18n/en-US.ts","../src/extension/i18n/index.ts","../src/view/CandleTooltipView.ts","../src/widget/CandleWidget.ts","../src/view/AxisView.ts","../src/view/YAxisView.ts","../src/view/CandleLastPriceLabelView.ts","../src/view/IndicatorLastValueView.ts","../src/view/OverlayYAxisView.ts","../src/view/CrosshairHorizontalLabelView.ts","../src/widget/YAxisWidget.ts","../src/component/Axis.ts","../src/component/YAxis.ts","../src/pane/IndicatorPane.ts","../src/pane/CandlePane.ts","../src/view/XAxisView.ts","../src/view/OverlayXAxisView.ts","../src/view/CrosshairVerticalLabelView.ts","../src/widget/XAxisWidget.ts","../src/component/XAxis.ts","../src/pane/XAxisPane.ts","../src/common/utils/platform.ts","../src/common/SyntheticEvent.ts","../src/ChartEvent.ts","../src/Chart.ts","../src/common/Coordinate.ts","../src/extension/figure/arc.ts","../src/index.ts"],"sourcesContent":["/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nclass ID {\n  private _baseId = 1\n  private _prevIdTimestamp: number\n\n  next (prefix?: string): string {\n    const timestamp = new Date().getTime()\n    if (timestamp === this._prevIdTimestamp) {\n      ++this._baseId\n    } else {\n      this._baseId = 1\n    }\n    this._prevIdTimestamp = timestamp\n    return `${prefix ?? ''}${timestamp}_${this._baseId}`\n  }\n}\n\nconst id = new ID()\n\nfunction createId (prefix?: string): string {\n  return id.next(prefix)\n}\n\nexport { createId }\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Create dom\n * @param tagName\n * @param styles\n * @return {*}\n */\nexport function createDom<K extends keyof HTMLElementTagNameMap> (tagName: K, styles?: Partial<CSSStyleDeclaration>): HTMLElementTagNameMap[K] {\n  const dom = document.createElement(tagName)\n  const s = styles ?? {}\n  for (const key in s) {\n    (dom.style)[key] = s[key] ?? ''\n  }\n  return dom\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nlet measureCtx: CanvasRenderingContext2D\n\n/**\n * Get pixel ratio\n * @param canvas\n * @returns {number}\n */\nexport function getPixelRatio (canvas: HTMLCanvasElement): number {\n  return canvas.ownerDocument?.defaultView?.devicePixelRatio ?? 2\n}\n\nexport function createFont (size?: number, weight?: string | number, family?: string): string {\n  return `${weight ?? 'normal'} ${size ?? 12}px ${family ?? 'Helvetica Neue'}`\n}\n\n/**\n * Measure the width of text\n * @param text\n * @returns {number}\n */\nexport function calcTextWidth (text: string, size?: number, weight?: string | number, family?: string): number {\n  if (measureCtx === undefined) {\n    const canvas = document.createElement('canvas')\n    const pixelRatio = getPixelRatio(canvas)\n    measureCtx = canvas.getContext('2d') as CanvasRenderingContext2D\n    measureCtx.scale(pixelRatio, pixelRatio)\n  }\n  measureCtx.font = createFont(size, weight, family)\n  return Math.round(measureCtx.measureText(text).width)\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport function merge (target: any, source: any): void {\n  if ((!isObject(target) && !isObject(source))) {\n    return\n  }\n  for (const key in source) {\n    if (Object.prototype.hasOwnProperty.call(source, key) as boolean) {\n      const targetProp = target[key]\n      const sourceProp = source[key]\n      if (\n        isObject(sourceProp) &&\n        isObject(targetProp) &&\n        !isArray(sourceProp) &&\n        !isArray(targetProp)\n      ) {\n        merge(targetProp, sourceProp)\n      } else {\n        if (isValid(source[key])) {\n          target[key] = source[key]\n        }\n      }\n    }\n  }\n}\n\nexport function clone (target: any): any {\n  if (!isObject(target) || !isArray(target)) {\n    return target\n  }\n\n  let copy\n  if (isArray(target)) {\n    copy = []\n  } else {\n    copy = {}\n  }\n  for (const key in target) {\n    if (Object.prototype.hasOwnProperty.call(target, key) as boolean) {\n      const v = target[key]\n      if (isObject(v)) {\n        copy[key] = clone(v)\n      } else {\n        copy[key] = v\n      }\n    }\n  }\n  return copy\n}\n\nexport function isArray (value: any): boolean {\n  return Object.prototype.toString.call(value) === '[object Array]'\n}\n\nexport function isFunction (value: any): boolean {\n  return typeof value === 'function'\n}\n\nexport function isObject (value: any): boolean {\n  return (typeof value === 'object')\n}\n\nexport function isNumber (value: any): boolean {\n  return typeof value === 'number' && !isNaN(value)\n}\n\nexport function isValid (value: any | null): boolean {\n  return value !== null && value !== undefined\n}\n\nexport function isBoolean (value: any): boolean {\n  return typeof value === 'boolean'\n}\n\nexport function isString (value: any): boolean {\n  return typeof value === 'string'\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// @ts-expect-error\nconst DEV = '__BUILD_ENV__' === 'development'\n\nfunction log (message: string, style: string, api: string, invalidParam: string, append: string): void {\n  if (DEV) {\n    const apiStr = api !== '' ? `Call api ${api}${invalidParam !== '' || append !== '' ? ', ' : '.'},` : ''\n    const invalidParamStr = invalidParam !== '' ? `invalid parameter ${invalidParam}${append !== '' ? ', ' : '.'}` : ''\n    const appendStr = append !== '' ? append : ''\n    console.log(message, style, apiStr, invalidParamStr, appendStr)\n  }\n}\n\nexport function logWarn (api: string, invalidParam: string, append?: string): void {\n  log('%c😑 klinecharts warning: \\n%s%s%s', 'color:#fcaf17;font-weight:bold', api, invalidParam, append ?? '')\n}\n\nexport function logError (api: string, invalidParam: string, append?: string): void {\n  log('%c😟 klinecharts error: \\n%s%s%s', 'color:#ed1941;font-weight:bold', api, invalidParam, append ?? '')\n}\n\nexport function logTag (): void {\n  log(\n    '%c❤️ Welcome to klinecharts. Version is __BUILD_VERSION__',\n    'border-radius:2px;border:dashed 1px #2196F3;padding:26px 20px;font-size:14px;color:#2196F3',\n    '',\n    '',\n    ''\n  )\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { isNumber, isValid } from './typeChecks'\n\nconst reEscapeChar = /\\\\(\\\\)?/g\nconst rePropName = RegExp(\n  '[^.[\\\\]]+' + '|' +\n  '\\\\[(?:' +\n    '([^\"\\'][^[]*)' + '|' +\n    '([\"\\'])((?:(?!\\\\2)[^\\\\\\\\]|\\\\\\\\.)*?)\\\\2' +\n  ')\\\\]' + '|' +\n  '(?=(?:\\\\.|\\\\[\\\\])(?:\\\\.|\\\\[\\\\]|$))'\n  , 'g')\n\nexport function formatValue (data: unknown, key: string, defaultValue?: unknown): unknown {\n  if (isValid(data)) {\n    const path: string[] = []\n    key.replace(rePropName, (subString: string, ...args: any[]) => {\n      let k = subString\n      if (isValid(args[1])) {\n        k = args[2].replace(reEscapeChar, '$1')\n      } else if (isValid(args[0])) {\n        k = args[0].trim()\n      }\n      path.push(k)\n      return ''\n    })\n    let value = data\n    let index = 0\n    const length = path.length\n    while (isValid(value) && index < length) {\n      value = value?.[path[index++]]\n    }\n    return isValid(value) ? value : (defaultValue ?? '--')\n  }\n  return defaultValue ?? '--'\n}\n\nexport function formatDate (dateTimeFormat: Intl.DateTimeFormat, timestamp: number, format: string): string {\n  const dateTimeString = dateTimeFormat.format(new Date(timestamp))\n  const dateTimeStringArray = dateTimeString.split(', ')\n  const dateStringArray = dateTimeStringArray[0].split('/')\n  const timeStringArray = dateTimeStringArray[1].split(':')\n  const date = {\n    YYYY: dateStringArray[2],\n    MM: dateStringArray[0],\n    DD: dateStringArray[1],\n    HH: timeStringArray[0] === '24' ? '00' : timeStringArray[0],\n    mm: timeStringArray[1],\n    ss: timeStringArray[2]\n  }\n  return format.replace(/YYYY|MM|DD|HH|mm|ss/g, key => date[key])\n}\n\nexport function formatPrecision (value: string | number, precision?: number): string {\n  const v = +value\n  if (isNumber(v)) {\n    return v.toFixed(precision ?? 2)\n  }\n  return `${v}`\n}\n\nexport function formatBigNumber (value: string | number): string {\n  const v = +value\n  if (isNumber(v)) {\n    if (value > 1000000000) {\n      return `${+((v / 1000000000).toFixed(3))}B`\n    }\n    if (value > 1000000) {\n      return `${+((v / 1000000).toFixed(3))}M`\n    }\n    if (value > 1000) {\n      return `${+((v / 1000).toFixed(3))}K`\n    }\n    return `${value}`\n  }\n  return '--'\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Binary search for the nearest result\n * @param dataList\n * @param valueKey\n * @param targetValue\n * @return {number}\n */\nexport function binarySearchNearest (dataList: any[], valueKey: string, targetValue: any): number {\n  let left = 0\n  let right = 0\n  for (right = dataList.length - 1; left !== right;) {\n    const midIndex = Math.floor((right + left) / 2)\n    const mid = right - left\n    const midValue = dataList[midIndex][valueKey]\n    if (targetValue === dataList[left][valueKey]) {\n      return left\n    }\n    if (targetValue === dataList[right][valueKey]) {\n      return right\n    }\n    if (targetValue === midValue) {\n      return midIndex\n    }\n\n    if (targetValue > midValue) {\n      left = midIndex\n    } else {\n      right = midIndex\n    }\n\n    if (mid <= 2) {\n      break\n    }\n  }\n  return left\n}\n\n/**\n * 优化数字\n * @param value\n * @return {number|number}\n */\nexport function nice (value: number): number {\n  const exponent = Math.floor(log10(value))\n  const exp10 = index10(exponent)\n  const f = value / exp10 // 1 <= f < 10\n  let nf = 0\n  if (f < 1.5) {\n    nf = 1\n  } else if (f < 2.5) {\n    nf = 2\n  } else if (f < 3.5) {\n    nf = 3\n  } else if (f < 4.5) {\n    nf = 4\n  } else if (f < 5.5) {\n    nf = 5\n  } else if (f < 6.5) {\n    nf = 6\n  } else {\n    nf = 8\n  }\n  value = nf * exp10\n  return exponent >= -20 ? +value.toFixed(exponent < 0 ? -exponent : 0) : value\n}\n\n/**\n * 四舍五入\n * @param value\n * @param precision\n * @return {number}\n */\nexport function round (value: number, precision: number): number {\n  if (precision == null) {\n    precision = 10\n  }\n  precision = Math.min(Math.max(0, precision), 20)\n  const v = (+value).toFixed(precision)\n  return +v\n}\n\n/**\n * 获取小数位数\n * @param value\n * @return {number|number}\n */\nexport function getPrecision (value: number): number {\n  const str = value.toString()\n  const eIndex = str.indexOf('e')\n  if (eIndex > 0) {\n    const precision = +str.slice(eIndex + 1)\n    return precision < 0 ? -precision : 0\n  } else {\n    const dotIndex = str.indexOf('.')\n    return dotIndex < 0 ? 0 : str.length - 1 - dotIndex\n  }\n}\n\nexport function getMaxMin<D> (dataList: D[], maxKey: string, minKey: string): number[] {\n  const maxMin = [Number.MIN_SAFE_INTEGER, Number.MAX_SAFE_INTEGER]\n  dataList.forEach(data => {\n    maxMin[0] = Math.max(data[maxKey] ?? data, maxMin[0])\n    maxMin[1] = Math.min(data[minKey] ?? data, maxMin[1])\n  })\n  return maxMin\n}\n\n/**\n * 10为底的对数函数\n * @param value\n * @return {number}\n */\nexport function log10 (value: number): number {\n  return Math.log(value) / Math.log(10)\n}\n\n/**\n * 10的指数函数\n * @param value\n * @return {number}\n */\nexport function index10 (value: number): number {\n  return Math.pow(10, value)\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport DeepPartial from './DeepPartial'\nimport Nullable from './Nullable'\nimport KLineData from './KLineData'\n\nimport { formatDate, formatBigNumber } from './utils/format'\n\n/**\n * line type\n * @type {{DASHED: string, SOLID: string}}\n */\nexport const enum LineType {\n  DASHED = 'dashed',\n  SOLID = 'solid'\n}\n\nexport interface LineStyle {\n  style: LineType\n  size: number\n  color: string\n  dashedValue: number[]\n}\n\nexport interface SmoothLineStyle extends LineStyle {\n  smooth: boolean\n}\n\nexport interface StateLineStyle extends LineStyle {\n  show: boolean\n}\n\nexport const enum PolygonType {\n  STROKE = 'stroke',\n  FILL = 'fill',\n  STROKE_FILL = 'stroke_fill'\n}\n\nexport interface PolygonStyle {\n  style: PolygonType\n  color: string | CanvasGradient\n  borderColor: string\n  borderSize: number\n  borderStyle: LineType\n  borderDashedValue: number[]\n}\n\nexport interface RectStyle extends PolygonStyle {\n  borderRadius: number\n}\n\nexport interface TextStyle {\n  color: string\n  size: number\n  family: string\n  weight: number | string\n}\n\nexport interface StateTextStyle extends TextStyle {\n  show: boolean\n}\n\nexport interface RectTextStyle extends TextStyle {\n  style: PolygonType\n  paddingLeft: number\n  paddingTop: number\n  paddingRight: number\n  paddingBottom: number\n  borderStyle: LineType\n  borderDashedValue: number[]\n  borderSize: number\n  borderColor: string\n  borderRadius: number\n  backgroundColor: string\n}\n\nexport interface StateRectTextStyle extends RectTextStyle {\n  show: boolean\n}\n\nexport interface MarginTextStyle extends StateTextStyle {\n  marginLeft: number\n  marginTop: number\n  marginRight: number\n  marginBottom: number\n}\n\nexport type LastValueMarkTextStyle = Omit<StateRectTextStyle, 'backgroundColor' | 'borderColor'>\n\nexport const enum TooltipShowRule {\n  ALWAYS = 'always',\n  FOLLOW_CROSS = 'follow_cross',\n  NONE = 'none'\n}\n\nexport const enum TooltipShowType {\n  RECT = 'rect',\n  STANDARD = 'standard'\n}\n\nexport interface ChangeColor {\n  upColor: string\n  downColor: string\n  noChangeColor: string\n}\n\nexport interface GradientColor {\n  offset: number\n  color: string\n}\n\nexport interface GridStyle {\n  show: boolean\n  horizontal: StateLineStyle\n  vertical: StateLineStyle\n}\n\nexport type TooltipTextStyle = Omit<MarginTextStyle, 'show'>\n\nexport interface TooltipDataChild {\n  text: string\n  color: string\n}\n\nexport interface TooltipData {\n  title: string | TooltipDataChild\n  value: string | TooltipDataChild\n}\n\nexport interface TooltipStyle {\n  showRule: TooltipShowRule\n  showType: TooltipShowType\n  defaultValue: string\n  text: TooltipTextStyle\n}\n\nfunction getDefaultGridStyle (): GridStyle {\n  return {\n    show: true,\n    horizontal: {\n      show: true,\n      size: 1,\n      color: '#EDEDED',\n      style: LineType.DASHED,\n      dashedValue: [2, 2]\n    },\n    vertical: {\n      show: true,\n      size: 1,\n      color: '#EDEDED',\n      style: LineType.DASHED,\n      dashedValue: [2, 2]\n    }\n  }\n}\n\nexport interface CandleAreaStyle {\n  lineSize: number\n  lineColor: string\n  value: string\n  backgroundColor: string | GradientColor[]\n}\n\nexport interface CandleHighLowPriceMarkStyle {\n  show: boolean\n  color: string\n  textOffset: number\n  textSize: number\n  textFamily: string\n  textWeight: string\n}\n\nexport type CandleLastPriceMarkLineStyle = Omit<StateLineStyle, 'color'>\nexport interface CandleLastPriceMarkStyle extends ChangeColor {\n  show: boolean\n  line: CandleLastPriceMarkLineStyle\n  text: LastValueMarkTextStyle\n}\n\nexport interface CandlePriceMarkStyle {\n  show: boolean\n  high: CandleHighLowPriceMarkStyle\n  low: CandleHighLowPriceMarkStyle\n  last: CandleLastPriceMarkStyle\n}\n\nexport interface CandleTooltipRectStyle extends Omit<RectStyle, 'style' | 'borderDashedValue' | 'borderStyle'> {\n  paddingLeft: number\n  paddingRight: number\n  paddingTop: number\n  paddingBottom: number\n  offsetLeft: number\n  offsetTop: number\n  offsetRight: number\n}\n\nexport type CandleTooltipCustomCallback = (kLineData: KLineData, styles: CandleStyle) => TooltipData[]\n\nexport interface CandleTooltipStyle extends TooltipStyle {\n  custom: Nullable<CandleTooltipCustomCallback>\n  rect: CandleTooltipRectStyle\n}\n\nexport const enum CandleType {\n  CANDLE_SOLID = 'candle_solid',\n  CANDLE_STROKE = 'candle_stroke',\n  CANDLE_UP_STROKE = 'candle_up_stroke',\n  CANDLE_DOWN_STROKE = 'candle_down_stroke',\n  OHLC = 'ohlc',\n  AREA = 'area'\n}\n\nexport interface CandleStyle {\n  type: CandleType\n  bar: ChangeColor\n  area: CandleAreaStyle\n  priceMark: CandlePriceMarkStyle\n  tooltip: CandleTooltipStyle\n}\n\n/**\n * Get default candle style\n * @type {{area: {backgroundColor: [{offset: number, color: string}, {offset: number, color: string}], lineColor: string, lineSize: number, value: string}, bar: {noChangeColor: string, upColor: string, downColor: string}, tooltip: {rect: {offsetTop: number, fillColor: string, borderColor: string, paddingBottom: number, borderRadius: number, paddingRight: number, borderSize: number, offsetLeft: number, paddingTop: number, paddingLeft: number, offsetRight: number}, showRule: string, values: null, showType: string, text: {marginRight: number, size: number, color: string, weight: string, marginBottom: number, family: string, marginTop: number, marginLeft: number}, labels: string[]}, type: string, priceMark: {high: {textMargin: number, textSize: number, color: string, textFamily: string, show: boolean, textWeight: string}, last: {noChangeColor: string, upColor: string, line: {dashValue: number[], size: number, show: boolean, style: string}, show: boolean, text: {paddingBottom: number, size: number, color: string, paddingRight: number, show: boolean, weight: string, paddingTop: number, family: string, paddingLeft: number}, downColor: string}, low: {textMargin: number, textSize: number, color: string, textFamily: string, show: boolean, textWeight: string}, show: boolean}}}\n */\nfunction getDefaultCandleStyle (): CandleStyle {\n  return {\n    type: CandleType.CANDLE_SOLID,\n    bar: {\n      upColor: '#26A69A',\n      downColor: '#EF5350',\n      noChangeColor: '#999999'\n    },\n    area: {\n      lineSize: 2,\n      lineColor: '#1677FF',\n      value: 'close',\n      backgroundColor: [{\n        offset: 0,\n        color: 'rgba(22, 119, 255, 0.01)'\n      }, {\n        offset: 1,\n        color: 'rgba(22, 119, 255, 0.2)'\n      }]\n    },\n    priceMark: {\n      show: true,\n      high: {\n        show: true,\n        color: '#76808F',\n        textOffset: 5,\n        textSize: 10,\n        textFamily: 'Helvetica Neue',\n        textWeight: 'normal'\n      },\n      low: {\n        show: true,\n        color: '#76808F',\n        textOffset: 5,\n        textSize: 10,\n        textFamily: 'Helvetica Neue',\n        textWeight: 'normal'\n      },\n      last: {\n        show: true,\n        upColor: '#26A69A',\n        downColor: '#EF5350',\n        noChangeColor: '#888888',\n        line: {\n          show: true,\n          style: LineType.DASHED,\n          dashedValue: [4, 4],\n          size: 1\n        },\n        text: {\n          show: true,\n          style: PolygonType.FILL,\n          size: 12,\n          paddingLeft: 4,\n          paddingTop: 4,\n          paddingRight: 4,\n          paddingBottom: 4,\n          borderStyle: LineType.SOLID,\n          borderSize: 1,\n          borderDashedValue: [2, 2],\n          color: '#FFFFFF',\n          family: 'Helvetica Neue',\n          weight: 'normal',\n          borderRadius: 2\n        }\n      }\n    },\n    tooltip: {\n      showRule: TooltipShowRule.ALWAYS,\n      showType: TooltipShowType.STANDARD,\n      custom: null,\n      defaultValue: 'n/a',\n      rect: {\n        paddingLeft: 0,\n        paddingRight: 0,\n        paddingTop: 0,\n        paddingBottom: 6,\n        offsetLeft: 8,\n        offsetTop: 8,\n        offsetRight: 8,\n        borderRadius: 4,\n        borderSize: 1,\n        borderColor: '#F2F3F5',\n        color: '#FEFEFE'\n      },\n      text: {\n        size: 12,\n        family: 'Helvetica Neue',\n        weight: 'normal',\n        color: '#76808F',\n        marginLeft: 8,\n        marginTop: 6,\n        marginRight: 8,\n        marginBottom: 0\n      }\n    }\n  }\n}\n\nexport type IndicatorPolygonStyle = Omit<PolygonStyle, 'color' | 'borderColor'> & ChangeColor\n\nexport interface IndicatorLastValueMarkStyle {\n  show: boolean\n  text: LastValueMarkTextStyle\n}\n\nexport interface IndicatorTooltipStyle extends TooltipStyle {\n  showName: boolean\n  showParams: boolean\n}\n\nexport interface IndicatorStyle {\n  ohlc: ChangeColor\n  bars: IndicatorPolygonStyle[]\n  lines: SmoothLineStyle[]\n  circles: IndicatorPolygonStyle[]\n  lastValueMark: IndicatorLastValueMarkStyle\n  tooltip: IndicatorTooltipStyle\n}\n\n/**\n * Get default indicator style\n */\nfunction getDefaultIndicatorStyle (): IndicatorStyle {\n  return {\n    ohlc: {\n      upColor: 'rgba(38, 166, 154, .65)',\n      downColor: 'rgba(239, 83, 80, .65)',\n      noChangeColor: '#888888'\n    },\n    bars: [{\n      style: PolygonType.FILL,\n      borderStyle: LineType.SOLID,\n      borderSize: 1,\n      borderDashedValue: [2, 2],\n      upColor: 'rgba(38, 166, 154, .65)',\n      downColor: 'rgba(239, 83, 80, .65)',\n      noChangeColor: '#888888'\n    }],\n    lines: [\n      {\n        style: LineType.SOLID,\n        smooth: false,\n        size: 1,\n        dashedValue: [2, 2],\n        color: '#FF9600'\n      }, {\n        style: LineType.SOLID,\n        smooth: false,\n        size: 1,\n        dashedValue: [2, 2],\n        color: '#9D65C9'\n      }, {\n        style: LineType.SOLID,\n        smooth: false,\n        size: 1,\n        dashedValue: [2, 2],\n        color: '#1677FF'\n      }, {\n        style: LineType.SOLID,\n        smooth: false,\n        size: 1,\n        dashedValue: [2, 2],\n        color: '#E11D74'\n      }, {\n        style: LineType.SOLID,\n        smooth: false,\n        size: 1,\n        dashedValue: [2, 2],\n        color: '#01C5C4'\n      }\n    ],\n    circles: [{\n      style: PolygonType.FILL,\n      borderStyle: LineType.SOLID,\n      borderSize: 1,\n      borderDashedValue: [2, 2],\n      upColor: 'rgba(38, 166, 154, .65)',\n      downColor: 'rgba(239, 83, 80, .65)',\n      noChangeColor: '#888888'\n    }],\n    lastValueMark: {\n      show: false,\n      text: {\n        show: false,\n        style: PolygonType.FILL,\n        color: '#FFFFFF',\n        size: 12,\n        family: 'Helvetica Neue',\n        weight: 'normal',\n        borderStyle: LineType.SOLID,\n        borderSize: 1,\n        borderDashedValue: [2, 2],\n        paddingLeft: 4,\n        paddingTop: 4,\n        paddingRight: 4,\n        paddingBottom: 4,\n        borderRadius: 2\n      }\n    },\n    tooltip: {\n      showRule: TooltipShowRule.ALWAYS,\n      showType: TooltipShowType.STANDARD,\n      showName: true,\n      showParams: true,\n      defaultValue: 'n/a',\n      text: {\n        size: 12,\n        family: 'Helvetica Neue',\n        weight: 'normal',\n        color: '#76808F',\n        marginTop: 6,\n        marginRight: 8,\n        marginBottom: 0,\n        marginLeft: 8\n      }\n    }\n  }\n}\n\nexport type AxisLineStyle = Omit<StateLineStyle, 'style' | 'dashedValue'>\n\nexport interface AxisTickLineStyle extends AxisLineStyle {\n  length: number\n}\n\nexport interface AxisTickTextStyle extends StateTextStyle {\n  marginStart: number\n  marginEnd: number\n}\n\nexport interface AxisStyle {\n  show: boolean\n  size: number | 'auto'\n  axisLine: AxisLineStyle\n  tickLine: AxisTickLineStyle\n  tickText: AxisTickTextStyle\n}\n\nexport type XAxisStyle = AxisStyle\n\nfunction getDefaultXAxisStyle (): XAxisStyle {\n  return {\n    show: true,\n    size: 'auto',\n    axisLine: {\n      show: true,\n      color: '#DDDDDD',\n      size: 1\n    },\n    tickText: {\n      show: true,\n      color: '#76808F',\n      size: 12,\n      family: 'Helvetica Neue',\n      weight: 'normal',\n      marginStart: 4,\n      marginEnd: 4\n    },\n    tickLine: {\n      show: true,\n      size: 1,\n      length: 3,\n      color: '#DDDDDD'\n    }\n  }\n}\n\nexport const enum YAxisPosition {\n  LEFT = 'left',\n  RIGHT = 'right'\n}\n\nexport const enum YAxisType {\n  NORMAL = 'normal',\n  PERCENTAGE = 'percentage',\n  LOG = 'log'\n}\n\nexport interface YAxisStyle extends AxisStyle {\n  type: YAxisType\n  position: YAxisPosition\n  inside: boolean\n  reverse: boolean\n}\n\nfunction getDefaultYAxisStyle (): YAxisStyle {\n  return {\n    show: true,\n    size: 'auto',\n    type: YAxisType.NORMAL,\n    position: YAxisPosition.RIGHT,\n    inside: false,\n    reverse: false,\n    axisLine: {\n      show: true,\n      color: '#DDDDDD',\n      size: 1\n    },\n    tickText: {\n      show: true,\n      color: '#76808F',\n      size: 12,\n      family: 'Helvetica Neue',\n      weight: 'normal',\n      marginStart: 4,\n      marginEnd: 4\n    },\n    tickLine: {\n      show: true,\n      size: 1,\n      length: 3,\n      color: '#DDDDDD'\n    }\n  }\n}\n\nexport interface CrosshairDirectionStyle {\n  show: boolean\n  line: StateLineStyle\n  text: StateRectTextStyle\n}\n\nexport interface CrosshairStyle {\n  show: boolean\n  horizontal: CrosshairDirectionStyle\n  vertical: CrosshairDirectionStyle\n}\n\nfunction getDefaultCrosshairStyle (): CrosshairStyle {\n  return {\n    show: true,\n    horizontal: {\n      show: true,\n      line: {\n        show: true,\n        style: LineType.DASHED,\n        dashedValue: [4, 2],\n        size: 1,\n        color: '#76808F'\n      },\n      text: {\n        show: true,\n        style: PolygonType.FILL,\n        color: '#FFFFFF',\n        size: 12,\n        family: 'Helvetica Neue',\n        weight: 'normal',\n        borderStyle: LineType.SOLID,\n        borderDashedValue: [2, 2],\n        borderSize: 1,\n        borderColor: '#686D76',\n        borderRadius: 2,\n        paddingLeft: 4,\n        paddingRight: 4,\n        paddingTop: 4,\n        paddingBottom: 4,\n        backgroundColor: '#686D76'\n      }\n    },\n    vertical: {\n      show: true,\n      line: {\n        show: true,\n        style: LineType.DASHED,\n        dashedValue: [4, 2],\n        size: 1,\n        color: '#76808F'\n      },\n      text: {\n        show: true,\n        style: PolygonType.FILL,\n        color: '#FFFFFF',\n        size: 12,\n        family: 'Helvetica Neue',\n        weight: 'normal',\n        borderStyle: LineType.SOLID,\n        borderDashedValue: [2, 2],\n        borderSize: 1,\n        borderRadius: 2,\n        borderColor: '#686D76',\n        paddingLeft: 4,\n        paddingRight: 4,\n        paddingTop: 4,\n        paddingBottom: 4,\n        backgroundColor: '#686D76'\n      }\n    }\n  }\n}\n\nexport interface OverlayPointStyle {\n  color: string\n  borderColor: string\n  borderSize: number\n  radius: number\n  activeColor: string\n  activeBorderColor: string\n  activeBorderSize: number\n  activeRadius: number\n}\n\nexport interface OverlayStyle {\n  point: OverlayPointStyle\n  line: SmoothLineStyle\n  rect: RectStyle\n  polygon: PolygonStyle\n  circle: PolygonStyle\n  arc: LineStyle\n  text: TextStyle\n  rectText: RectTextStyle\n}\n\nfunction getDefaultOverlayStyle (): OverlayStyle {\n  return {\n    point: {\n      color: '#1677FF',\n      borderColor: 'rgba(22, 119, 255, 0.35)',\n      borderSize: 1,\n      radius: 5,\n      activeColor: '#1677FF',\n      activeBorderColor: 'rgba(22, 119, 255, 0.35)',\n      activeBorderSize: 3,\n      activeRadius: 5\n    },\n    line: {\n      style: LineType.SOLID,\n      smooth: false,\n      color: '#1677FF',\n      size: 1,\n      dashedValue: [2, 2]\n    },\n    rect: {\n      style: PolygonType.FILL,\n      color: 'rgba(22, 119, 255, 0.25)',\n      borderColor: '#1677FF',\n      borderSize: 1,\n      borderRadius: 0,\n      borderStyle: LineType.SOLID,\n      borderDashedValue: [2, 2]\n    },\n    polygon: {\n      style: PolygonType.FILL,\n      color: '#1677FF',\n      borderColor: '#1677FF',\n      borderSize: 1,\n      borderStyle: LineType.SOLID,\n      borderDashedValue: [2, 2]\n    },\n    circle: {\n      style: PolygonType.FILL,\n      color: 'rgba(22, 119, 255, 0.25)',\n      borderColor: '#1677FF',\n      borderSize: 1,\n      borderStyle: LineType.SOLID,\n      borderDashedValue: [2, 2]\n    },\n    arc: {\n      style: LineType.SOLID,\n      color: '#1677FF',\n      size: 1,\n      dashedValue: [2, 2]\n    },\n    text: {\n      color: '#1677FF',\n      size: 12,\n      family: 'Helvetica Neue',\n      weight: 'normal'\n    },\n    rectText: {\n      style: PolygonType.FILL,\n      color: '#FFFFFF',\n      size: 12,\n      family: 'Helvetica Neue',\n      weight: 'normal',\n      borderStyle: LineType.SOLID,\n      borderDashedValue: [2, 2],\n      borderSize: 1,\n      borderRadius: 2,\n      borderColor: '#1677FF',\n      paddingLeft: 4,\n      paddingRight: 4,\n      paddingTop: 4,\n      paddingBottom: 4,\n      backgroundColor: '#1677FF'\n    }\n  }\n}\n\nexport interface SeparatorStyle {\n  size: number\n  color: string\n  fill: boolean\n  activeBackgroundColor: string\n}\n\nfunction getDefaultSeparatorStyle (): SeparatorStyle {\n  return {\n    size: 1,\n    color: '#DDDDDD',\n    fill: true,\n    activeBackgroundColor: 'rgba(33, 150, 243, 0.08)'\n  }\n}\n\nexport interface Styles {\n  grid: GridStyle\n  candle: CandleStyle\n  indicator: IndicatorStyle\n  xAxis: XAxisStyle\n  yAxis: YAxisStyle\n  separator: SeparatorStyle\n  crosshair: CrosshairStyle\n  overlay: OverlayStyle\n}\n\nexport function getDefaultStyles (): Styles {\n  return {\n    grid: getDefaultGridStyle(),\n    candle: getDefaultCandleStyle(),\n    indicator: getDefaultIndicatorStyle(),\n    xAxis: getDefaultXAxisStyle(),\n    yAxis: getDefaultYAxisStyle(),\n    separator: getDefaultSeparatorStyle(),\n    crosshair: getDefaultCrosshairStyle(),\n    overlay: getDefaultOverlayStyle()\n  }\n}\n\nexport const enum FormatDateType {\n  TOOLTIP,\n  CROSSHAIR,\n  XAXIS\n}\n\nexport type FormatDate = (dateTimeFormat: Intl.DateTimeFormat, timestamp: number, format: string, type: FormatDateType) => string\n\nexport type FormatBigNumber = (value: string | number) => string\n\nexport interface CustomApi {\n  formatDate: FormatDate\n  formatBigNumber: FormatBigNumber\n}\n\nexport function getDefaultCustomApi (): CustomApi {\n  return {\n    formatDate,\n    formatBigNumber\n  }\n}\n\nexport const defaultLocale = 'en-US'\n\nexport interface Locales {\n  time: string\n  open: string\n  high: string\n  low: string\n  close: string\n  volume: string\n}\n\nexport interface Options {\n  locale?: string\n  timezone?: string\n  styles?: string | DeepPartial<Styles>\n  customApi?: Partial<CustomApi>\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Nullable from '../common/Nullable'\nimport Coordinate from '../common/Coordinate'\nimport KLineData from '../common/KLineData'\nimport BarSpace from '../common/BarSpace'\nimport VisibleRange from '../common/VisibleRange'\nimport LoadMoreCallback from '../common/LoadMoreCallback'\nimport { ActionType } from '../common/Action'\n\nimport { logWarn } from '../common/utils/logger'\nimport { binarySearchNearest } from '../common/utils/number'\n\nimport ChartStore from './ChartStore'\n\ninterface MinVisibleBarCount {\n  left: number\n  right: number\n}\n\nconst BarSpaceLimitContants = {\n  MIN: 1,\n  MAX: 50\n}\n\nconst DEFAULT_BAR_SPACE = 6\n\nconst DEFAULT_OFFSET_RIGHT_DISTANCE = 50\n\nexport default class TimeScaleStore {\n  /**\n   * Root store\n   */\n  private readonly _chartStore: ChartStore\n\n  /**\n   * Time foramt\n   */\n  private _dateTimeFormat: Intl.DateTimeFormat = this._buildDateTimeFormat() as Intl.DateTimeFormat\n\n  /**\n   * Scale enabled flag\n   */\n  private _zoomEnabled: boolean = true\n\n  /**\n   * Scroll enabled flag\n   */\n  private _scrollEnabled: boolean = true\n\n  /**\n   * Is loding data flag\n   */\n  private _loading: boolean = true\n\n  /**\n   * Load more data callback\n   */\n  private _loadMoreCallback: Nullable<LoadMoreCallback> = null\n\n  /**\n   * Whether there are more flag\n   */\n  private _more: boolean = true\n\n  /**\n   * Total space of drawing area\n   */\n  private _totalBarSpace: number = 0\n\n  /**\n   * Space occupied by a single piece of data\n   */\n  private _barSpace: number = DEFAULT_BAR_SPACE\n\n  /**\n   * The space of the draw bar\n   */\n  private _gapBarSpace: number\n\n  /**\n   * Distance from the last data to the right of the drawing area\n   */\n  private _offsetRightDistance = DEFAULT_OFFSET_RIGHT_DISTANCE\n\n  /**\n   * The number of bar calculated from the distance of the last data to the right of the drawing area\n   */\n  private _offsetRightBarCount: number\n\n  /**\n   * The number of bar to the right of the drawing area from the last data when scrolling starts\n   */\n  private _startScrollOffsetRightBarCount = 0\n\n  /**\n   * Scroll to the leftmost and rightmost visible bar\n   */\n  private readonly _minVisibleBarCount: MinVisibleBarCount = { left: 2, right: 2 }\n\n  /**\n   * Start and end points of visible area data index\n   */\n  private _visibleRange: VisibleRange = { from: 0, to: 0 }\n\n  constructor (chartStore: ChartStore) {\n    this._chartStore = chartStore\n    this._gapBarSpace = this._calcGapBarSpace()\n    this._offsetRightBarCount = this._offsetRightDistance / this._barSpace\n  }\n\n  private _calcGapBarSpace (): number {\n    const rateSpace = Math.floor(this._barSpace * 0.82)\n    const floorSpace = Math.floor(this._barSpace)\n    const optimalSpace = Math.min(rateSpace, floorSpace - 1)\n    return Math.max(1, optimalSpace)\n  }\n\n  /**\n   * adjust visible range\n   */\n  adjustVisibleRange (): void {\n    const dataList = this._chartStore.getDataList()\n    const dataCount = dataList.length\n    const barCount = this._totalBarSpace / this._barSpace\n    const maxRightOffsetBarCount = barCount - Math.min(this._minVisibleBarCount.left, dataCount)\n    if (this._offsetRightBarCount > maxRightOffsetBarCount) {\n      this._offsetRightBarCount = maxRightOffsetBarCount\n    }\n\n    const minRightOffsetBarCount = -dataCount + Math.min(this._minVisibleBarCount.right, dataCount)\n    if (this._offsetRightBarCount < minRightOffsetBarCount) {\n      this._offsetRightBarCount = minRightOffsetBarCount\n    }\n    let to = Math.round(this._offsetRightBarCount + dataCount + 0.5)\n    if (to > dataCount) {\n      to = dataCount\n    }\n    let from = Math.round(to - barCount) - 1\n    if (from < 0) {\n      from = 0\n    }\n    this._visibleRange = { from, to }\n    this._chartStore.getActionStore().execute(ActionType.onVisibleRangeChange, { from, to })\n    this._chartStore.adjustVisibleDataList()\n    // More processing and loading, more loading if there are callback methods and no data is being loaded\n    if (from === 0 && this._more && !this._loading && this._loadMoreCallback !== null) {\n      this._loading = true\n      const firstData = dataList[0]\n      this._loadMoreCallback(firstData?.timestamp ?? null)\n    }\n  }\n\n  setMore (more: boolean): TimeScaleStore {\n    this._more = more\n    return this\n  }\n\n  setLoading (loading: boolean): TimeScaleStore {\n    this._loading = loading\n    return this\n  }\n\n  getDateTimeFormat (): Intl.DateTimeFormat {\n    return this._dateTimeFormat\n  }\n\n  _buildDateTimeFormat (timezone?: string): Nullable<Intl.DateTimeFormat> {\n    const options: Intl.DateTimeFormatOptions = {\n      hour12: false,\n      year: 'numeric',\n      month: '2-digit',\n      day: '2-digit',\n      hour: '2-digit',\n      minute: '2-digit',\n      second: '2-digit'\n    }\n    if (timezone !== undefined) {\n      options.timeZone = timezone\n    }\n    let dateTimeFormat: Nullable<Intl.DateTimeFormat> = null\n    try {\n      dateTimeFormat = new Intl.DateTimeFormat('en', options)\n    } catch (e) {\n      logWarn('', '', 'Timezone is error!!!')\n    }\n    return dateTimeFormat\n  }\n\n  setTimezone (timezone: string): void {\n    const dateTimeFormat: Nullable<Intl.DateTimeFormat> = this._buildDateTimeFormat(timezone)\n    if (dateTimeFormat !== null) {\n      this._dateTimeFormat = dateTimeFormat\n    }\n  }\n\n  getTimezone (): string {\n    return this._dateTimeFormat.resolvedOptions().timeZone\n  }\n\n  getBarSpace (): BarSpace {\n    return {\n      bar: this._barSpace,\n      halfBar: this._barSpace / 2,\n      gapBar: this._gapBarSpace,\n      halfGapBar: this._gapBarSpace / 2\n    }\n  }\n\n  setBarSpace (barSpace: number, adjustBeforeFunc?: () => void): void {\n    if (barSpace < BarSpaceLimitContants.MIN || barSpace > BarSpaceLimitContants.MAX || this._barSpace === barSpace) {\n      return\n    }\n    this._barSpace = barSpace\n    this._gapBarSpace = this._calcGapBarSpace()\n    adjustBeforeFunc?.()\n    this.adjustVisibleRange()\n    this._chartStore.getCrosshairStore().recalculate(true)\n    this._chartStore.getChart().adjustPaneViewport(false, true, true, true)\n  }\n\n  setTotalBarSpace (totalSpace: number): TimeScaleStore {\n    if (this._totalBarSpace !== totalSpace) {\n      this._totalBarSpace = totalSpace\n      this.adjustVisibleRange()\n      this._chartStore.getCrosshairStore().recalculate(true)\n    }\n    return this\n  }\n\n  setOffsetRightDistance (distance: number, isUpdate?: boolean): TimeScaleStore {\n    this._offsetRightDistance = distance\n    this._offsetRightBarCount = distance / this._barSpace\n    if (isUpdate ?? false) {\n      this.adjustVisibleRange()\n      this._chartStore.getCrosshairStore().recalculate(true)\n      this._chartStore.getChart().adjustPaneViewport(false, true, true, true)\n    }\n    return this\n  }\n\n  resetOffsetRightDistance (): void {\n    this.setOffsetRightDistance(this._offsetRightDistance)\n  }\n\n  getOffsetRightDistance (): number {\n    return this._offsetRightDistance\n  }\n\n  getOffsetRightBarCount (): number {\n    return this._offsetRightBarCount\n  }\n\n  setOffsetRightBarCount (barCount: number): TimeScaleStore {\n    this._offsetRightBarCount = barCount\n    return this\n  }\n\n  setLeftMinVisibleBarCount (barCount: number): TimeScaleStore {\n    this._minVisibleBarCount.left = barCount\n    return this\n  }\n\n  setRightMinVisibleBarCount (barCount: number): TimeScaleStore {\n    this._minVisibleBarCount.right = barCount\n    return this\n  }\n\n  getVisibleRange (): VisibleRange {\n    return this._visibleRange\n  }\n\n  startScroll (): void {\n    this._startScrollOffsetRightBarCount = this._offsetRightBarCount\n  }\n\n  scroll (distance: number): void {\n    if (!this._scrollEnabled) {\n      return\n    }\n    const distanceBarCount = distance / this._barSpace\n    this._chartStore.getActionStore().execute(ActionType.onScroll)\n    this._offsetRightBarCount = this._startScrollOffsetRightBarCount - distanceBarCount\n    this.adjustVisibleRange()\n    this._chartStore.getCrosshairStore().recalculate(true)\n    this._chartStore.getChart().adjustPaneViewport(false, true, true, true)\n  }\n\n  getDataByDataIndex (dataIndex: number): Nullable<KLineData> {\n    return this._chartStore.getDataList()[dataIndex] ?? null\n  }\n\n  coordinateToFloatIndex (x: number): number {\n    const dataCount = this._chartStore.getDataList().length\n    const deltaFromRight = (this._totalBarSpace - x) / this._barSpace\n    const index = dataCount + this._offsetRightBarCount - deltaFromRight\n    return Math.round(index * 1000000) / 1000000\n  }\n\n  dataIndexToTimestamp (dataIndex: number): Nullable<number> {\n    const data = this.getDataByDataIndex(dataIndex)\n    return data?.timestamp ?? null\n  }\n\n  timestampToDataIndex (timestamp: number): number {\n    const dataList = this._chartStore.getDataList()\n    if (dataList.length === 0) {\n      return 0\n    }\n    return binarySearchNearest(dataList, 'timestamp', timestamp)\n  }\n\n  dataIndexToCoordinate (dataIndex: number): number {\n    const dataCount = this._chartStore.getDataList().length\n    const deltaFromRight = dataCount + this._offsetRightBarCount - dataIndex\n    return this._totalBarSpace - (deltaFromRight - 0.5) * this._barSpace\n  }\n\n  coordinateToDataIndex (x: number): number {\n    return Math.ceil(this.coordinateToFloatIndex(x)) - 1\n  }\n\n  zoom (scale: number, coordinate?: Partial<Coordinate>): void {\n    if (!this._zoomEnabled) {\n      return\n    }\n    if (coordinate?.x === undefined) {\n      const crosshair = this._chartStore.getCrosshairStore().get()\n      coordinate = { x: crosshair?.x !== undefined ? crosshair.x : this._totalBarSpace / 2 }\n    }\n    this._chartStore.getActionStore().execute(ActionType.onZoom)\n    const floatIndex = this.coordinateToFloatIndex(coordinate.x as number)\n    const barSpace = this._barSpace + scale * (this._barSpace / 10)\n    this.setBarSpace(barSpace, () => {\n      this._offsetRightBarCount += (floatIndex - this.coordinateToFloatIndex(coordinate?.x as number))\n    })\n  }\n\n  setZoomEnabled (enabled: boolean): TimeScaleStore {\n    this._zoomEnabled = enabled\n    return this\n  }\n\n  getZoomEnabled (): boolean {\n    return this._zoomEnabled\n  }\n\n  setScrollEnabled (enabled: boolean): TimeScaleStore {\n    this._scrollEnabled = enabled\n    return this\n  }\n\n  getScrollEnabled (): boolean {\n    return this._scrollEnabled\n  }\n\n  setLoadMoreCallback (callback: LoadMoreCallback): TimeScaleStore {\n    this._loadMoreCallback = callback\n    return this\n  }\n\n  clear (): void {\n    this._more = true\n    this._loading = true\n    this._visibleRange = { from: 0, to: 0 }\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Nullable from '../common/Nullable'\nimport ExcludePickPartial from '../common/ExcludePickPartial'\nimport KLineData from '../common/KLineData'\nimport Bounding from '../common/Bounding'\nimport VisibleRange from '../common/VisibleRange'\nimport BarSpace from '../common/BarSpace'\nimport Crosshair from '../common/Crosshair'\nimport { IndicatorStyle, IndicatorPolygonStyle, SmoothLineStyle, LineType, PolygonType, TooltipData } from '../common/Options'\n\nimport { XAxis } from './XAxis'\nimport { YAxis } from './YAxis'\n\nimport { formatValue } from '../common/utils/format'\nimport { isValid } from '../common/utils/typeChecks'\n\nexport const enum IndicatorSeries {\n  NORMAL = 'normal',\n  PRICE = 'price',\n  VOLUME = 'volume'\n}\n\nexport interface IndicatorFigureStyle {\n  style?: LineType[keyof LineType] | PolygonType[keyof PolygonType]\n  color?: string\n}\n\nexport interface IndicatorFigureStylesCallbackDataChild<D> {\n  kLineData?: KLineData\n  indicatorData?: D\n}\n\nexport interface IndicatorFigureStylesCallbackData<D> {\n  prev: IndicatorFigureStylesCallbackDataChild<D>\n  current: IndicatorFigureStylesCallbackDataChild<D>\n  next: IndicatorFigureStylesCallbackDataChild<D>\n}\n\nexport type IndicatorFigureStylesCallback<D> = (data: IndicatorFigureStylesCallbackData<D>, indicator: Indicator<D>, defaultStyles: IndicatorStyle) => IndicatorFigureStyle\n\nexport interface IndicatorFigure<D = any> {\n  key: string\n  title?: string\n  type?: string\n  baseValue?: number\n  styles?: IndicatorFigureStylesCallback<D>\n}\n\nexport type IndicatorRegenerateFiguresCallback<D = any> = (calcParms: any[]) => Array<IndicatorFigure<D>>\n\nexport interface IndicatorTooltipData {\n  name?: string\n  calcParamsText?: string\n  values?: TooltipData[]\n}\n\nexport interface IndicatorCreateTooltipDataSourceParams<D = any> {\n  kLineDataList: KLineData[]\n  indicator: Indicator<D>\n  visibleRange: VisibleRange\n  bounding: Bounding\n  crosshair: Crosshair\n  defaultStyles: IndicatorStyle\n  xAxis: XAxis\n  yAxis: YAxis\n}\n\nexport type IndicatorCreateTooltipDataSourceCallback<D = any> = (params: IndicatorCreateTooltipDataSourceParams<D>) => IndicatorTooltipData\n\nexport interface IndicatorDrawParams<D = any> {\n  ctx: CanvasRenderingContext2D\n  kLineDataList: KLineData[]\n  indicator: Indicator<D>\n  visibleRange: VisibleRange\n  bounding: Bounding\n  barSpace: BarSpace\n  defaultStyles: IndicatorStyle\n  xAxis: XAxis\n  yAxis: YAxis\n}\n\nexport type IndicatorDrawCallback<D = any> = (params: IndicatorDrawParams<D>) => boolean\nexport type IndicatorCalcCallback<D> = (dataList: KLineData[], indicator: Indicator<D>) => Promise<D[]> | D[]\n\nexport interface Indicator<D = any> {\n  /**\n   * Indicator name\n   */\n  name: string\n\n  /**\n   * Short name, for display\n   */\n  shortName: string\n\n  /**\n   * Precision\n   */\n  precision: number\n\n  /**\n   * Calculation parameters\n   */\n  calcParams: any[]\n\n  /**\n   * Whether ohlc column is required\n   */\n  shouldOhlc: boolean\n\n  /**\n   * Whether large data values need to be formatted, starting from 1000, for example, whether 100000 needs to be formatted with 100K\n   */\n  shouldFormatBigNumber: boolean\n\n  /**\n   * Extend data\n   */\n  extendData: any\n\n  /**\n   * Indicator series\n   */\n  series: IndicatorSeries\n\n  /**\n   * Figure configuration information\n   */\n  figures: Array<IndicatorFigure<D>>\n\n  /**\n   * Specified minimum value\n   */\n  minValue: Nullable<number>\n\n  /**\n   * Specified maximum value\n   */\n  maxValue: Nullable<number>\n\n  /**\n   * Style configuration\n   */\n  styles: Nullable<Partial<IndicatorStyle>>\n\n  /**\n   * Indicator calculation\n   */\n  calc: IndicatorCalcCallback<D>\n\n  /**\n   * Regenerate figure configuration\n   */\n  regenerateFigures: Nullable<IndicatorRegenerateFiguresCallback<D>>\n\n  /**\n   * Create custom tooltip text\n   */\n  createTooltipDataSource: Nullable<IndicatorCreateTooltipDataSourceCallback>\n\n  /**\n   * Custom draw\n   */\n  draw: Nullable<IndicatorDrawCallback<D>>\n\n  /**\n   * Calculation result\n   */\n  result: D[]\n}\n\nexport type IndicatorTemplate<D = any> = ExcludePickPartial<Omit<Indicator<D>, 'reult'>, 'name' | 'calc'>\n\nexport type IndicatorCreate<D = any> = ExcludePickPartial<Omit<Indicator<D>, 'reult'>, 'name'>\n\nexport type IndicatorConstructor<D = any> = new () => IndicatorImp<D>\n\nexport type EachFigureCallback = (figure: IndicatorFigure, figureStyles: Required<IndicatorFigureStyle>, defaultFigureStyles: any, count: number) => void\n\nexport function eachFigures<D> (\n  kLineDataList: KLineData[],\n  indicator: Indicator<D>,\n  dataIndex: number,\n  defaultStyles: IndicatorStyle,\n  eachFigureCallback: EachFigureCallback\n): void {\n  const result = indicator.result\n  const figures = indicator.figures\n  const styles = indicator.styles\n\n  const circleStyles = formatValue(styles, 'circles', defaultStyles.circles) as IndicatorPolygonStyle[]\n  const circleStyleCount = circleStyles.length\n\n  const barStyles = formatValue(styles, 'bars', defaultStyles.bars) as IndicatorPolygonStyle[]\n  const barStyleCount = barStyles.length\n\n  const lineStyles = formatValue(styles, 'lines', defaultStyles.lines) as SmoothLineStyle[]\n  const lineStyleCount = lineStyles.length\n\n  let circleCount = 0\n  let barCount = 0\n  let lineCount = 0\n\n  let typeCount = 0\n\n  let defaultFigureStyles\n  let defaultFigureStyle\n  let defaultFigureColor\n  figures.forEach(figure => {\n    switch (figure.type) {\n      case 'circle': {\n        defaultFigureStyles = circleStyles[circleCount % circleStyleCount]\n        defaultFigureStyle = defaultFigureStyles.style\n        defaultFigureColor = defaultFigureStyles.noChangeColor\n        typeCount = circleCount\n        circleCount++\n        break\n      }\n      case 'bar': {\n        defaultFigureStyles = barStyles[barCount % barStyleCount]\n        defaultFigureStyle = defaultFigureStyles.style\n        defaultFigureColor = defaultFigureStyles.noChangeColor\n        typeCount = barCount\n        barCount++\n        break\n      }\n      case 'line': {\n        defaultFigureStyles = lineStyles[lineCount % lineStyleCount]\n        defaultFigureStyle = defaultFigureStyles.style\n        defaultFigureColor = defaultFigureStyles.color\n        typeCount = lineCount\n        lineCount++\n        break\n      }\n      default: { break }\n    }\n    if (isValid(defaultFigureStyles)) {\n      const cbData = {\n        prev: { kLineData: kLineDataList[dataIndex - 1], indicatorData: result[dataIndex - 1] },\n        current: { kLineData: kLineDataList[dataIndex], indicatorData: result[dataIndex] },\n        next: { kLineData: kLineDataList[dataIndex + 1], indicatorData: result[dataIndex + 1] }\n      }\n      const figureStyles = figure.styles?.(cbData, indicator, defaultStyles) ?? { style: defaultFigureStyle, color: defaultFigureColor }\n      eachFigureCallback(figure, {\n        style: (figureStyles.style ?? defaultFigureStyle) as (LineType & PolygonType),\n        color: figureStyles.color ?? defaultFigureColor\n      }, defaultFigureStyles, typeCount)\n    }\n  })\n}\n\nexport default abstract class IndicatorImp<D = any> implements Indicator<D> {\n  name: string\n  shortName: string\n  precision: number\n  calcParams: any[]\n  shouldOhlc: boolean\n  shouldFormatBigNumber: boolean\n  extendData: any\n  series: IndicatorSeries\n  figures: Array<IndicatorFigure<D>>\n  minValue: Nullable<number>\n  maxValue: Nullable<number>\n  styles: Nullable<Partial<IndicatorStyle>>\n  regenerateFigures: Nullable<IndicatorRegenerateFiguresCallback<D>>\n  createTooltipDataSource: Nullable<IndicatorCreateTooltipDataSourceCallback>\n  draw: Nullable<IndicatorDrawCallback<D>>\n\n  result: D[] = []\n\n  private _precisionFlag: boolean = false\n\n  constructor (indicator: IndicatorTemplate) {\n    const {\n      name, shortName, series, calcParams, figures, precision,\n      shouldOhlc, shouldFormatBigNumber,\n      minValue, maxValue, styles, extendData,\n      regenerateFigures, createTooltipDataSource, draw\n    } = indicator\n    this.name = name\n    this.shortName = shortName ?? name\n    this.series = series ?? IndicatorSeries.NORMAL\n    this.precision = precision ?? 4\n    this.calcParams = calcParams ?? []\n    this.figures = figures ?? []\n    this.shouldOhlc = shouldOhlc ?? false\n    this.shouldFormatBigNumber = shouldFormatBigNumber ?? false\n    this.minValue = minValue ?? null\n    this.maxValue = maxValue ?? null\n    this.styles = styles ?? null\n    this.extendData = extendData\n    this.regenerateFigures = regenerateFigures ?? null\n    this.createTooltipDataSource = createTooltipDataSource ?? null\n    this.draw = draw ?? null\n  }\n\n  setShortName (shortName: string): boolean {\n    if (this.shortName !== shortName) {\n      this.shortName = shortName\n      return true\n    }\n    return false\n  }\n\n  setSeries (series: IndicatorSeries): boolean {\n    if (this.series !== series) {\n      this.series = series\n      return true\n    }\n    return false\n  }\n\n  setPrecision (precision: number, flag?: boolean): boolean {\n    const f = flag ?? false\n    const optimalPrecision = Math.floor(precision)\n    if (optimalPrecision !== this.precision && precision >= 0 && (!f || (f && !this._precisionFlag))) {\n      this.precision = optimalPrecision\n      if (!f) {\n        this._precisionFlag = true\n      }\n      return true\n    }\n    return false\n  }\n\n  setCalcParams (params: any[]): boolean {\n    this.calcParams = params\n    this.figures = this.regenerateFigures?.(params) ?? this.figures\n    return true\n  }\n\n  setShouldOhlc (shouldOhlc: boolean): boolean {\n    if (this.shouldOhlc !== shouldOhlc) {\n      this.shouldOhlc = shouldOhlc\n      return true\n    }\n    return false\n  }\n\n  setShouldFormatBigNumber (shouldFormatBigNumber: boolean): boolean {\n    if (this.shouldFormatBigNumber !== shouldFormatBigNumber) {\n      this.shouldFormatBigNumber = shouldFormatBigNumber\n      return true\n    }\n    return false\n  }\n\n  setStyles (styles: Nullable<Partial<IndicatorStyle>>): boolean {\n    if (this.styles !== styles) {\n      this.styles = styles\n      return true\n    }\n    return false\n  }\n\n  setExtendData (extendData: any): boolean {\n    if (this.extendData !== extendData) {\n      this.extendData = extendData\n      return true\n    }\n    return false\n  }\n\n  setFigures (figures: IndicatorFigure[]): boolean {\n    if (this.figures !== figures) {\n      this.figures = figures\n      return true\n    }\n    return false\n  }\n\n  setMinValue (value: Nullable<number>): boolean {\n    if (this.minValue !== value) {\n      this.minValue = value\n      return true\n    }\n    return false\n  }\n\n  setMaxValue (value: Nullable<number>): boolean {\n    if (this.maxValue !== value) {\n      this.maxValue = value\n      return true\n    }\n    return false\n  }\n\n  setRegenerateFigures (callback: Nullable<IndicatorRegenerateFiguresCallback>): boolean {\n    if (this.regenerateFigures !== callback) {\n      this.regenerateFigures = callback\n      return true\n    }\n    return false\n  }\n\n  setCreateTooltipDataSource (callback: Nullable<IndicatorCreateTooltipDataSourceCallback>): boolean {\n    if (this.createTooltipDataSource !== callback) {\n      this.createTooltipDataSource = callback\n      return true\n    }\n    return false\n  }\n\n  setDraw (callback: Nullable<IndicatorDrawCallback>): boolean {\n    if (this.draw !== callback) {\n      this.draw = callback\n      return true\n    }\n    return false\n  }\n\n  async calcIndicator (dataList: KLineData[]): Promise<boolean> {\n    try {\n      const result = await this.calc(dataList, this)\n      this.result = result\n      return true\n    } catch (e) {\n      return false\n    }\n  }\n\n  abstract calc (dataList: KLineData[], indicator: Indicator<D>): D[] | Promise<D[]>\n\n  static extend<D> (template: IndicatorTemplate): IndicatorConstructor<D> {\n    class Custom extends IndicatorImp<D> {\n      constructor () {\n        super(template)\n      }\n\n      calc (dataList: KLineData[], indicator: Indicator<D>): D[] | Promise<D[]> {\n        return template.calc(dataList, indicator)\n      }\n    }\n    return Custom\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport KLineData from '../../common/KLineData'\nimport { IndicatorTemplate, IndicatorSeries } from '../../component/Indicator'\n\ninterface Avp {\n  avp?: number\n}\n\n/**\n * averager price\n */\nconst averagePrice: IndicatorTemplate<Avp> = {\n  name: 'AVP',\n  shortName: 'AVP',\n  series: IndicatorSeries.PRICE,\n  precision: 2,\n  figures: [\n    { key: 'avp', title: 'AVP: ', type: 'line' }\n  ],\n  calc: (dataList: KLineData[]) => {\n    let totalTurnover = 0\n    let totalVolume = 0\n    return dataList.map((kLineData: KLineData) => {\n      const avp: Avp = {}\n      const turnover = kLineData?.turnover ?? 0\n      const volume = kLineData?.volume ?? 0\n      totalTurnover += turnover\n      totalVolume += volume\n      if (totalVolume !== 0) {\n        avp.avp = totalTurnover / totalVolume\n      }\n      return avp\n    })\n  }\n}\n\nexport default averagePrice\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport KLineData from '../../common/KLineData'\nimport { IndicatorStyle } from '../../common/Options'\nimport { formatValue } from '../../common/utils/format'\n\nimport { Indicator, IndicatorTemplate, IndicatorFigureStylesCallbackData } from '../../component/Indicator'\n\ninterface Ao {\n  ao?: number\n}\n\nconst awesomeOscillator: IndicatorTemplate<Ao> = {\n  name: 'AO',\n  shortName: 'AO',\n  calcParams: [5, 34],\n  figures: [{\n    key: 'ao',\n    title: 'AO: ',\n    type: 'bar',\n    baseValue: 0,\n    styles: (data: IndicatorFigureStylesCallbackData<Ao>, indicator: Indicator<Ao>, defaultStyles: IndicatorStyle) => {\n      const { prev, current } = data\n      const prevAo = prev.indicatorData?.ao ?? Number.MIN_SAFE_INTEGER\n      const currentAo = current.indicatorData?.ao ?? Number.MIN_SAFE_INTEGER\n      let color: string\n      if (currentAo > prevAo) {\n        color = formatValue(indicator.styles, 'bars[0].upColor', (defaultStyles.bars)[0].upColor) as string\n      } else {\n        color = formatValue(indicator.styles, 'bars[0].downColor', (defaultStyles.bars)[0].downColor) as string\n      }\n      const style = currentAo > prevAo ? 'stroke' : 'fill'\n      return { color, style }\n    }\n  }],\n  calc: (dataList: KLineData[], indicator: Indicator<Ao>) => {\n    const params = indicator.calcParams\n    const maxPeriod = Math.max(params[0], params[1])\n    let shortSum = 0\n    let longSum = 0\n    let short = 0\n    let long = 0\n    return dataList.map((kLineData: KLineData, i: number) => {\n      const ao: Ao = {}\n      const middle = (kLineData.low + kLineData.high) / 2\n      shortSum += middle\n      longSum += middle\n      if (i >= params[0] - 1) {\n        short = shortSum / params[0]\n        const agoKLineData = dataList[i - (params[0] - 1)]\n        shortSum -= ((agoKLineData.low + agoKLineData.high) / 2)\n      }\n      if (i >= params[1] - 1) {\n        long = longSum / params[1]\n        const agoKLineData = dataList[i - (params[1] - 1)]\n        longSum -= ((agoKLineData.low + agoKLineData.high) / 2)\n      }\n      if (i >= maxPeriod - 1) {\n        ao.ao = short - long\n      }\n      return ao\n    })\n  }\n}\n\nexport default awesomeOscillator\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport KLineData from '../../common/KLineData'\nimport { Indicator, IndicatorTemplate } from '../../component/Indicator'\n\ninterface Bias {\n  bias1?: number\n  bias2?: number\n  bias3?: number\n}\n\n/**\n * BIAS\n * 乖离率=[(当日收盘价-N日平均价)/N日平均价]*100%\n */\nconst bias: IndicatorTemplate<Bias> = {\n  name: 'BIAS',\n  shortName: 'BIAS',\n  calcParams: [6, 12, 24],\n  figures: [\n    { key: 'bias1', title: 'BIAS6: ', type: 'line' },\n    { key: 'bias2', title: 'BIAS12: ', type: 'line' },\n    { key: 'bias3', title: 'BIAS24: ', type: 'line' }\n  ],\n  regenerateFigures: (params: any[]) => {\n    return params.map((p: number, i: number) => {\n      return { key: `bias${i + 1}`, title: `BIAS${p}: `, type: 'line' }\n    })\n  },\n  calc: (dataList: KLineData[], indicator: Indicator<Bias>) => {\n    const { calcParams: params, figures } = indicator\n    const closeSums: number[] = []\n    return dataList.map((kLineData: KLineData, i: number) => {\n      const bias: Bias = {}\n      const close = kLineData.close\n      params.forEach((p, index) => {\n        closeSums[index] = (closeSums[index] ?? 0) + close\n        if (i >= p - 1) {\n          const mean = closeSums[index] / params[index]\n          bias[figures[index].key] = (close - mean) / mean * 100\n\n          closeSums[index] -= dataList[i - (p - 1)].close\n        }\n      })\n      return bias\n    })\n  }\n}\n\nexport default bias\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport KLineData from '../../common/KLineData'\nimport { Indicator, IndicatorTemplate, IndicatorSeries } from '../../component/Indicator'\n\ninterface Boll {\n  up?: number\n  mid?: number\n  dn?: number\n}\n\n/**\n * 计算布林指标中的标准差\n * @param dataList\n * @param ma\n * @return {number}\n */\nfunction getBollMd (dataList: KLineData[], ma: number): number {\n  const dataSize = dataList.length\n  let sum = 0\n  dataList.forEach(data => {\n    const closeMa = data.close - ma\n    sum += closeMa * closeMa\n  })\n  sum = Math.abs(sum)\n  return Math.sqrt(sum / dataSize)\n}\n\n/**\n * BOLL\n */\nconst bollingerBands: IndicatorTemplate<Boll> = {\n  name: 'BOLL',\n  shortName: 'BOLL',\n  series: IndicatorSeries.PRICE,\n  calcParams: [20, 2],\n  precision: 2,\n  shouldOhlc: true,\n  figures: [\n    { key: 'up', title: 'UP: ', type: 'line' },\n    { key: 'mid', title: 'MID: ', type: 'line' },\n    { key: 'dn', title: 'DN: ', type: 'line' }\n  ],\n  calc: (dataList: KLineData[], indicator: Indicator<Boll>) => {\n    const params = indicator.calcParams\n    const p = params[0] - 1\n    let closeSum = 0\n    return dataList.map((kLineData: KLineData, i: number) => {\n      const close = kLineData.close\n      const boll: Boll = {}\n      closeSum += close\n      if (i >= p) {\n        boll.mid = closeSum / params[0]\n        const md = getBollMd(dataList.slice(i - p, i + 1), boll.mid)\n        boll.up = boll.mid + params[1] * md\n        boll.dn = boll.mid - params[1] * md\n        closeSum -= dataList[i - p].close\n      }\n      return boll\n    })\n  }\n}\n\nexport default bollingerBands\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport KLineData from '../../common/KLineData'\nimport { Indicator, IndicatorTemplate } from '../../component/Indicator'\n\ninterface Brar {\n  br?: number\n  ar?: number\n}\n\n/**\n * BRAR\n * 默认参数是26。\n * 公式N日BR=N日内（H－CY）之和除以N日内（CY－L）之和*100，\n * 其中，H为当日最高价，L为当日最低价，CY为前一交易日的收盘价，N为设定的时间参数。\n * N日AR=(N日内（H－O）之和除以N日内（O－L）之和)*100，\n * 其中，H为当日最高价，L为当日最低价，O为当日开盘价，N为设定的时间参数\n *\n */\nconst brar: IndicatorTemplate<Brar> = {\n  name: 'BRAR',\n  shortName: 'BRAR',\n  calcParams: [26],\n  figures: [\n    { key: 'br', title: 'BR: ', type: 'line' },\n    { key: 'ar', title: 'AR: ', type: 'line' }\n  ],\n  calc: (dataList: KLineData[], indicator: Indicator<Brar>) => {\n    const params = indicator.calcParams\n    let hcy = 0\n    let cyl = 0\n    let ho = 0\n    let ol = 0\n    return dataList.map((kLineData: KLineData, i: number) => {\n      const brar: Brar = {}\n      const high = kLineData.high\n      const low = kLineData.low\n      const open = kLineData.open\n      const prevClose = (dataList[i - 1] ?? kLineData).close\n      ho += (high - open)\n      ol += (open - low)\n      hcy += (high - prevClose)\n      cyl += (prevClose - low)\n      if (i >= params[0] - 1) {\n        if (ol !== 0) {\n          brar.ar = ho / ol * 100\n        } else {\n          brar.ar = 0\n        }\n        if (cyl !== 0) {\n          brar.br = hcy / cyl * 100\n        } else {\n          brar.br = 0\n        }\n        const agoKLineData = dataList[i - (params[0] - 1)]\n        const agoHigh = agoKLineData.high\n        const agoLow = agoKLineData.low\n        const agoOpen = agoKLineData.open\n        const agoPreClose = (dataList[i - params[0]] ?? dataList[i - (params[0] - 1)]).close\n        hcy -= (agoHigh - agoPreClose)\n        cyl -= (agoPreClose - agoLow)\n        ho -= (agoHigh - agoOpen)\n        ol -= (agoOpen - agoLow)\n      }\n      return brar\n    })\n  }\n}\n\nexport default brar\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport KLineData from '../../common/KLineData'\nimport { Indicator, IndicatorTemplate, IndicatorSeries } from '../../component/Indicator'\n\ninterface Bbi {\n  bbi?: number\n}\n\n/**\n * 多空指标\n * 公式: BBI = (MA(CLOSE, M) + MA(CLOSE, N) + MA(CLOSE, O) + MA(CLOSE, P)) / 4\n *\n */\nconst bullAndBearIndex: IndicatorTemplate<Bbi> = {\n  name: 'BBI',\n  shortName: 'BBI',\n  series: IndicatorSeries.PRICE,\n  precision: 2,\n  calcParams: [3, 6, 12, 24],\n  shouldOhlc: true,\n  figures: [\n    { key: 'bbi', title: 'BBI: ', type: 'line' }\n  ],\n  calc: (dataList: KLineData[], indicator: Indicator<Bbi>) => {\n    const params = indicator.calcParams\n    const maxPeriod = Math.max(...params)\n    const closeSums: number[] = []\n    const mas: number[] = []\n    return dataList.map((kLineData: KLineData, i: number) => {\n      const bbi: Bbi = {}\n      const close = kLineData.close\n      params.forEach((p: number, index: number) => {\n        closeSums[index] = (closeSums[index] ?? 0) + close\n        if (i >= p - 1) {\n          mas[index] = closeSums[index] / p\n          closeSums[index] -= dataList[i - (p - 1)].close\n        }\n      })\n      if (i >= maxPeriod - 1) {\n        let maSum = 0\n        mas.forEach(ma => {\n          maSum += ma\n        })\n        bbi.bbi = maSum / 4\n      }\n      return bbi\n    })\n  }\n}\n\nexport default bullAndBearIndex\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport KLineData from '../../common/KLineData'\nimport { Indicator, IndicatorTemplate } from '../../component/Indicator'\n\ninterface Cci {\n  cci?: number\n}\n\n/**\n * CCI\n * CCI（N日）=（TP－MA）÷MD÷0.015\n * 其中，TP=（最高价+最低价+收盘价）÷3\n * MA=近N日TP价的累计之和÷N\n * MD=近N日TP - 当前MA绝对值的累计之和÷N\n *\n */\nconst commodityChannelIndex: IndicatorTemplate<Cci> = {\n  name: 'CCI',\n  shortName: 'CCI',\n  calcParams: [20],\n  figures: [\n    { key: 'cci', title: 'CCI: ', type: 'line' }\n  ],\n  calc: (dataList: KLineData[], indicator: Indicator<Cci>) => {\n    const params = indicator.calcParams\n    const p = params[0] - 1\n    let tpSum = 0\n    const tpList: number[] = []\n    return dataList.map((kLineData: KLineData, i: number) => {\n      const cci: Cci = {}\n      const tp = (kLineData.high + kLineData.low + kLineData.close) / 3\n      tpSum += tp\n      tpList.push(tp)\n      if (i >= p) {\n        const maTp = tpSum / params[0]\n        const sliceTpList = tpList.slice(i - p, i + 1)\n        let sum = 0\n        sliceTpList.forEach(tp => {\n          sum += Math.abs(tp - maTp)\n        })\n        const md = sum / params[0]\n        cci.cci = md !== 0 ? (tp - maTp) / md / 0.015 : 0\n        const agoTp = (dataList[i - p].high + dataList[i - p].low + dataList[i - p].close) / 3\n        tpSum -= agoTp\n      }\n      return cci\n    })\n  }\n}\n\nexport default commodityChannelIndex\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http:*www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport KLineData from '../../common/KLineData'\nimport { Indicator, IndicatorTemplate } from '../../component/Indicator'\n\ninterface Cr {\n  cr?: number\n  ma1?: number\n  ma2?: number\n  ma3?: number\n  ma4?: number\n}\n\n/**\n * MID:=REF(HIGH+LOW,1)/2;\n * CR:SUM(MAX(0,HIGH-MID),N)/SUM(MAX(0,MID-LOW),N)*100;\n * MA1:REF(MA(CR,M1),M1/2.5+1);\n * MA2:REF(MA(CR,M2),M2/2.5+1);\n * MA3:REF(MA(CR,M3),M3/2.5+1);\n * MA4:REF(MA(CR,M4),M4/2.5+1);\n * MID赋值:(昨日最高价+昨日最低价)/2\n * 输出带状能量线:0和最高价-MID的较大值的N日累和/0和MID-最低价的较大值的N日累和*100\n * 输出MA1:M1(5)/2.5+1日前的CR的M1(5)日简单移动平均\n * 输出MA2:M2(10)/2.5+1日前的CR的M2(10)日简单移动平均\n * 输出MA3:M3(20)/2.5+1日前的CR的M3(20)日简单移动平均\n * 输出MA4:M4/2.5+1日前的CR的M4日简单移动平均\n *\n */\nconst currentRatio: IndicatorTemplate<Cr> = {\n  name: 'CR',\n  shortName: 'CR',\n  calcParams: [26, 10, 20, 40, 60],\n  figures: [\n    { key: 'cr', title: 'CR: ', type: 'line' },\n    { key: 'ma1', title: 'MA1: ', type: 'line' },\n    { key: 'ma2', title: 'MA2: ', type: 'line' },\n    { key: 'ma3', title: 'MA3: ', type: 'line' },\n    { key: 'ma4', title: 'MA4: ', type: 'line' }\n  ],\n  calc: (dataList: KLineData[], indicator: Indicator<Cr>) => {\n    const params = indicator.calcParams as number[]\n\n    const ma1ForwardPeriod = Math.ceil(params[1] / 2.5 + 1)\n    const ma2ForwardPeriod = Math.ceil(params[2] / 2.5 + 1)\n    const ma3ForwardPeriod = Math.ceil(params[3] / 2.5 + 1)\n    const ma4ForwardPeriod = Math.ceil(params[4] / 2.5 + 1)\n    let ma1Sum = 0\n    const ma1List: number[] = []\n    let ma2Sum = 0\n    const ma2List: number[] = []\n    let ma3Sum = 0\n    const ma3List: number[] = []\n    let ma4Sum = 0\n    const ma4List: number[] = []\n    const result: Cr[] = []\n    dataList.forEach((kLineData: KLineData, i: number) => {\n      const cr: Cr = {}\n      const prevData = dataList[i - 1] ?? kLineData\n      const prevMid = (prevData.high + prevData.close + prevData.low + prevData.open) / 4\n\n      const highSubPreMid = Math.max(0, kLineData.high - prevMid)\n\n      const preMidSubLow = Math.max(0, prevMid - kLineData.low)\n\n      if (i >= params[0] - 1) {\n        if (preMidSubLow !== 0) {\n          cr.cr = highSubPreMid / preMidSubLow * 100\n        } else {\n          cr.cr = 0\n        }\n        ma1Sum += cr.cr\n        ma2Sum += cr.cr\n        ma3Sum += cr.cr\n        ma4Sum += cr.cr\n        if (i >= params[0] + params[1] - 2) {\n          ma1List.push(ma1Sum / params[1])\n          if (i >= params[0] + params[1] + ma1ForwardPeriod - 3) {\n            cr.ma1 = ma1List[ma1List.length - 1 - ma1ForwardPeriod]\n          }\n          ma1Sum -= (result[i - (params[1] - 1)].cr ?? 0)\n        }\n        if (i >= params[0] + params[2] - 2) {\n          ma2List.push(ma2Sum / params[2])\n          if (i >= params[0] + params[2] + ma2ForwardPeriod - 3) {\n            cr.ma2 = ma2List[ma2List.length - 1 - ma2ForwardPeriod]\n          }\n          ma2Sum -= (result[i - (params[2] - 1)].cr ?? 0)\n        }\n        if (i >= params[0] + params[3] - 2) {\n          ma3List.push(ma3Sum / params[3])\n          if (i >= params[0] + params[3] + ma3ForwardPeriod - 3) {\n            cr.ma3 = ma3List[ma3List.length - 1 - ma3ForwardPeriod]\n          }\n          ma3Sum -= (result[i - (params[3] - 1)].cr ?? 0)\n        }\n        if (i >= params[0] + params[4] - 2) {\n          ma4List.push(ma4Sum / params[4])\n          if (i >= params[0] + params[4] + ma4ForwardPeriod - 3) {\n            cr.ma4 = ma4List[ma4List.length - 1 - ma4ForwardPeriod]\n          }\n          ma4Sum -= (result[i - (params[4] - 1)].cr ?? 0)\n        }\n      }\n      result.push(cr)\n    })\n    return result\n  }\n}\nexport default currentRatio\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport KLineData from '../../common/KLineData'\nimport { Indicator, IndicatorTemplate } from '../../component/Indicator'\n\ninterface Dma {\n  dma?: number\n  ama?: number\n}\n\n/**\n * DMA\n * 公式：DIF:MA(CLOSE,N1)-MA(CLOSE,N2);DIFMA:MA(DIF,M)\n */\nconst differentOfMovingAverage: IndicatorTemplate<Dma> = {\n  name: 'DMA',\n  shortName: 'DMA',\n  calcParams: [10, 50, 10],\n  figures: [\n    { key: 'dma', title: 'DMA: ', type: 'line' },\n    { key: 'ama', title: 'AMA: ', type: 'line' }\n  ],\n  calc: (dataList: KLineData[], indicator: Indicator<Dma>) => {\n    const params = indicator.calcParams as number[]\n    const maxPeriod = Math.max(params[0], params[1])\n    let closeSum1 = 0\n    let closeSum2 = 0\n    let dmaSum = 0\n    const result: Dma[] = []\n    dataList.forEach((kLineData: KLineData, i: number) => {\n      const dma: Dma = {}\n      const close = kLineData.close\n      closeSum1 += close\n      closeSum2 += close\n      let ma1 = 0\n      let ma2 = 0\n      if (i >= params[0] - 1) {\n        ma1 = closeSum1 / params[0]\n        closeSum1 -= dataList[i - (params[0] - 1)].close\n      }\n      if (i >= params[1] - 1) {\n        ma2 = closeSum2 / params[1]\n        closeSum2 -= dataList[i - (params[1] - 1)].close\n      }\n\n      if (i >= maxPeriod - 1) {\n        const dif = ma1 - ma2\n        dma.dma = dif\n        dmaSum += dif\n        if (i >= maxPeriod + params[2] - 2) {\n          dma.ama = dmaSum / params[2]\n          dmaSum -= (result[i - (params[2] - 1)].dma ?? 0)\n        }\n      }\n      result.push(dma)\n    })\n    return result\n  }\n}\n\nexport default differentOfMovingAverage\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport KLineData from '../../common/KLineData'\nimport { Indicator, IndicatorTemplate } from '../../component/Indicator'\n\ninterface Dmi {\n  pdi?: number\n  mdi?: number\n  adx?: number\n  adxr?: number\n}\n\n/**\n * DMI\n *\n * MTR:=EXPMEMA(MAX(MAX(HIGH-LOW,ABS(HIGH-REF(CLOSE,1))),ABS(REF(CLOSE,1)-LOW)),N)\n * HD :=HIGH-REF(HIGH,1);\n * LD :=REF(LOW,1)-LOW;\n * DMP:=EXPMEMA(IF(HD>0&&HD>LD,HD,0),N);\n * DMM:=EXPMEMA(IF(LD>0&&LD>HD,LD,0),N);\n *\n * PDI: DMP*100/MTR;\n * MDI: DMM*100/MTR;\n * ADX: EXPMEMA(ABS(MDI-PDI)/(MDI+PDI)*100,MM);\n * ADXR:EXPMEMA(ADX,MM);\n * 公式含义：\n * MTR赋值:最高价-最低价和最高价-昨收的绝对值的较大值和昨收-最低价的绝对值的较大值的N日指数平滑移动平均\n * HD赋值:最高价-昨日最高价\n * LD赋值:昨日最低价-最低价\n * DMP赋值:如果HD>0并且HD>LD,返回HD,否则返回0的N日指数平滑移动平均\n * DMM赋值:如果LD>0并且LD>HD,返回LD,否则返回0的N日指数平滑移动平均\n * 输出PDI:DMP*100/MTR\n * 输出MDI:DMM*100/MTR\n * 输出ADX:MDI-PDI的绝对值/(MDI+PDI)*100的MM日指数平滑移动平均\n * 输出ADXR:ADX的MM日指数平滑移动平均\n *\n */\nconst directionalMovementIndex: IndicatorTemplate<Dmi> = {\n  name: 'DMI',\n  shortName: 'DMI',\n  calcParams: [14, 6],\n  figures: [\n    { key: 'pdi', title: 'PDI: ', type: 'line' },\n    { key: 'mdi', title: 'MDI: ', type: 'line' },\n    { key: 'adx', title: 'ADX: ', type: 'line' },\n    { key: 'adxr', title: 'ADXR: ', type: 'line' }\n  ],\n  calc: (dataList: KLineData[], indicator: Indicator<Dmi>) => {\n    const params = indicator.calcParams as number[]\n    let trSum = 0\n    let hSum = 0\n    let lSum = 0\n    let mtr = 0\n    let dmp = 0\n    let dmm = 0\n    let dxSum = 0\n    let adx = 0\n    const result: Dmi[] = []\n    dataList.forEach((kLineData: KLineData, i: number) => {\n      const dmi: Dmi = {}\n      const prevKLineData = dataList[i - 1] ?? kLineData\n      const preClose = prevKLineData.close\n      const high = kLineData.high\n      const low = kLineData.low\n      const hl = high - low\n      const hcy = Math.abs(high - preClose)\n      const lcy = Math.abs(preClose - low)\n      const hhy = high - prevKLineData.high\n      const lyl = prevKLineData.low - low\n      const tr = Math.max(Math.max(hl, hcy), lcy)\n      const h = (hhy > 0 && hhy > lyl) ? hhy : 0\n      const l = (lyl > 0 && lyl > hhy) ? lyl : 0\n      trSum += tr\n      hSum += h\n      lSum += l\n      if (i >= params[0] - 1) {\n        if (i > params[0] - 1) {\n          mtr = mtr - mtr / params[0] + tr\n          dmp = dmp - dmp / params[0] + h\n          dmm = dmm - dmm / params[0] + l\n        } else {\n          mtr = trSum\n          dmp = hSum\n          dmm = lSum\n        }\n        let pdi = 0\n        let mdi = 0\n        if (mtr !== 0) {\n          pdi = dmp * 100 / mtr\n          mdi = dmm * 100 / mtr\n        }\n        dmi.pdi = pdi\n        dmi.mdi = mdi\n        let dx = 0\n        if (mdi + pdi !== 0) {\n          dx = Math.abs((mdi - pdi)) / (mdi + pdi) * 100\n        }\n        dxSum += dx\n        if (i >= params[0] * 2 - 2) {\n          if (i > params[0] * 2 - 2) {\n            adx = (adx * (params[0] - 1) + dx) / params[0]\n          } else {\n            adx = dxSum / params[0]\n          }\n          dmi.adx = adx\n          if (i >= params[0] * 2 + params[1] - 3) {\n            dmi.adxr = ((result[i - (params[1] - 1)].adx ?? 0) + adx) / 2\n          }\n        }\n      }\n      result.push(dmi)\n    })\n    return result\n  }\n}\n\nexport default directionalMovementIndex\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport KLineData from '../../common/KLineData'\nimport { Indicator, IndicatorTemplate } from '../../component/Indicator'\n\ninterface Emv {\n  emv?: number\n  maEmv?: number\n}\n\n/**\n *\n * EMV 简易波动指标\n * 公式：\n * A=（今日最高+今日最低）/2\n * B=（前日最高+前日最低）/2\n * C=今日最高-今日最低\n * EM=（A-B）*C/今日成交额\n * EMV=N日内EM的累和\n * MAEMV=EMV的M日的简单移动平均\n *\n */\nconst easeOfMovementValue: IndicatorTemplate<Emv> = {\n  name: 'EMV',\n  shortName: 'EMV',\n  calcParams: [14, 9],\n  figures: [\n    { key: 'emv', title: 'EMV: ', type: 'line' },\n    { key: 'maEmv', title: 'MAEMV: ', type: 'line' }\n  ],\n  calc: (dataList: KLineData[], indicator: Indicator<Emv>) => {\n    const params = indicator.calcParams as number[]\n    let emSum = 0\n    let emvSum = 0\n    const emList: number[] = []\n    const result: Emv[] = []\n    dataList.forEach((kLineData: KLineData, i: number) => {\n      const emv: Emv = {}\n      const prevKLineData = dataList[i - 1] ?? kLineData\n      const high = kLineData.high\n      const low = kLineData.low\n      const turnover = kLineData.turnover ?? 0\n      const halfHl = (high + low) / 2\n      const prevHalfHl = (prevKLineData.high + prevKLineData.low) / 2\n      const hl = high - low\n      let em = 0\n      if (turnover !== 0) {\n        em = (halfHl - prevHalfHl) * hl / turnover\n      }\n      emList.push(em)\n      emSum += em\n      if (i >= params[0] - 1) {\n        emv.emv = emSum\n        emSum -= emList[i - (params[0] - 1)]\n        emvSum += emv.emv\n        if (i >= params[0] + params[1] - 2) {\n          emv.maEmv = emvSum / params[1]\n          emvSum -= (result[i - (params[1] - 1)].emv ?? 0)\n        }\n      }\n      result.push(emv)\n    })\n    return result\n  }\n}\n\nexport default easeOfMovementValue\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport KLineData from '../../common/KLineData'\nimport { Indicator, IndicatorTemplate, IndicatorSeries } from '../../component/Indicator'\n\ninterface Ema {\n  ema1?: number\n  ema2?: number\n  ema3?: number\n}\n\n/**\n * EMA 指数移动平均\n */\nconst exponentialMovingAverage: IndicatorTemplate<Ema> = {\n  name: 'EMA',\n  shortName: 'EMA',\n  series: IndicatorSeries.PRICE,\n  calcParams: [6, 12, 20],\n  precision: 2,\n  shouldOhlc: true,\n  figures: [\n    { key: 'ema1', title: 'EMA6: ', type: 'line' },\n    { key: 'ema2', title: 'EMA12: ', type: 'line' },\n    { key: 'ema3', title: 'EMA20: ', type: 'line' }\n  ],\n  regenerateFigures: (params: any[]) => {\n    return params.map((p: number, i: number) => {\n      return { key: `ema${i + 1}`, title: `EMA${p}: `, type: 'line' }\n    })\n  },\n  calc: (dataList: KLineData[], indicator: Indicator<Ema>) => {\n    const { calcParams: params, figures } = indicator\n    let closeSum = 0\n    const emaValues: number[] = []\n    return dataList.map((kLineData: KLineData, i: number) => {\n      const ema = {}\n      const close = kLineData.close\n      closeSum += close\n      params.forEach((p: number, index: number) => {\n        if (i >= p - 1) {\n          if (i > p - 1) {\n            emaValues[index] = (2 * close + (p - 1) * emaValues[index]) / (p + 1)\n          } else {\n            emaValues[index] = closeSum / p\n          }\n          ema[figures[index].key] = emaValues[index]\n        }\n      })\n      return ema\n    })\n  }\n}\n\nexport default exponentialMovingAverage\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport KLineData from '../../common/KLineData'\nimport { Indicator, IndicatorTemplate } from '../../component/Indicator'\n\ninterface Mtm {\n  mtm?: number\n  maMtm?: number\n}\n\n/**\n * mtm\n * 公式 MTM（N日）=C－CN\n */\nconst momentum: IndicatorTemplate<Mtm> = {\n  name: 'MTM',\n  shortName: 'MTM',\n  calcParams: [12, 6],\n  figures: [\n    { key: 'mtm', title: 'MTM: ', type: 'line' },\n    { key: 'maMtm', title: 'MAMTM: ', type: 'line' }\n  ],\n  calc: (dataList: KLineData[], indicator: Indicator<Mtm>) => {\n    const params = indicator.calcParams as number[]\n    let mtmSum = 0\n    const result: Mtm[] = []\n    dataList.forEach((kLineData: KLineData, i: number) => {\n      const mtm: Mtm = {}\n      if (i >= params[0]) {\n        const close = kLineData.close\n        const agoClose = dataList[i - params[0]].close\n        mtm.mtm = close - agoClose\n        mtmSum += mtm.mtm\n        if (i >= params[0] + params[1] - 1) {\n          mtm.maMtm = mtmSum / params[1]\n          mtmSum -= (result[i - (params[1] - 1)].mtm ?? 0)\n        }\n      }\n      result.push(mtm)\n    })\n    return result\n  }\n}\n\nexport default momentum\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport KLineData from '../../common/KLineData'\nimport { Indicator, IndicatorTemplate, IndicatorSeries } from '../../component/Indicator'\n\ninterface Ma {\n  ma1?: number\n  ma2?: number\n  ma3?: number\n  ma4?: number\n}\n\n/**\n * MA 移动平均\n */\nconst movingAverage: IndicatorTemplate<Ma> = {\n  name: 'MA',\n  shortName: 'MA',\n  series: IndicatorSeries.PRICE,\n  calcParams: [5, 10, 30, 60],\n  precision: 2,\n  shouldOhlc: true,\n  figures: [\n    { key: 'ma5', title: 'MA5: ', type: 'line' },\n    { key: 'ma10', title: 'MA10: ', type: 'line' },\n    { key: 'ma30', title: 'MA30: ', type: 'line' },\n    { key: 'ma60', title: 'MA60: ', type: 'line' }\n  ],\n  regenerateFigures: (params: any[]) => {\n    return params.map((p: number, i: number) => {\n      return { key: `ma${i + 1}`, title: `MA${p}: `, type: 'line' }\n    })\n  },\n  calc: (dataList: KLineData[], indicator: Indicator<Ma>) => {\n    const { calcParams: params, figures } = indicator\n    const closeSums: number[] = []\n    return dataList.map((kLineData: KLineData, i: number) => {\n      const ma = {}\n      const close = kLineData.close\n      params.forEach((p: number, index: number) => {\n        closeSums[index] = (closeSums[index] ?? 0) + close\n        if (i >= p - 1) {\n          ma[figures[index].key] = closeSums[index] / p\n          closeSums[index] -= dataList[i - (p - 1)].close\n        }\n      })\n      return ma\n    })\n  }\n}\n\nexport default movingAverage\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport KLineData from '../../common/KLineData'\nimport { IndicatorStyle } from '../../common/Options'\n\nimport { formatValue } from '../../common/utils/format'\n\nimport { Indicator, IndicatorTemplate, IndicatorFigureStylesCallbackData } from '../../component/Indicator'\n\ninterface Macd {\n  dif?: number\n  dea?: number\n  macd?: number\n}\n\n/**\n * MACD：参数快线移动平均、慢线移动平均、移动平均，\n * 默认参数值12、26、9。\n * 公式：⒈首先分别计算出收盘价12日指数平滑移动平均线与26日指数平滑移动平均线，分别记为EMA(12）与EMA(26）。\n * ⒉求这两条指数平滑移动平均线的差，即：DIFF = EMA(SHORT) － EMA(LONG)。\n * ⒊再计算DIFF的M日的平均的指数平滑移动平均线，记为DEA。\n * ⒋最后用DIFF减DEA，得MACD。MACD通常绘制成围绕零轴线波动的柱形图。MACD柱状大于0涨颜色，小于0跌颜色。\n */\nconst movingAverageConvergenceDivergence: IndicatorTemplate<Macd> = {\n  name: 'MACD',\n  shortName: 'MACD',\n  calcParams: [12, 26, 9],\n  figures: [\n    { key: 'dif', title: 'DIF: ', type: 'line' },\n    { key: 'dea', title: 'DEA: ', type: 'line' },\n    {\n      key: 'macd',\n      title: 'MACD: ',\n      type: 'bar',\n      baseValue: 0,\n      styles: (data: IndicatorFigureStylesCallbackData<Macd>, indicator: Indicator, defaultStyles: IndicatorStyle) => {\n        const { prev, current } = data\n        const prevMacd = prev.indicatorData?.macd ?? Number.MIN_SAFE_INTEGER\n        const currentMacd = current.indicatorData?.macd ?? Number.MIN_SAFE_INTEGER\n        let color: string\n        if (currentMacd > 0) {\n          color = formatValue(indicator.styles, 'bars[0].upColor', (defaultStyles.bars)[0].upColor) as string\n        } else if (currentMacd < 0) {\n          color = formatValue(indicator.styles, 'bars[0].downColor', (defaultStyles.bars)[0].downColor) as string\n        } else {\n          color = formatValue(indicator.styles, 'bars[0].noChangeColor', (defaultStyles.bars)[0].noChangeColor) as string\n        }\n        const style = prevMacd < currentMacd ? 'stroke' : 'fill'\n        return { style, color }\n      }\n    }\n  ],\n  calc: (dataList: KLineData[], indicator: Indicator<Macd>) => {\n    const params = indicator.calcParams as number[]\n    let closeSum = 0\n    let emaShort: number\n    let emaLong: number\n    let dif = 0\n    let difSum = 0\n    let dea = 0\n    const maxPeriod = Math.max(params[0], params[1])\n    return dataList.map((kLineData: KLineData, i: number) => {\n      const macd: Macd = {}\n      const close = kLineData.close\n      closeSum += close\n      if (i >= params[0] - 1) {\n        if (i > params[0] - 1) {\n          emaShort = (2 * close + (params[0] - 1) * emaShort) / (params[0] + 1)\n        } else {\n          emaShort = closeSum / params[0]\n        }\n      }\n      if (i >= params[1] - 1) {\n        if (i > params[1] - 1) {\n          emaLong = (2 * close + (params[1] - 1) * emaLong) / (params[1] + 1)\n        } else {\n          emaLong = closeSum / params[1]\n        }\n      }\n      if (i >= maxPeriod - 1) {\n        dif = emaShort - emaLong\n        macd.dif = dif\n        difSum += dif\n        if (i >= maxPeriod + params[2] - 2) {\n          if (i > maxPeriod + params[2] - 2) {\n            dea = (dif * 2 + dea * (params[2] - 1)) / (params[2] + 1)\n          } else {\n            dea = difSum / params[2]\n          }\n          macd.macd = (dif - dea) * 2\n          macd.dea = dea\n        }\n      }\n      return macd\n    })\n  }\n}\n\nexport default movingAverageConvergenceDivergence\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport KLineData from '../../common/KLineData'\nimport { Indicator, IndicatorTemplate } from '../../component/Indicator'\n\ninterface Obv {\n  obv?: number\n  maObv?: number\n}\n\n/**\n * OBV\n * OBV = REF(OBV) + sign * V\n */\nconst onBalanceVolume: IndicatorTemplate<Obv> = {\n  name: 'OBV',\n  shortName: 'OBV',\n  calcParams: [30],\n  figures: [\n    { key: 'obv', title: 'OBV: ', type: 'line' },\n    { key: 'maObv', title: 'MAOBV: ', type: 'line' }\n  ],\n  calc: (dataList: KLineData[], indicator: Indicator<Obv>) => {\n    const params = indicator.calcParams as number[]\n    let obvSum = 0\n    let oldObv = 0\n    const result: Obv[] = []\n    dataList.forEach((kLineData: KLineData, i: number) => {\n      const preKLineData = dataList[i - 1] ?? kLineData\n      if (kLineData.close < preKLineData.close) {\n        oldObv -= (kLineData.volume ?? 0)\n      } else if (kLineData.close > preKLineData.close) {\n        oldObv += (kLineData.volume ?? 0)\n      }\n      const obv: Obv = { obv: oldObv }\n      obvSum += oldObv\n      if (i >= params[0] - 1) {\n        obv.maObv = obvSum / params[0]\n        obvSum -= (result[i - (params[0] - 1)].obv ?? 0)\n      }\n      result.push(obv)\n    })\n    return result\n  }\n}\n\nexport default onBalanceVolume\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport KLineData from '../../common/KLineData'\nimport { IndicatorTemplate } from '../../component/Indicator'\n\ninterface Pvt {\n  pvt?: number\n}\n\n/**\n * 价量趋势指标\n * 公式:\n * X = (CLOSE - REF(CLOSE, 1)) / REF(CLOSE, 1) * VOLUME\n * PVT = SUM(X)\n *\n */\nconst priceAndVolumeTrend: IndicatorTemplate<Pvt> = {\n  name: 'PVT',\n  shortName: 'PVT',\n  figures: [\n    { key: 'pvt', title: 'PVT: ', type: 'line' }\n  ],\n  calc: (dataList: KLineData[]) => {\n    let sum = 0\n    return dataList.map((kLineData, i) => {\n      const pvt: Pvt = {}\n      const close = kLineData.close\n      const volume = kLineData.volume ?? 1\n      const prevClose = (dataList[i - 1] ?? kLineData).close\n      let x = 0\n      const total = prevClose * volume\n      if (total !== 0) {\n        x = (close - prevClose) / total\n      }\n      sum += x\n      pvt.pvt = sum\n      return pvt\n    })\n  }\n}\n\nexport default priceAndVolumeTrend\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport KLineData from '../../common/KLineData'\nimport { Indicator, IndicatorTemplate } from '../../component/Indicator'\n\ninterface Psy {\n  psy?: number\n  maPsy?: number\n}\n\n/**\n * PSY\n * 公式：PSY=N日内的上涨天数/N×100%。\n */\nconst psychologicalLine: IndicatorTemplate<Psy> = {\n  name: 'PSY',\n  shortName: 'PSY',\n  calcParams: [12, 6],\n  figures: [\n    { key: 'psy', title: 'PSY: ', type: 'line' },\n    { key: 'maPsy', title: 'MAPSY: ', type: 'line' }\n  ],\n  calc: (dataList: KLineData[], indicator: Indicator<Psy>) => {\n    const params = indicator.calcParams as number[]\n    let upCount = 0\n    let psySum = 0\n    const upList: number[] = []\n    const result: Psy[] = []\n    dataList.forEach((kLineData: KLineData, i: number) => {\n      const psy: Psy = {}\n      const prevClose = (dataList[i - 1] ?? kLineData).close\n      const upFlag = kLineData.close - prevClose > 0 ? 1 : 0\n      upList.push(upFlag)\n      upCount += upFlag\n      if (i >= params[0] - 1) {\n        psy.psy = upCount / params[0] * 100\n        psySum += psy.psy\n        if (i >= params[0] + params[1] - 2) {\n          psy.maPsy = psySum / params[1]\n          psySum -= (result[i - (params[1] - 1)].psy ?? 0)\n        }\n        upCount -= upList[i - (params[0] - 1)]\n      }\n      result.push(psy)\n    })\n    return result\n  }\n}\n\nexport default psychologicalLine\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport KLineData from '../../common/KLineData'\nimport { Indicator, IndicatorTemplate } from '../../component/Indicator'\n\ninterface Roc {\n  roc?: number\n  maRoc?: number\n}\n\n/**\n * 变动率指标\n * 公式：ROC = (CLOSE - REF(CLOSE, N)) / REF(CLOSE, N)\n */\nconst rateOfChange: IndicatorTemplate<Roc> = {\n  name: 'ROC',\n  shortName: 'ROC',\n  calcParams: [12, 6],\n  figures: [\n    { key: 'roc', title: 'ROC: ', type: 'line' },\n    { key: 'maRoc', title: 'MAROC: ', type: 'line' }\n  ],\n  calc: (dataList: KLineData[], indicator: Indicator<Roc>) => {\n    const params = indicator.calcParams as number[]\n    const result: Roc[] = []\n    let rocSum = 0\n    dataList.forEach((kLineData: KLineData, i: number) => {\n      const roc: Roc = {}\n      if (i >= params[0] - 1) {\n        const close = kLineData.close\n        const agoClose = (dataList[i - params[0]] ?? dataList[i - (params[0] - 1)]).close\n        if (agoClose !== 0) {\n          roc.roc = (close - agoClose) / agoClose * 100\n        } else {\n          roc.roc = 0\n        }\n        rocSum += roc.roc\n        if (i >= params[0] - 1 + params[1] - 1) {\n          roc.maRoc = rocSum / params[1]\n          rocSum -= (result[i - (params[1] - 1)].roc ?? 0)\n        }\n      }\n      result.push(roc)\n    })\n    return result\n  }\n}\n\nexport default rateOfChange\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport KLineData from '../../common/KLineData'\nimport { Indicator, IndicatorTemplate } from '../../component/Indicator'\n\ninterface Rsi {\n  rsi1?: number\n  rsi2?: number\n  rsi3?: number\n}\n\n/**\n * RSI\n * RSI = SUM(MAX(CLOSE - REF(CLOSE,1),0),N) / SUM(ABS(CLOSE - REF(CLOSE,1)),N) × 100\n */\nconst relativeStrengthIndex: IndicatorTemplate<Rsi> = {\n  name: 'RSI',\n  shortName: 'RSI',\n  calcParams: [6, 12, 24],\n  figures: [\n    { key: 'rsi1', title: 'RSI1: ', type: 'line' },\n    { key: 'rsi2', title: 'RSI2: ', type: 'line' },\n    { key: 'rsi3', title: 'RSI3: ', type: 'line' }\n  ],\n  regenerateFigures: (params: any[]) => {\n    return params.map((_: any, index: number) => {\n      const num = index + 1\n      return { key: `rsi${num}`, title: `RSI${num}: `, type: 'line' }\n    })\n  },\n  calc: (dataList: KLineData[], indicator: Indicator<Rsi>) => {\n    const { calcParams: params, figures } = indicator\n    const sumCloseAs: number[] = []\n    const sumCloseBs: number[] = []\n    return dataList.map((kLineData, i) => {\n      const rsi = {}\n      const prevClose = (dataList[i - 1] ?? kLineData).close\n      const tmp = kLineData.close - prevClose\n      params.forEach((p, index) => {\n        if (tmp > 0) {\n          sumCloseAs[index] = (sumCloseAs[index] ?? 0) + tmp\n        } else {\n          sumCloseBs[index] = (sumCloseBs[index] ?? 0) + Math.abs(tmp)\n        }\n        if (i >= p - 1) {\n          if (sumCloseBs[index] !== 0) {\n            rsi[figures[index].key] = 100 - (100.0 / (1 + sumCloseAs[index] / sumCloseBs[index]))\n          } else {\n            rsi[figures[index].key] = 0\n          }\n          const agoData = dataList[i - (p - 1)]\n          const agoPreData = dataList[i - p] ?? agoData\n          const agoTmp = agoData.close - agoPreData.close\n          if (agoTmp > 0) {\n            sumCloseAs[index] -= agoTmp\n          } else {\n            sumCloseBs[index] -= Math.abs(agoTmp)\n          }\n        }\n      })\n      return rsi\n    })\n  }\n}\n\nexport default relativeStrengthIndex\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport KLineData from '../../common/KLineData'\nimport { Indicator, IndicatorTemplate, IndicatorSeries } from '../../component/Indicator'\n\ninterface Sma {\n  sma?: number\n}\n\n/**\n * sma\n */\nconst simpleMovingAverage: IndicatorTemplate<Sma> = {\n  name: 'SMA',\n  shortName: 'SMA',\n  series: IndicatorSeries.PRICE,\n  calcParams: [12, 2],\n  precision: 2,\n  figures: [\n    { key: 'sma', title: 'SMA: ', type: 'line' }\n  ],\n  shouldOhlc: true,\n  calc: (dataList: KLineData[], indicator: Indicator<Sma>) => {\n    const params = indicator.calcParams as number[]\n    let closeSum = 0\n    let smaValue = 0\n    return dataList.map((kLineData: KLineData, i: number) => {\n      const sma: Sma = {}\n      const close = kLineData.close\n      closeSum += close\n      if (i >= params[0] - 1) {\n        if (i > params[0] - 1) {\n          smaValue = (close * params[1] + smaValue * (params[0] - params[1] + 1)) / (params[0] + 1)\n        } else {\n          smaValue = closeSum / params[0]\n        }\n        sma.sma = smaValue\n      }\n      return sma\n    })\n  }\n}\n\nexport default simpleMovingAverage\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport KLineData from '../../common/KLineData'\nimport { Indicator, IndicatorTemplate } from '../../component/Indicator'\n\nimport { getMaxMin } from '../../common/utils/number'\n\ninterface Kdj {\n  k?: number\n  d?: number\n  j?: number\n}\n\n/**\n * KDJ\n *\n * 当日K值=2/3×前一日K值+1/3×当日RSV\n * 当日D值=2/3×前一日D值+1/3×当日K值\n * 若无前一日K 值与D值，则可分别用50来代替。\n * J值=3*当日K值-2*当日D值\n */\nconst stoch: IndicatorTemplate<Kdj> = {\n  name: 'KDJ',\n  shortName: 'KDJ',\n  calcParams: [9, 3, 3],\n  figures: [\n    { key: 'k', title: 'K: ', type: 'line' },\n    { key: 'd', title: 'D: ', type: 'line' },\n    { key: 'j', title: 'J: ', type: 'line' }\n  ],\n  calc: (dataList: KLineData[], indicator: Indicator<Kdj>) => {\n    const params = indicator.calcParams\n    const result: Kdj[] = []\n    dataList.forEach((kLineData: KLineData, i: number) => {\n      const kdj: Kdj = {}\n      const close = kLineData.close\n      if (i >= params[0] - 1) {\n        const lhn = getMaxMin<KLineData>(dataList.slice(i - (params[0] - 1), i + 1), 'high', 'low')\n        const hn = lhn[0]\n        const ln = lhn[1]\n        const hnSubLn = hn - ln\n        const rsv = (close - ln) / (hnSubLn === 0 ? 1 : hnSubLn) * 100\n        kdj.k = ((params[1] - 1) * (result[i - 1]?.k ?? 50) + rsv) / params[1]\n        kdj.d = ((params[2] - 1) * (result[i - 1]?.d ?? 50) + kdj.k) / params[2]\n        kdj.j = 3.0 * kdj.k - 2.0 * kdj.d\n      }\n      result.push(kdj)\n    })\n    return result\n  }\n}\n\nexport default stoch\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport KLineData from '../../common/KLineData'\nimport { IndicatorStyle } from '../../common/Options'\nimport { formatValue } from '../../common/utils/format'\n\nimport { Indicator, IndicatorTemplate, IndicatorSeries, IndicatorFigureStylesCallbackData } from '../../component/Indicator'\n\ninterface Sar {\n  sar?: number\n}\n\nconst stopAndReverse: IndicatorTemplate<Sar> = {\n  name: 'SAR',\n  shortName: 'SAR',\n  series: IndicatorSeries.PRICE,\n  calcParams: [2, 2, 20],\n  precision: 2,\n  shouldOhlc: true,\n  figures: [\n    {\n      key: 'sar',\n      title: 'SAR: ',\n      type: 'circle',\n      styles: (data: IndicatorFigureStylesCallbackData<Sar>, indicator: Indicator, defaultStyles: IndicatorStyle) => {\n        const { current } = data\n        const sar = current.indicatorData?.sar ?? Number.MIN_SAFE_INTEGER\n        const kLineData = current.kLineData as KLineData\n        const halfHL = (kLineData?.high + kLineData?.low) / 2\n        const color = sar < halfHL\n          ? formatValue(indicator.styles, 'circles[0].upColor', (defaultStyles.circles)[0].upColor) as string\n          : formatValue(indicator.styles, 'circles[0].downColor', (defaultStyles.circles)[0].downColor) as string\n        return { color }\n      }\n    }\n  ],\n  calc: (dataList: KLineData[], indicator: Indicator<Sar>) => {\n    const params = indicator.calcParams\n    const startAf = params[0] / 100\n    const step = params[1] / 100\n    const maxAf = params[2] / 100\n\n    // 加速因子\n    let af = startAf\n    // 极值\n    let ep = -100\n    // 判断是上涨还是下跌  false：下跌\n    let isIncreasing = false\n    let sar = 0\n    return dataList.map((kLineData: KLineData, i: number) => {\n      // 上一个周期的sar\n      const preSar = sar\n      const high = kLineData.high\n      const low = kLineData.low\n      if (isIncreasing) {\n        // 上涨\n        if (ep === -100 || ep < high) {\n          // 重新初始化值\n          ep = high\n          af = Math.min(af + step, maxAf)\n        }\n        sar = preSar + af * (ep - preSar)\n        const lowMin = Math.min(dataList[Math.max(1, i) - 1].low, low)\n        if (sar > kLineData.low) {\n          sar = ep\n          // 重新初始化值\n          af = startAf\n          ep = -100\n          isIncreasing = !isIncreasing\n        } else if (sar > lowMin) {\n          sar = lowMin\n        }\n      } else {\n        if (ep === -100 || ep > low) {\n          // 重新初始化值\n          ep = low\n          af = Math.min(af + step, maxAf)\n        }\n        sar = preSar + af * (ep - preSar)\n        const highMax = Math.max(dataList[Math.max(1, i) - 1].high, high)\n        if (sar < kLineData.high) {\n          sar = ep\n          // 重新初始化值\n          af = 0\n          ep = -100\n          isIncreasing = !isIncreasing\n        } else if (sar < highMax) {\n          sar = highMax\n        }\n      }\n      return { sar }\n    })\n  }\n}\n\nexport default stopAndReverse\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http:*www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport KLineData from '../../common/KLineData'\nimport { Indicator, IndicatorTemplate } from '../../component/Indicator'\n\ninterface Trix {\n  trix?: number\n  maTrix?: number\n}\n\n/**\n * trix\n *\n * TR=收盘价的N日指数移动平均的N日指数移动平均的N日指数移动平均；\n * TRIX=(TR-昨日TR)/昨日TR*100；\n * MATRIX=TRIX的M日简单移动平均；\n * 默认参数N设为12，默认参数M设为9；\n * 默认参数12、9\n * 公式：MTR:=EMA(EMA(EMA(CLOSE,N),N),N)\n * TRIX:(MTR-REF(MTR,1))/REF(MTR,1)*100;\n * TRMA:MA(TRIX,M)\n *\n */\nconst tripleExponentiallySmoothedAverage: IndicatorTemplate<Trix> = {\n  name: 'TRIX',\n  shortName: 'TRIX',\n  calcParams: [12, 9],\n  figures: [\n    { key: 'trix', title: 'TRIX: ', type: 'line' },\n    { key: 'maTrix', title: 'MATRIX: ', type: 'line' }\n  ],\n  calc: (dataList: KLineData[], indicator: Indicator<Trix>) => {\n    const params = indicator.calcParams as number[]\n    let closeSum = 0\n    let ema1: number\n    let ema2: number\n    let oldTr: number\n    let ema1Sum = 0\n    let ema2Sum = 0\n    let trixSum = 0\n    const result: Trix[] = []\n    dataList.forEach((kLineData: KLineData, i: number) => {\n      const trix: Trix = {}\n      const close = kLineData.close\n      closeSum += close\n      if (i >= params[0] - 1) {\n        if (i > params[0] - 1) {\n          ema1 = (2 * close + (params[0] - 1) * ema1) / (params[0] + 1)\n        } else {\n          ema1 = closeSum / params[0]\n        }\n        ema1Sum += ema1\n        if (i >= params[0] * 2 - 2) {\n          if (i > params[0] * 2 - 2) {\n            ema2 = (2 * ema1 + (params[0] - 1) * ema2) / (params[0] + 1)\n          } else {\n            ema2 = ema1Sum / params[0]\n          }\n          ema2Sum += ema2\n          if (i >= params[0] * 3 - 3) {\n            let tr: number\n            let trixValue = 0\n            if (i > params[0] * 3 - 3) {\n              tr = (2 * ema2 + (params[0] - 1) * oldTr) / (params[0] + 1)\n              trixValue = (tr - oldTr) / oldTr * 100\n            } else {\n              tr = ema2Sum / params[0]\n            }\n            oldTr = tr\n            trix.trix = trixValue\n            trixSum += trixValue\n            if (i >= params[0] * 3 + params[1] - 4) {\n              trix.maTrix = trixSum / params[1]\n              trixSum -= (result[i - (params[1] - 1)].trix ?? 0)\n            }\n          }\n        }\n      }\n      result.push(trix)\n    })\n    return result\n  }\n}\n\nexport default tripleExponentiallySmoothedAverage\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport KLineData from '../../common/KLineData'\nimport { IndicatorStyle } from '../../common/Options'\nimport { formatValue } from '../../common/utils/format'\n\nimport { Indicator, IndicatorTemplate, IndicatorFigureStylesCallbackData, IndicatorSeries, IndicatorFigure } from '../../component/Indicator'\n\ninterface Vol {\n  volume?: number\n  ma1?: number\n  ma2?: number\n  ma3?: number\n}\n\nconst volume: IndicatorTemplate<Vol> = {\n  name: 'VOL',\n  shortName: 'VOL',\n  series: IndicatorSeries.VOLUME,\n  calcParams: [5, 10, 20],\n  shouldFormatBigNumber: true,\n  precision: 0,\n  minValue: 0,\n  figures: [\n    { key: 'ma1', title: 'MA5: ', type: 'line' },\n    { key: 'ma2', title: 'MA10: ', type: 'line' },\n    { key: 'ma3', title: 'MA20: ', type: 'line' },\n    {\n      key: 'volume',\n      title: 'VOLUME: ',\n      type: 'bar',\n      baseValue: 0,\n      styles: (data: IndicatorFigureStylesCallbackData<Vol>, indicator: Indicator, defaultStyles: IndicatorStyle) => {\n        const kLineData = data.current.kLineData as KLineData\n        let color: string\n        if (kLineData.close > kLineData.open) {\n          color = formatValue(indicator.styles, 'bars[0].upColor', (defaultStyles.bars)[0].upColor) as string\n        } else if (kLineData.close < kLineData.open) {\n          color = formatValue(indicator.styles, 'bars[0].downColor', (defaultStyles.bars)[0].downColor) as string\n        } else {\n          color = formatValue(indicator.styles, 'bars[0].noChangeColor', (defaultStyles.bars)[0].noChangeColor) as string\n        }\n        return { color }\n      }\n    }\n  ],\n  regenerateFigures: (params: any[]) => {\n    const figures: Array<IndicatorFigure<Vol>> = params.map((p: number, i: number) => {\n      return { key: `ma${i + 1}`, title: `MA${p}: `, type: 'line' }\n    })\n    figures.push({\n      key: 'volume',\n      title: 'VOLUME: ',\n      type: 'bar',\n      baseValue: 0,\n      styles: (data: IndicatorFigureStylesCallbackData<Vol>, indicator: Indicator, defaultStyles: IndicatorStyle) => {\n        const kLineData = data.current.kLineData as KLineData\n        let color: string\n        if (kLineData.close > kLineData.open) {\n          color = formatValue(indicator.styles, 'bars[0].upColor', (defaultStyles.bars)[0].upColor) as string\n        } else if (kLineData.close < kLineData.open) {\n          color = formatValue(indicator.styles, 'bars[0].downColor', (defaultStyles.bars)[0].downColor) as string\n        } else {\n          color = formatValue(indicator.styles, 'bars[0].noChangeColor', (defaultStyles.bars)[0].noChangeColor) as string\n        }\n        return { color }\n      }\n    })\n    return figures\n  },\n  calc: (dataList: KLineData[], indicator: Indicator<Vol>) => {\n    const { calcParams: params, figures } = indicator\n    const volSums: number[] = []\n    return dataList.map((kLineData: KLineData, i: number) => {\n      const volume = kLineData.volume ?? 0\n      const vol: Vol = { volume }\n      params.forEach((p, index) => {\n        volSums[index] = (volSums[index] ?? 0) + volume\n        if (i >= p - 1) {\n          vol[figures[index].key] = volSums[index] / p\n          volSums[index] -= (dataList[i - (p - 1)].volume ?? 0)\n        }\n      })\n      return vol\n    })\n  }\n}\n\nexport default volume\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport KLineData from '../../common/KLineData'\nimport { Indicator, IndicatorTemplate } from '../../component/Indicator'\n\ninterface Vr {\n  vr?: number\n  maVr?: number\n}\n\n/**\n * VR\n * VR=（UVS+1/2PVS）/（DVS+1/2PVS）\n * 24天以来凡是股价上涨那一天的成交量都称为AV，将24天内的AV总和相加后称为UVS\n * 24天以来凡是股价下跌那一天的成交量都称为BV，将24天内的BV总和相加后称为DVS\n * 24天以来凡是股价不涨不跌，则那一天的成交量都称为CV，将24天内的CV总和相加后称为PVS\n *\n */\nconst volumeRatio: IndicatorTemplate<Vr> = {\n  name: 'VR',\n  shortName: 'VR',\n  calcParams: [26, 6],\n  figures: [\n    { key: 'vr', title: 'VR: ', type: 'line' },\n    { key: 'maVr', title: 'MAVR: ', type: 'line' }\n  ],\n  calc: (dataList: KLineData[], indicator: Indicator<Vr>) => {\n    const params = indicator.calcParams as number[]\n    let uvs = 0\n    let dvs = 0\n    let pvs = 0\n    let vrSum = 0\n    const result: Vr[] = []\n    dataList.forEach((kLineData: KLineData, i: number) => {\n      const vr: Vr = {}\n      const close = kLineData.close\n      const preClose = (dataList[i - 1] ?? kLineData).close\n      const volume = kLineData.volume ?? 0\n      if (close > preClose) {\n        uvs += volume\n      } else if (close < preClose) {\n        dvs += volume\n      } else {\n        pvs += volume\n      }\n      if (i >= params[0] - 1) {\n        const halfPvs = pvs / 2\n        if (dvs + halfPvs === 0) {\n          vr.vr = 0\n        } else {\n          vr.vr = (uvs + halfPvs) / (dvs + halfPvs) * 100\n        }\n        vrSum += vr.vr\n        if (i >= params[0] + params[1] - 2) {\n          vr.maVr = vrSum / params[1]\n          vrSum -= (result[i - (params[1] - 1)].vr ?? 0)\n        }\n\n        const agoData = dataList[i - (params[0] - 1)]\n        const agoPreData = dataList[i - params[0]] ?? agoData\n        const agoClose = agoData.close\n        const agoVolume = agoData.volume ?? 0\n        if (agoClose > agoPreData.close) {\n          uvs -= agoVolume\n        } else if (agoClose < agoPreData.close) {\n          dvs -= agoVolume\n        } else {\n          pvs -= agoVolume\n        }\n      }\n      result.push(vr)\n    })\n    return result\n  }\n}\n\nexport default volumeRatio\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport KLineData from '../../common/KLineData'\nimport { Indicator, IndicatorTemplate } from '../../component/Indicator'\n\nimport { getMaxMin } from '../../common/utils/number'\n\ninterface Wr {\n  wr1?: number\n  wr2?: number\n  wr3?: number\n}\n\n/**\n * WR\n * 公式 WR(N) = 100 * [ C - HIGH(N) ] / [ HIGH(N)-LOW(N) ]\n */\nconst williamsR: IndicatorTemplate<Wr> = {\n  name: 'WR',\n  shortName: 'WR',\n  calcParams: [6, 10, 14],\n  figures: [\n    { key: 'wr1', title: 'WR1: ', type: 'line' },\n    { key: 'wr2', title: 'WR2: ', type: 'line' },\n    { key: 'wr3', title: 'WR3: ', type: 'line' }\n  ],\n  regenerateFigures: (params: any[]) => {\n    return params.map((_, i: number) => {\n      return { key: `wr${i + 1}`, title: `WR${i + 1}: `, type: 'line' }\n    })\n  },\n  calc: (dataList: KLineData[], indicator: Indicator<Wr>) => {\n    const { calcParams: params, figures } = indicator\n    return dataList.map((kLineData, i) => {\n      const wr: Wr = {}\n      const close = kLineData.close\n      params.forEach((param, index) => {\n        const p = param - 1\n        if (i >= p) {\n          const hln = getMaxMin<KLineData>(dataList.slice(i - p, i + 1), 'high', 'low')\n          const hn = hln[0]\n          const ln = hln[1]\n          const hnSubLn = hn - ln\n          wr[figures[index].key] = hnSubLn === 0 ? 0 : (close - hn) / hnSubLn * 100\n        }\n      })\n      return wr\n    })\n  }\n}\n\nexport default williamsR\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Nullable from '../../common/Nullable'\n\nimport IndicatorImp, { IndicatorTemplate, IndicatorConstructor } from '../../component/Indicator'\n\nimport averagePrice from './averagePrice'\nimport awesomeOscillator from './awesomeOscillator'\nimport bias from './bias'\nimport bollingerBands from './bollingerBands'\nimport brar from './brar'\nimport bullAndBearIndex from './bullAndBearIndex'\nimport commodityChannelIndex from './commodityChannelIndex'\nimport currentRatio from './currentRatio'\nimport differentOfMovingAverage from './differentOfMovingAverage'\nimport directionalMovementIndex from './directionalMovementIndex'\nimport easeOfMovementValue from './easeOfMovementValue'\nimport exponentialMovingAverage from './exponentialMovingAverage'\nimport momentum from './momentum'\nimport movingAverage from './movingAverage'\nimport movingAverageConvergenceDivergence from './movingAverageConvergenceDivergence'\nimport onBalanceVolume from './onBalanceVolume'\nimport priceAndVolumeTrend from './priceAndVolumeTrend'\nimport psychologicalLine from './psychologicalLine'\nimport rateOfChange from './rateOfChange'\nimport relativeStrengthIndex from './relativeStrengthIndex'\nimport simpleMovingAverage from './simpleMovingAverage'\nimport stoch from './stoch'\nimport stopAndReverse from './stopAndReverse'\nimport tripleExponentiallySmoothedAverage from './tripleExponentiallySmoothedAverage'\nimport volume from './volume'\nimport volumeRatio from './volumeRatio'\nimport williamsR from './williamsR'\n\nconst indicators: { [key: string]: IndicatorConstructor } = {}\n\nconst extensions = [\n  averagePrice, awesomeOscillator, bias, bollingerBands, brar,\n  bullAndBearIndex, commodityChannelIndex, currentRatio, differentOfMovingAverage,\n  directionalMovementIndex, easeOfMovementValue, exponentialMovingAverage, momentum,\n  movingAverage, movingAverageConvergenceDivergence, onBalanceVolume, priceAndVolumeTrend,\n  psychologicalLine, rateOfChange, relativeStrengthIndex, simpleMovingAverage,\n  stoch, stopAndReverse, tripleExponentiallySmoothedAverage, volume, volumeRatio, williamsR\n]\n\nextensions.forEach((indicator: IndicatorTemplate) => {\n  indicators[indicator.name] = IndicatorImp.extend(indicator)\n})\n\nfunction registerIndicator<D> (indicator: IndicatorTemplate<D>): void {\n  indicators[indicator.name] = IndicatorImp.extend(indicator)\n}\n\nfunction getIndicatorClass (name: string): Nullable<IndicatorConstructor> {\n  return indicators[name] ?? null\n}\n\nfunction getSupportedIndicators (): string[] {\n  return Object.keys(indicators)\n}\n\nexport { registerIndicator, getIndicatorClass, getSupportedIndicators }\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Nullable from '../common/Nullable'\nimport Precision from '../common/Precision'\n\nimport ChartStore from './ChartStore'\n\nimport IndicatorImp, { IndicatorCreate, IndicatorConstructor, Indicator, IndicatorSeries } from '../component/Indicator'\nimport { getIndicatorClass } from '../extension/indicator/index'\n\nexport default class IndicatorStore {\n  private readonly _chartStore: ChartStore\n  private readonly _instances: Map<string, Map<string, IndicatorImp>> = new Map()\n\n  constructor (chartStore: ChartStore) {\n    this._chartStore = chartStore\n  }\n\n  private _overrideInstance (instance: IndicatorImp, indicator: Partial<Indicator>): boolean[] {\n    const {\n      shortName, series, calcParams, precision, figures, minValue, maxValue,\n      shouldOhlc, shouldFormatBigNumber, styles, extendData,\n      regenerateFigures, createTooltipDataSource, draw, calc\n    } = indicator\n    let updateFlag = false\n    if (shortName !== undefined && instance.setShortName(shortName)) {\n      updateFlag = true\n    }\n    if (series !== undefined && instance.setSeries(series)) {\n      updateFlag = true\n    }\n    let calcFlag = false\n    if (calcParams !== undefined && instance.setCalcParams(calcParams)) {\n      updateFlag = true\n      calcFlag = true\n    }\n    if (figures !== undefined && instance.setFigures(figures)) {\n      updateFlag = true\n      calcFlag = true\n    }\n    if (minValue !== undefined && instance.setMinValue(minValue)) {\n      updateFlag = true\n    }\n    if (maxValue !== undefined && instance.setMinValue(maxValue)) {\n      updateFlag = true\n    }\n    if (precision !== undefined && instance.setPrecision(precision)) {\n      updateFlag = true\n    }\n    if (shouldOhlc !== undefined && instance.setShouldOhlc(shouldOhlc)) {\n      updateFlag = true\n    }\n    if (shouldFormatBigNumber !== undefined && instance.setShouldFormatBigNumber(shouldFormatBigNumber)) {\n      updateFlag = true\n    }\n    if (styles !== undefined && instance.setStyles(styles)) {\n      updateFlag = true\n    }\n    if (extendData !== undefined && instance.setExtendData(extendData)) {\n      updateFlag = true\n      calcFlag = true\n    }\n    if (regenerateFigures !== undefined && instance.setRegenerateFigures(regenerateFigures)) {\n      updateFlag = true\n    }\n    if (createTooltipDataSource !== undefined && instance.setCreateTooltipDataSource(createTooltipDataSource)) {\n      updateFlag = true\n    }\n    if (draw !== undefined && instance.setDraw(draw)) {\n      updateFlag = true\n    }\n    if (calc !== undefined) {\n      instance.calc = calc\n      calcFlag = true\n    }\n    return [updateFlag, calcFlag]\n  }\n\n  async addInstance (indicator: IndicatorCreate, paneId: string, isStack: boolean): Promise<boolean> {\n    const { name } = indicator\n    let paneInstances = this._instances.get(paneId)\n    if (paneInstances?.has(name) ?? false) {\n      return await Promise.reject(new Error('Duplicate indicators.'))\n    }\n    if (paneInstances === undefined) {\n      paneInstances = new Map()\n      this._instances.set(paneId, paneInstances)\n    }\n    const IndicatorClazz = getIndicatorClass(name) as IndicatorConstructor\n    const instance = new IndicatorClazz()\n    this._overrideInstance(instance, indicator)\n    if (!isStack) {\n      paneInstances.clear()\n    }\n    paneInstances.set(name, instance)\n    return await instance.calcIndicator(this._chartStore.getDataList())\n  }\n\n  getInstances (paneId: string): Map<string, IndicatorImp> {\n    return this._instances.get(paneId) ?? new Map()\n  }\n\n  removeInstance (paneId: string, name?: string): boolean {\n    let removed = false\n    if (this._instances.has(paneId)) {\n      const paneInstances = this._instances.get(paneId) as Map<string, IndicatorImp>\n      if (name !== undefined) {\n        if (paneInstances.has(name)) {\n          paneInstances.delete(name)\n          removed = true\n        }\n      } else {\n        paneInstances.clear()\n        removed = true\n      }\n      if (paneInstances.size === 0) {\n        this._instances.delete(paneId)\n      }\n    }\n    return removed\n  }\n\n  hasInstances (paneId: string): boolean {\n    return this._instances.has(paneId)\n  }\n\n  async calcInstance (name?: string, paneId?: string): Promise<boolean[]> {\n    const tasks: Array<Promise<boolean>> = []\n    if (name !== undefined) {\n      if (paneId !== undefined) {\n        const paneInstances = this._instances.get(paneId)\n        if (paneInstances?.has(name) ?? false) {\n          const instance = paneInstances?.get(name) as IndicatorImp\n          tasks.push(instance.calcIndicator(this._chartStore.getDataList()))\n        }\n      } else {\n        this._instances.forEach(paneInstances => {\n          if (paneInstances.has(name)) {\n            const instance = paneInstances?.get(name) as IndicatorImp\n            tasks.push(instance.calcIndicator(this._chartStore.getDataList()))\n          }\n        })\n      }\n    } else {\n      this._instances.forEach(paneInstances => {\n        paneInstances.forEach(instance => {\n          tasks.push(instance.calcIndicator(this._chartStore.getDataList()))\n        })\n      })\n    }\n    return await Promise.all(tasks)\n  }\n\n  getInstanceByPaneId (paneId?: string, name?: string): Nullable<Indicator> | Nullable<Map<string, Indicator>> | Map<string, Map<string, Indicator>> {\n    if (paneId !== undefined) {\n      const paneInstances = this._instances.get(paneId)\n      if (name !== undefined) {\n        return paneInstances?.get(name) ?? null\n      }\n      return paneInstances ?? null\n    }\n    return this._instances\n  }\n\n  setSeriesPrecision (precision: Precision): void {\n    this._instances.forEach(paneInstances => {\n      paneInstances.forEach(instance => {\n        if (instance.series === IndicatorSeries.PRICE) {\n          instance.setPrecision(precision.price, true)\n        }\n        if (instance.series === IndicatorSeries.VOLUME) {\n          instance.setPrecision(precision.volume, true)\n        }\n      })\n    })\n  }\n\n  async override (indicator: IndicatorCreate, paneId: Nullable<string>): Promise<boolean[]> {\n    const { name } = indicator\n    let instances: Map<string, Map<string, IndicatorImp>> = new Map()\n    if (paneId !== null) {\n      if (this._instances.has(paneId)) {\n        instances.set(paneId, this._instances.get(paneId) as Map<string, IndicatorImp>)\n      }\n    } else {\n      instances = this._instances\n    }\n    const tasks: Array<Promise<boolean>> = []\n    instances.forEach(paneInstances => {\n      if (paneInstances.has(name)) {\n        const instance = paneInstances.get(name) as IndicatorImp\n        const overrideResult = this._overrideInstance(instance, indicator)\n        if (overrideResult[1]) {\n          tasks.push(instance.calcIndicator(this._chartStore.getDataList()))\n        }\n      }\n    })\n    return await Promise.all(tasks)\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Nullable from '../common/Nullable'\nimport KLineData from '../common/KLineData'\nimport Crosshair from '../common/Crosshair'\nimport { UpdateLevel } from '../common/Updater'\n\nimport ChartStore from './ChartStore'\n\nexport default class CrosshairStore {\n  private readonly _chartStore: ChartStore\n  private _crosshair: Crosshair = {}\n\n  constructor (chartStore: ChartStore) {\n    this._chartStore = chartStore\n  }\n\n  /**\n     * 设置十字光标点信息\n     * @param crosshair\n     * @param notInvalidate\n     */\n  set (crosshair?: Crosshair, notInvalidate?: boolean): CrosshairStore {\n    const dataList = this._chartStore.getDataList()\n    const cr = crosshair ?? {}\n    let realDataIndex: number\n    let dataIndex: number\n    if (cr.x !== undefined) {\n      realDataIndex = this._chartStore.getTimeScaleStore().coordinateToDataIndex(cr.x)\n      if (realDataIndex < 0) {\n        dataIndex = 0\n      } else if (realDataIndex > dataList.length - 1) {\n        dataIndex = dataList.length - 1\n      } else {\n        dataIndex = realDataIndex\n      }\n    } else {\n      realDataIndex = dataList.length - 1\n      dataIndex = realDataIndex\n    }\n    const kLineData: Nullable<KLineData> = dataList[dataIndex]\n    const realX = this._chartStore.getTimeScaleStore().dataIndexToCoordinate(realDataIndex)\n    const prevCrosshair = { x: this._crosshair.x, y: this._crosshair.y, paneId: this._crosshair.paneId }\n    this._crosshair = { ...cr, realX, kLineData, realDataIndex, dataIndex }\n    if (\n      prevCrosshair.x !== cr.x || prevCrosshair.y !== cr.y || prevCrosshair.paneId !== cr.paneId\n    ) {\n      if (kLineData !== null) {\n        this._chartStore.getChart().crosshairChange(this._crosshair)\n      }\n      if (!(notInvalidate ?? false)) {\n        this._chartStore.getChart().updatePane(UpdateLevel.OVERLAY)\n      }\n    }\n    return this\n  }\n\n  /**\n   * 重新计算十字光标\n   * @param notInvalidate\n   */\n  recalculate (notInvalidate: boolean): void {\n    this.set(this._crosshair, notInvalidate)\n  }\n\n  /**\n   * 获取crosshair信息\n   * @returns\n   */\n  get (): Crosshair {\n    return this._crosshair\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Nullable from '../common/Nullable'\nimport DeepPartial from '../common/DeepPartial'\nimport ExcludePickPartial from '../common/ExcludePickPartial'\nimport Point from '../common/Point'\nimport Coordinate from '../common/Coordinate'\nimport Bounding from '../common/Bounding'\nimport BarSpace from '../common/BarSpace'\nimport Precision from '../common/Precision'\nimport { OverlayStyle } from '../common/Options'\nimport { MouseTouchEvent } from '../common/SyntheticEvent'\n\nimport { clone } from '../common/utils/typeChecks'\n\nimport TimeScaleStore from '../store/TimeScaleStore'\n\nimport { XAxis } from './XAxis'\nimport { YAxis } from './YAxis'\n\nexport const enum OverlayMode {\n  NORMAL = 'normal',\n  WEAK_MAGNET = 'weak_magnet',\n  STRONG_MAGNET = 'strong_magnet'\n}\n\nexport interface OverlayPerformEventParams {\n  currentStep: number\n  mode: OverlayMode\n  points: Array<Partial<Point>>\n  performPointIndex: number\n  performPoint: Partial<Point>\n}\n\nexport interface OverlayFigure {\n  key?: string\n  type: string\n  attrs: any | any[]\n  styles?: any\n  ignoreEvent?: boolean\n}\n\nexport interface OverlayCreateFiguresCallbackParams {\n  overlay: Overlay\n  coordinates: Coordinate[]\n  bounding: Bounding\n  barSpace: BarSpace\n  precision: Precision\n  dateTimeFormat: Intl.DateTimeFormat\n  defaultStyles: OverlayStyle\n  xAxis: Nullable<XAxis>\n  yAxis: Nullable<YAxis>\n}\n\nexport interface OverlayEvent extends Partial<MouseTouchEvent> {\n  overlay: Overlay\n}\n\nexport type OverlayEventCallback = (event: OverlayEvent) => boolean\n\nexport type OverlayCreateFiguresCallback = (params: OverlayCreateFiguresCallbackParams) => OverlayFigure | OverlayFigure[]\n\nexport interface Overlay {\n  /**\n   * Unique identification\n   */\n  id: string\n\n  /**\n   * Group id\n   */\n  groupId: string\n\n  /**\n   * Name\n   */\n  name: string\n\n  /**\n   * Total number of steps required to complete mouse operation\n   */\n  totalStep: number\n\n  /**\n   * Current step\n   */\n  currentStep: number\n\n  /**\n   * Whether it is locked. When it is true, it will not respond to events\n   */\n  lock: boolean\n\n  /**\n   * Whether the default figure corresponding to the point is required\n   */\n  needDefaultPointFigure: boolean\n\n  /**\n   * Whether the default figure on the Y axis is required\n   */\n  needDefaultXAxisFigure: boolean\n\n  /**\n   * Whether the default figure on the X axis is required\n   */\n  needDefaultYAxisFigure: boolean\n\n  /**\n   * Mode\n   */\n  mode: OverlayMode\n\n  /**\n   * Time and value information\n   */\n  points: Array<Partial<Point>>\n\n  /**\n   * Extended Data\n   */\n  extendData: any\n\n  /**\n   * The style information and format are consistent with the overlay in the unified configuration\n   */\n  styles: Nullable<DeepPartial<OverlayStyle>>\n\n  /**\n   * Create figures corresponding to points\n   */\n  createPointFigures: Nullable<OverlayCreateFiguresCallback>\n\n  /**\n   * Create figures on the Y axis\n   */\n  createXAxisFigures: Nullable<OverlayCreateFiguresCallback>\n\n  /**\n   * Create figures on the X axis\n   */\n  createYAxisFigures: Nullable<OverlayCreateFiguresCallback>\n\n  /**\n   * Special handling callbacks when pressing events\n   */\n  performEventPressedMove: Nullable<(params: OverlayPerformEventParams) => void>\n\n  /**\n   * In drawing, special handling callback when moving events\n   */\n  performEventMoveForDrawing: Nullable<(params: OverlayPerformEventParams) => void>\n\n  /**\n   * Start drawing event\n   */\n  onDrawStart: Nullable<OverlayEventCallback>\n\n  /**\n   * In drawing event\n   */\n  onDrawing: Nullable<OverlayEventCallback>\n\n  /**\n   * Draw End Event\n   */\n  onDrawEnd: Nullable<OverlayEventCallback>\n\n  /**\n   * Click event\n   */\n  onClick: Nullable<OverlayEventCallback>\n\n  /**\n   * Right click event\n   */\n  onRightClick: Nullable<OverlayEventCallback>\n\n  /**\n   * Pressed move start event\n   */\n  onPressedMoveStart: Nullable<OverlayEventCallback>\n\n  /**\n   * Pressed moving event\n   */\n  onPressedMoving: Nullable<OverlayEventCallback>\n\n  /**\n   * Pressed move end event\n   */\n  onPressedMoveEnd: Nullable<OverlayEventCallback>\n\n  /**\n   * Mouse enter event\n   */\n  onMouseEnter: Nullable<OverlayEventCallback>\n\n  /**\n   * Mouse leave event\n   */\n  onMouseLeave: Nullable<OverlayEventCallback>\n\n  /**\n   * Removed event\n   */\n  onRemoved: Nullable<OverlayEventCallback>\n\n  /**\n   * Selected event\n   */\n  onSelected: Nullable<OverlayEventCallback>\n\n  /**\n   * Deselected event\n   */\n  onDeselected: Nullable<OverlayEventCallback>\n}\n\nexport type OverlayTemplate = ExcludePickPartial<Omit<Overlay, 'id' | 'groupId' | 'points' | 'currentStep'>, 'name'>\nexport type OverlayCreate = ExcludePickPartial<Omit<Overlay, 'currentStep' | 'totalStep' | 'createPointFigures' | 'createXAxisFigures' | 'createYAxisFigures' | 'performEventPressedMove' | 'performEventMoveForDrawing'>, 'name'>\nexport type OverlayRemove = Partial<Pick<Overlay, 'id' | 'groupId' | 'name'>>\nexport type OverlayConstructor = new () => OverlayImp\n\nconst OVERLAY_DRAW_STEP_START = 1\nconst OVERLAY_DRAW_STEP_FINISHED = -1\n\nexport default abstract class OverlayImp implements Overlay {\n  id: string\n  groupId: string\n  name: string\n  totalStep: number\n  currentStep: number = OVERLAY_DRAW_STEP_START\n  needDefaultPointFigure: boolean\n  needDefaultXAxisFigure: boolean\n  needDefaultYAxisFigure: boolean\n  lock: boolean\n  mode: OverlayMode\n  points: Array<Partial<Point>> = []\n  extendData: any\n  styles: Nullable<DeepPartial<OverlayStyle>>\n  createPointFigures: Nullable<OverlayCreateFiguresCallback>\n  createXAxisFigures: Nullable<OverlayCreateFiguresCallback>\n  createYAxisFigures: Nullable<OverlayCreateFiguresCallback>\n  performEventPressedMove: Nullable<(params: OverlayPerformEventParams) => void>\n  performEventMoveForDrawing: Nullable<(params: OverlayPerformEventParams) => void>\n  onDrawStart: Nullable<OverlayEventCallback>\n  onDrawing: Nullable<OverlayEventCallback>\n  onDrawEnd: Nullable<OverlayEventCallback>\n  onClick: Nullable<OverlayEventCallback>\n  onRightClick: Nullable<OverlayEventCallback>\n  onPressedMoveStart: Nullable<OverlayEventCallback>\n  onPressedMoving: Nullable<OverlayEventCallback>\n  onPressedMoveEnd: Nullable<OverlayEventCallback>\n  onMouseEnter: Nullable<OverlayEventCallback>\n  onMouseLeave: Nullable<OverlayEventCallback>\n  onRemoved: Nullable<OverlayEventCallback>\n  onSelected: Nullable<OverlayEventCallback>\n  onDeselected: Nullable<OverlayEventCallback>\n\n  private _prevPressedPoint: Nullable<Partial<Point>> = null\n  private _prevPressedPoints: Array<Partial<Point>> = []\n\n  constructor (overlay: OverlayTemplate) {\n    const {\n      mode, extendData, styles,\n      name, totalStep, lock,\n      needDefaultPointFigure, needDefaultXAxisFigure, needDefaultYAxisFigure,\n      createPointFigures, createXAxisFigures, createYAxisFigures,\n      performEventPressedMove, performEventMoveForDrawing,\n      onDrawStart, onDrawing, onDrawEnd,\n      onClick, onRightClick,\n      onPressedMoveStart, onPressedMoving, onPressedMoveEnd,\n      onMouseEnter, onMouseLeave, onRemoved,\n      onSelected, onDeselected\n    } = overlay\n    this.name = name\n    this.totalStep = (totalStep === undefined || totalStep < 2) ? 1 : totalStep\n    this.lock = lock ?? false\n    this.needDefaultPointFigure = needDefaultPointFigure ?? false\n    this.needDefaultXAxisFigure = needDefaultXAxisFigure ?? false\n    this.needDefaultYAxisFigure = needDefaultYAxisFigure ?? false\n    this.mode = mode ?? OverlayMode.NORMAL\n    this.extendData = extendData\n    this.styles = styles ?? null\n    this.createPointFigures = createPointFigures ?? null\n    this.createXAxisFigures = createXAxisFigures ?? null\n    this.createYAxisFigures = createYAxisFigures ?? null\n    this.performEventPressedMove = performEventPressedMove ?? null\n    this.performEventMoveForDrawing = performEventMoveForDrawing ?? null\n    this.onDrawStart = onDrawStart ?? null\n    this.onDrawing = onDrawing ?? null\n    this.onDrawEnd = onDrawEnd ?? null\n    this.onClick = onClick ?? null\n    this.onRightClick = onRightClick ?? null\n    this.onPressedMoveStart = onPressedMoveStart ?? null\n    this.onPressedMoving = onPressedMoving ?? null\n    this.onPressedMoveEnd = onPressedMoveEnd ?? null\n    this.onMouseEnter = onMouseEnter ?? null\n    this.onMouseLeave = onMouseLeave ?? null\n    this.onRemoved = onRemoved ?? null\n    this.onSelected = onSelected ?? null\n    this.onDeselected = onDeselected ?? null\n  }\n\n  setId (id: string): boolean {\n    if (this.id === undefined) {\n      this.id = id\n      return true\n    }\n    return false\n  }\n\n  setGroupId (groupId: string): boolean {\n    if (this.groupId === undefined) {\n      this.groupId = groupId\n      return true\n    }\n    return false\n  }\n\n  setExtendData (extendData: any): boolean {\n    if (extendData !== this.extendData) {\n      this.extendData = extendData\n      return true\n    }\n    return false\n  }\n\n  setStyles (styles: Nullable<DeepPartial<OverlayStyle>>): boolean {\n    if (styles !== this.styles) {\n      this.styles = styles\n      return true\n    }\n    return false\n  }\n\n  setPoints (points: Array<Partial<Point>>): boolean {\n    if (points.length > 0) {\n      let repeatTotalStep: number\n      this.points = [...points]\n      if (points.length >= this.totalStep - 1) {\n        this.currentStep = OVERLAY_DRAW_STEP_FINISHED\n        repeatTotalStep = this.totalStep - 1\n      } else {\n        this.currentStep = points.length + 1\n        repeatTotalStep = points.length\n      }\n      // Prevent wrong drawing due to wrong points\n      if (this.performEventMoveForDrawing !== null) {\n        for (let i = 0; i < repeatTotalStep; i++) {\n          this.performEventMoveForDrawing({\n            currentStep: i + 2,\n            mode: this.mode,\n            points: this.points,\n            performPointIndex: i,\n            performPoint: this.points[i]\n          })\n        }\n      }\n      if (this.currentStep === OVERLAY_DRAW_STEP_FINISHED && this.performEventPressedMove !== null) {\n        this.performEventPressedMove({\n          currentStep: this.currentStep,\n          mode: this.mode,\n          points: this.points,\n          performPointIndex: this.points.length - 1,\n          performPoint: this.points[this.points.length - 1]\n        })\n      }\n      return true\n    }\n    return false\n  }\n\n  setLock (lock: boolean): boolean {\n    if (this.lock !== lock) {\n      this.lock = lock\n      return true\n    }\n    return false\n  }\n\n  setMode (mode: OverlayMode): boolean {\n    if (mode !== this.mode) {\n      this.mode = mode\n      return true\n    }\n    return false\n  }\n\n  setOnDrawStartCallback (callback: Nullable<OverlayEventCallback>): boolean {\n    if (this.onDrawStart !== callback) {\n      this.onDrawStart = callback\n      return true\n    }\n    return false\n  }\n\n  setOnDrawingCallback (callback: Nullable<OverlayEventCallback>): boolean {\n    if (this.onDrawing !== callback) {\n      this.onDrawing = callback\n      return true\n    }\n    return false\n  }\n\n  setOnDrawEndCallback (callback: Nullable<OverlayEventCallback>): boolean {\n    if (this.onDrawEnd !== callback) {\n      this.onDrawEnd = callback\n      return true\n    }\n    return false\n  }\n\n  setOnClickCallback (callback: Nullable<OverlayEventCallback>): boolean {\n    if (this.onClick !== callback) {\n      this.onClick = callback\n      return true\n    }\n    return false\n  }\n\n  setOnRightClickCallback (callback: Nullable<OverlayEventCallback>): boolean {\n    if (this.onRightClick !== callback) {\n      this.onRightClick = callback\n      return true\n    }\n    return false\n  }\n\n  setOnPressedMoveStartCallback (callback: Nullable<OverlayEventCallback>): boolean {\n    if (this.onPressedMoveStart !== callback) {\n      this.onPressedMoveStart = callback\n      return true\n    }\n    return false\n  }\n\n  setOnPressedMovingCallback (callback: Nullable<OverlayEventCallback>): boolean {\n    if (this.onPressedMoving !== callback) {\n      this.onPressedMoving = callback\n      return true\n    }\n    return false\n  }\n\n  setOnPressedMoveEndCallback (callback: Nullable<OverlayEventCallback>): boolean {\n    if (this.onPressedMoveEnd !== callback) {\n      this.onPressedMoveEnd = callback\n      return true\n    }\n    return false\n  }\n\n  setOnMouseEnterCallback (callback: Nullable<OverlayEventCallback>): boolean {\n    if (this.onMouseEnter !== callback) {\n      this.onMouseEnter = callback\n      return true\n    }\n    return false\n  }\n\n  setOnMouseLeaveCallback (callback: Nullable<OverlayEventCallback>): boolean {\n    if (this.onMouseLeave !== callback) {\n      this.onMouseLeave = callback\n      return true\n    }\n    return false\n  }\n\n  setOnRemovedCallback (callback: Nullable<OverlayEventCallback>): boolean {\n    if (this.onRemoved !== callback) {\n      this.onRemoved = callback\n      return true\n    }\n    return false\n  }\n\n  setOnSelectedCallback (callback: Nullable<OverlayEventCallback>): boolean {\n    if (this.onSelected !== callback) {\n      this.onSelected = callback\n      return true\n    }\n    return false\n  }\n\n  setOnDeselectedCallback (callback: Nullable<OverlayEventCallback>): boolean {\n    if (this.onDeselected !== callback) {\n      this.onDeselected = callback\n      return true\n    }\n    return false\n  }\n\n  nextStep (): void {\n    if (this.currentStep === this.totalStep - 1) {\n      this.currentStep = OVERLAY_DRAW_STEP_FINISHED\n    } else {\n      this.currentStep++\n    }\n  }\n\n  isDrawing (): boolean {\n    return this.currentStep !== OVERLAY_DRAW_STEP_FINISHED\n  }\n\n  isStart (): boolean {\n    return this.currentStep === OVERLAY_DRAW_STEP_START\n  }\n\n  eventMoveForDrawing (point: Partial<Point>): void {\n    const pointIndex = this.currentStep - 1\n    const newPoint: Partial<Point> = {}\n    if (point.timestamp !== undefined) {\n      newPoint.timestamp = point.timestamp\n    }\n    if (point.dataIndex !== undefined) {\n      newPoint.dataIndex = point.dataIndex\n    }\n    if (point.value !== undefined) {\n      newPoint.value = point.value\n    }\n    this.points[pointIndex] = newPoint\n    this.performEventMoveForDrawing?.({\n      currentStep: this.currentStep,\n      mode: this.mode,\n      points: this.points,\n      performPointIndex: pointIndex,\n      performPoint: newPoint\n    })\n  }\n\n  eventPressedPointMove (point: Partial<Point>, pointIndex: number): void {\n    if (point.dataIndex !== undefined) {\n      this.points[pointIndex].dataIndex = point.dataIndex\n      this.points[pointIndex].timestamp = point.timestamp\n    }\n    if (point.value !== undefined) {\n      this.points[pointIndex].value = point.value\n    }\n    this.performEventPressedMove?.({\n      currentStep: this.currentStep,\n      points: this.points,\n      mode: this.mode,\n      performPointIndex: pointIndex,\n      performPoint: this.points[pointIndex]\n    })\n  }\n\n  startPressedMove (point: Partial<Point>): void {\n    this._prevPressedPoint = { ...point }\n    this._prevPressedPoints = clone(this.points)\n  }\n\n  eventPressedOtherMove (point: Partial<Point>, timeScaleStore: TimeScaleStore): void {\n    if (this._prevPressedPoint !== null) {\n      let difDataIndex: number\n      if (point.dataIndex !== undefined && this._prevPressedPoint.dataIndex !== undefined) {\n        difDataIndex = point.dataIndex - this._prevPressedPoint.dataIndex\n      }\n      let difValue: number\n      if (point.value !== undefined && this._prevPressedPoint.value !== undefined) {\n        difValue = point.value - this._prevPressedPoint.value\n      }\n      this.points = this._prevPressedPoints.map(p => {\n        if (p.dataIndex === undefined && p.timestamp !== undefined) {\n          p.dataIndex = timeScaleStore.timestampToDataIndex(p.timestamp)\n        }\n        const newPoint = { ...p }\n        if (difDataIndex !== undefined && p.dataIndex !== undefined) {\n          newPoint.dataIndex = p.dataIndex + difDataIndex\n          newPoint.timestamp = timeScaleStore.dataIndexToTimestamp(newPoint.dataIndex) ?? undefined\n        }\n        if (difValue !== undefined && p.value !== undefined) {\n          newPoint.value = p.value + difValue\n        }\n        return newPoint\n      })\n    }\n  }\n\n  static extend (template: OverlayTemplate): OverlayConstructor {\n    class Custom extends OverlayImp {\n      constructor () {\n        super(template)\n      }\n    }\n    return Custom\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { OverlayTemplate } from '../../component/Overlay'\n\nimport { LineAttrs } from '../figure/line'\nimport { TextAttrs } from '../figure/text'\n\nconst fibonacciLine: OverlayTemplate = {\n  name: 'fibonacciLine',\n  totalStep: 3,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  createPointFigures: ({ coordinates, bounding, overlay, precision }) => {\n    const points = overlay.points\n    if (coordinates.length > 0) {\n      const lines: LineAttrs[] = []\n      const texts: TextAttrs[] = []\n      const startX = 0\n      const endX = bounding.width\n      const value1 = points[1].value\n      if (coordinates.length > 1 && points[0].value !== undefined && value1 !== undefined) {\n        const percents = [1, 0.786, 0.618, 0.5, 0.382, 0.236, 0]\n        const yDif = coordinates[0].y - coordinates[1].y\n        const valueDif = points[0].value - value1\n        percents.forEach(percent => {\n          const y = coordinates[1].y + yDif * percent\n          const value = (value1 + valueDif * percent).toFixed(precision.price)\n          lines.push({ coordinates: [{ x: startX, y }, { x: endX, y }] })\n          texts.push({\n            x: startX,\n            y,\n            text: `${value} (${(percent * 100).toFixed(1)}%)`,\n            baseline: 'bottom'\n          })\n        })\n      }\n      return [\n        {\n          type: 'line',\n          attrs: lines\n        }, {\n          type: 'text',\n          isCheckEvent: false,\n          attrs: texts\n        }\n      ]\n    }\n    return []\n  }\n}\n\nexport default fibonacciLine\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { OverlayTemplate } from '../../component/Overlay'\n\nconst horizontalRayLine: OverlayTemplate = {\n  name: 'horizontalRayLine',\n  totalStep: 3,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  createPointFigures: ({ coordinates, bounding }) => {\n    const coordinate = { x: 0, y: coordinates[0].y }\n    if (coordinates[1] !== undefined && coordinates[0].x < coordinates[1].x) {\n      coordinate.x = bounding.width\n    }\n    return [\n      {\n        type: 'line',\n        attrs: { coordinates: [coordinates[0], coordinate] }\n      }\n    ]\n  },\n  performEventPressedMove: ({ points, performPoint }) => {\n    points[0].value = performPoint.value\n    points[1].value = performPoint.value\n  },\n  performEventMoveForDrawing: ({ currentStep, points, performPoint }) => {\n    if (currentStep === 2) {\n      points[0].value = performPoint.value\n    }\n  }\n}\n\nexport default horizontalRayLine\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { OverlayTemplate } from '../../component/Overlay'\n\nimport { LineAttrs } from '../figure/line'\n\nconst horizontalSegment: OverlayTemplate = {\n  name: 'horizontalSegment',\n  totalStep: 3,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  createPointFigures: ({ coordinates }) => {\n    const lines: LineAttrs[] = []\n    if (coordinates.length === 2) {\n      lines.push({ coordinates })\n    }\n    return [\n      {\n        type: 'line',\n        attrs: lines\n      }\n    ]\n  },\n  performEventPressedMove: ({ points, performPoint }) => {\n    points[0].value = performPoint.value\n    points[1].value = performPoint.value\n  },\n  performEventMoveForDrawing: ({ currentStep, points, performPoint }) => {\n    if (currentStep === 2) {\n      points[0].value = performPoint.value\n    }\n  }\n}\n\nexport default horizontalSegment\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { OverlayTemplate } from '../../component/Overlay'\n\nconst horizontalStraightLine: OverlayTemplate = {\n  name: 'horizontalStraightLine',\n  totalStep: 2,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  createPointFigures: ({ coordinates, bounding }) => {\n    return [{\n      type: 'line',\n      attrs: {\n        coordinates: [\n          {\n            x: 0,\n            y: coordinates[0].y\n          }, {\n            x: bounding.width,\n            y: coordinates[0].y\n          }\n        ]\n      }\n    }]\n  }\n}\n\nexport default horizontalStraightLine\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Nullable from '../../common/Nullable'\nimport Coordinate from '../../common/Coordinate'\nimport { SmoothLineStyle, LineType } from '../../common/Options'\n\nimport { FigureTemplate } from '../../component/Figure'\n\nfunction getDistance (coordinate1: Coordinate, coordinate2: Coordinate): number {\n  return Math.sqrt(Math.pow(coordinate1.x + coordinate2.x, 2) + Math.pow(coordinate1.y + coordinate2.y, 2))\n}\n\nfunction getSmoothControlCoordinate (coordinates: Coordinate[]): Coordinate[] {\n  const d01 = getDistance(coordinates[0], coordinates[1])\n  const d12 = getDistance(coordinates[1], coordinates[2])\n  const d02 = d01 + d12\n  const vector = [coordinates[2].x - coordinates[0].x, coordinates[2].y - coordinates[0].y]\n  return [\n    {\n      x: coordinates[1].x - vector[0] * 0.5 * d01 / d02,\n      y: coordinates[1].y - vector[1] * 0.5 * d01 / d02\n    }, {\n      x: coordinates[1].x + vector[0] * 0.5 * d01 / d02,\n      y: coordinates[1].y + vector[1] * 0.5 * d01 / d02\n    }\n  ]\n}\n\nexport function checkCoordinateOnLine (coordinate: Coordinate, line: LineAttrs): boolean {\n  let on = false\n  const coordinates = line.coordinates\n  if (coordinates.length > 1) {\n    for (let i = 1; i < coordinates.length; i++) {\n      const prevCoordinate = coordinates[i - 1]\n      const currentCoordinate = coordinates[i]\n      if (prevCoordinate.x === currentCoordinate.x) {\n        on = Math.abs(coordinate.x - prevCoordinate.x) < 2\n      } else {\n        const kb = getLinearSlopeIntercept(prevCoordinate, currentCoordinate) as number[]\n        const y = getLinearYFromSlopeIntercept(kb, coordinate)\n        const yDif = Math.abs(y - coordinate.y)\n        on = yDif * yDif / (kb[0] * kb[0] + 1) < 2 * 2\n      }\n      if (on) {\n        return on\n      }\n    }\n  }\n  return on\n}\n\nexport function getLinearYFromSlopeIntercept (kb: Nullable<number[]>, coordinate: Coordinate): number {\n  if (kb != null) {\n    return coordinate.x * kb[0] + kb[1]\n  }\n  return coordinate.y\n}\n\n/**\n * 获取点在两点决定的一次函数上的y值\n * @param coordinate1\n * @param coordinate2\n * @param targetCoordinate\n */\nexport function getLinearYFromCoordinates (coordinate1: Coordinate, coordinate2: Coordinate, targetCoordinate: Coordinate): number {\n  const kb = getLinearSlopeIntercept(coordinate1, coordinate2)\n  return getLinearYFromSlopeIntercept(kb, targetCoordinate)\n}\n\nexport function getLinearSlopeIntercept (coordinate1: Coordinate, coordinate2: Coordinate): Nullable<number[]> {\n  const difX = coordinate1.x - coordinate2.x\n  if (difX !== 0) {\n    const k = (coordinate1.y - coordinate2.y) / difX\n    const b = coordinate1.y - k * coordinate1.x\n    return [k, b]\n  }\n  return null\n}\n\nexport function drawLine (ctx: CanvasRenderingContext2D, attrs: LineAttrs, styles: Partial<SmoothLineStyle>): void {\n  const { coordinates } = attrs\n  const length = coordinates.length\n  if (length > 1) {\n    const { style = LineType.SOLID, smooth, size = 1, color = 'currentColor', dashedValue = [2, 2] } = styles\n    ctx.lineWidth = size\n    ctx.strokeStyle = color\n    if (style === LineType.DASHED) {\n      ctx.setLineDash(dashedValue)\n    } else {\n      ctx.setLineDash([])\n    }\n    ctx.beginPath()\n    ctx.moveTo(coordinates[0].x, coordinates[0].y)\n\n    if (smooth ?? false) {\n      let controlCoordinates: Coordinate[] = []\n      for (let i = 1; i < length - 1; i++) {\n        controlCoordinates = controlCoordinates.concat(getSmoothControlCoordinate([coordinates[i - 1], coordinates[i], coordinates[i + 1]]))\n      }\n      ctx.quadraticCurveTo(controlCoordinates[0].x, controlCoordinates[0].y, coordinates[1].x, coordinates[1].y)\n      let i = 2\n      for (; i < length - 1; i++) {\n        ctx.bezierCurveTo(\n          controlCoordinates[(i - 2) * 2 + 1].x,\n          controlCoordinates[(i - 2) * 2 + 1].y,\n          controlCoordinates[(i - 1) * 2].x,\n          controlCoordinates[(i - 1) * 2].y,\n          coordinates[i].x,\n          coordinates[i].y\n        )\n      }\n      ctx.quadraticCurveTo(\n        controlCoordinates[(i - 2) * 2 + 1].x,\n        controlCoordinates[(i - 2) * 2 + 1].y,\n        coordinates[i].x,\n        coordinates[i].y\n      )\n    } else {\n      for (let i = 1; i < coordinates.length; i++) {\n        ctx.lineTo(coordinates[i].x, coordinates[i].y)\n      }\n    }\n    ctx.stroke()\n    ctx.closePath()\n  }\n}\n\nexport interface LineAttrs {\n  coordinates: Coordinate[]\n}\n\nconst line: FigureTemplate<LineAttrs, Partial<SmoothLineStyle>> = {\n  name: 'line',\n  checkEventOn: checkCoordinateOnLine,\n  draw: (ctx: CanvasRenderingContext2D, attrs: LineAttrs, styles: Partial<SmoothLineStyle>) => {\n    drawLine(ctx, attrs, styles)\n  }\n}\n\nexport default line\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Coordinate from '../../common/Coordinate'\nimport Bounding from '../../common/Bounding'\n\nimport { OverlayTemplate } from '../../component/Overlay'\n\nimport { LineAttrs, getLinearSlopeIntercept } from '../figure/line'\n\n/**\n * 获取平行线\n * @param coordinates\n * @param bounding\n * @param extendParallelLineCount\n * @returns {Array}\n */\nexport function getParallelLines (coordinates: Coordinate[], bounding: Bounding, extendParallelLineCount?: number): LineAttrs[] {\n  const count = extendParallelLineCount ?? 0\n  const lines: LineAttrs[] = []\n  if (coordinates.length > 1) {\n    if (coordinates[0].x === coordinates[1].x) {\n      const startY = 0\n      const endY = bounding.height\n      lines.push({ coordinates: [{ x: coordinates[0].x, y: startY }, { x: coordinates[0].x, y: endY }] })\n      if (coordinates.length > 2) {\n        lines.push({ coordinates: [{ x: coordinates[2].x, y: startY }, { x: coordinates[2].x, y: endY }] })\n        const distance = coordinates[0].x - coordinates[2].x\n        for (let i = 0; i < count; i++) {\n          const d = distance * (i + 1)\n          lines.push({ coordinates: [{ x: coordinates[0].x + d, y: startY }, { x: coordinates[0].x + d, y: endY }] })\n        }\n      }\n    } else {\n      const startX = 0\n      const endX = bounding.width\n      const kb = getLinearSlopeIntercept(coordinates[0], coordinates[1]) as number[]\n      const k = kb[0]\n      const b = kb[1]\n      lines.push({ coordinates: [{ x: startX, y: startX * k + b }, { x: endX, y: endX * k + b }] })\n      if (coordinates.length > 2) {\n        const b1 = coordinates[2].y - k * coordinates[2].x\n        lines.push({ coordinates: [{ x: startX, y: startX * k + b1 }, { x: endX, y: endX * k + b1 }] })\n        const distance = b - b1\n        for (let i = 0; i < count; i++) {\n          const b2 = b + distance * (i + 1)\n          lines.push({ coordinates: [{ x: startX, y: startX * k + b2 }, { x: endX, y: endX * k + b2 }] })\n        }\n      }\n    }\n  }\n  return lines\n}\n\nconst parallelStraightLine: OverlayTemplate = {\n  name: 'parallelStraightLine',\n  totalStep: 4,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  createPointFigures: ({ coordinates, bounding }) => {\n    return [\n      {\n        type: 'line',\n        attrs: getParallelLines(coordinates, bounding)\n      }\n    ]\n  }\n}\n\nexport default parallelStraightLine\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { OverlayTemplate } from '../../component/Overlay'\n\nimport { getParallelLines } from './parallelStraightLine'\n\nconst priceChannelLine: OverlayTemplate = {\n  name: 'priceChannelLine',\n  totalStep: 4,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  createPointFigures: ({ coordinates, bounding }) => {\n    return [\n      {\n        type: 'line',\n        attrs: getParallelLines(coordinates, bounding, 1)\n      }\n    ]\n  }\n}\n\nexport default priceChannelLine\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { OverlayTemplate } from '../../component/Overlay'\n\nconst priceLine: OverlayTemplate = {\n  name: 'priceLine',\n  totalStep: 2,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  createPointFigures: ({ coordinates, bounding, precision, overlay }) => {\n    const { value = 0 } = (overlay.points)[0]\n    return [\n      {\n        type: 'line',\n        attrs: { coordinates: [coordinates[0], { x: bounding.width, y: coordinates[0].y }] }\n      },\n      {\n        type: 'text',\n        isCheck: false,\n        attrs: { x: coordinates[0].x, y: coordinates[0].y, text: value.toFixed(precision.price), baseline: 'bottom' }\n      }\n    ]\n  }\n}\n\nexport default priceLine\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Coordinate from '../../common/Coordinate'\nimport Bounding from '../../common/Bounding'\n\nimport { OverlayTemplate } from '../../component/Overlay'\n\nimport { getLinearYFromCoordinates, LineAttrs } from '../figure/line'\n\nexport function getRayLine (coordinates: Coordinate[], bounding: Bounding): LineAttrs | LineAttrs[] {\n  if (coordinates.length > 1) {\n    let coordinate: Coordinate\n    if (coordinates[0].x === coordinates[1].x && coordinates[0].y !== coordinates[1].y) {\n      if (coordinates[0].y < coordinates[1].y) {\n        coordinate = {\n          x: coordinates[0].x,\n          y: bounding.height\n        }\n      } else {\n        coordinate = {\n          x: coordinates[0].x,\n          y: 0\n        }\n      }\n    } else if (coordinates[0].x > coordinates[1].x) {\n      coordinate = {\n        x: 0,\n        y: getLinearYFromCoordinates(coordinates[0], coordinates[1], { x: 0, y: coordinates[0].y })\n      }\n    } else {\n      coordinate = {\n        x: bounding.width,\n        y: getLinearYFromCoordinates(coordinates[0], coordinates[1], { x: bounding.width, y: coordinates[0].y })\n      }\n    }\n    return { coordinates: [coordinates[0], coordinate] }\n  }\n  return []\n}\n\nconst rayLine: OverlayTemplate = {\n  name: 'rayLine',\n  totalStep: 3,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  createPointFigures: ({ coordinates, bounding }) => {\n    return [\n      {\n        type: 'line',\n        attrs: getRayLine(coordinates, bounding)\n      }\n    ]\n  }\n}\n\nexport default rayLine\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { OverlayTemplate } from '../../component/Overlay'\n\nconst segment: OverlayTemplate = {\n  name: 'segment',\n  totalStep: 3,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  createPointFigures: ({ coordinates }) => {\n    if (coordinates.length === 2) {\n      return [\n        {\n          type: 'line',\n          attrs: { coordinates }\n        }\n      ]\n    }\n    return []\n  }\n}\n\nexport default segment\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { getLinearYFromCoordinates } from '../figure/line'\n\nimport { OverlayTemplate } from '../../component/Overlay'\n\nconst straightLine: OverlayTemplate = {\n  name: 'straightLine',\n  totalStep: 3,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  createPointFigures: ({ coordinates, bounding }) => {\n    if (coordinates.length === 2) {\n      if (coordinates[0].x === coordinates[1].x) {\n        return [\n          {\n            type: 'line',\n            attrs: {\n              coordinates: [\n                {\n                  x: coordinates[0].x,\n                  y: 0\n                }, {\n                  x: coordinates[0].x,\n                  y: bounding.height\n                }\n              ]\n            }\n          }\n        ]\n      }\n      return [\n        {\n          type: 'line',\n          attrs: {\n            coordinates: [\n              {\n                x: 0,\n                y: getLinearYFromCoordinates(coordinates[0], coordinates[1], { x: 0, y: coordinates[0].y })\n              }, {\n                x: bounding.width,\n                y: getLinearYFromCoordinates(coordinates[0], coordinates[1], { x: bounding.width, y: coordinates[0].y })\n              }\n            ]\n          }\n        }\n      ]\n    }\n    return []\n  }\n}\n\nexport default straightLine\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { OverlayTemplate } from '../../component/Overlay'\n\nconst verticalRayLine: OverlayTemplate = {\n  name: 'verticalRayLine',\n  totalStep: 3,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  createPointFigures: ({ coordinates, bounding }) => {\n    if (coordinates.length === 2) {\n      const coordinate = { x: coordinates[0].x, y: 0 }\n      if (coordinates[0].y < coordinates[1].y) {\n        coordinate.y = bounding.height\n      }\n      return [\n        {\n          type: 'line',\n          attrs: { coordinates: [coordinates[0], coordinate] }\n        }\n      ]\n    }\n    return []\n  },\n  performEventPressedMove: ({ points, performPoint }) => {\n    points[0].timestamp = performPoint.timestamp\n    points[0].dataIndex = performPoint.dataIndex\n    points[1].timestamp = performPoint.timestamp\n    points[1].dataIndex = performPoint.dataIndex\n  },\n  performEventMoveForDrawing: ({ currentStep, points, performPoint }) => {\n    if (currentStep === 2) {\n      points[0].timestamp = performPoint.timestamp\n      points[0].dataIndex = performPoint.dataIndex\n    }\n  }\n}\n\nexport default verticalRayLine\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { OverlayTemplate } from '../../component/Overlay'\n\nconst verticalSegment: OverlayTemplate = {\n  name: 'verticalSegment',\n  totalStep: 3,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  createPointFigures: ({ coordinates }) => {\n    if (coordinates.length === 2) {\n      return [\n        {\n          type: 'line',\n          attrs: { coordinates }\n        }\n      ]\n    }\n    return []\n  },\n  performEventPressedMove: ({ points, performPoint }) => {\n    points[0].timestamp = performPoint.timestamp\n    points[0].dataIndex = performPoint.dataIndex\n    points[1].timestamp = performPoint.timestamp\n    points[1].dataIndex = performPoint.dataIndex\n  },\n  performEventMoveForDrawing: ({ currentStep, points, performPoint }) => {\n    if (currentStep === 2) {\n      points[0].timestamp = performPoint.timestamp\n      points[0].dataIndex = performPoint.dataIndex\n    }\n  }\n}\n\nexport default verticalSegment\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { OverlayTemplate } from '../../component/Overlay'\n\nconst verticalStraightLine: OverlayTemplate = {\n  name: 'verticalStraightLine',\n  totalStep: 2,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  createPointFigures: ({ coordinates, bounding }) => {\n    return [\n      {\n        type: 'line',\n        attrs: {\n          coordinates: [\n            {\n              x: coordinates[0].x,\n              y: 0\n            }, {\n              x: coordinates[0].x,\n              y: bounding.height\n            }\n          ]\n        }\n      }\n    ]\n  }\n}\n\nexport default verticalStraightLine\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { OverlayTemplate } from '../../component/Overlay'\nimport { isFunction, isValid } from '../../common/utils/typeChecks'\n\nconst simpleAnnotation: OverlayTemplate = {\n  name: 'simpleAnnotation',\n  createPointFigures: ({ overlay, coordinates }) => {\n    let text\n    if (isValid(overlay.extendData)) {\n      if (!isFunction(overlay.extendData)) {\n        text = overlay.extendData ?? ''\n      } else {\n        text = overlay.extendData(overlay)\n      }\n    }\n    const startX = coordinates[0].x\n    const startY = coordinates[0].y - 6\n    const lineEndY = startY - 50\n    const arrowEndY = lineEndY - 5\n    return [\n      {\n        type: 'line',\n        attrs: { coordinates: [{ x: startX, y: startY }, { x: startX, y: lineEndY }] },\n        ignoreEvent: true\n      },\n      {\n        type: 'polygon',\n        attrs: { coordinates: [{ x: startX, y: lineEndY }, { x: startX - 4, y: arrowEndY }, { x: startX + 4, y: arrowEndY }] },\n        ignoreEvent: true\n      },\n      {\n        type: 'rectText',\n        attrs: { x: startX, y: arrowEndY, text: text ?? '', align: 'center', baseline: 'bottom' },\n        ignoreEvent: true\n      }\n    ]\n  }\n}\n\nexport default simpleAnnotation\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { formatPrecision } from '../../common/utils/format'\n\nimport { OverlayTemplate } from '../../component/Overlay'\n\nimport { isFunction, isValid } from '../../common/utils/typeChecks'\n\nconst simpleTag: OverlayTemplate = {\n  name: 'simpleTag',\n  createPointFigures: ({ bounding, coordinates }) => {\n    return {\n      type: 'line',\n      attrs: {\n        coordinates: [\n          { x: 0, y: coordinates[0].y },\n          { x: bounding.width, y: coordinates[0].y }\n        ]\n      },\n      ignoreEvent: true\n    }\n  },\n  createYAxisFigures: ({ overlay, coordinates, bounding, yAxis, precision }) => {\n    const isFromZero = yAxis?.isFromZero() ?? false\n    let textAlign: CanvasTextAlign\n    let x: number\n    if (isFromZero) {\n      textAlign = 'left'\n      x = 0\n    } else {\n      textAlign = 'right'\n      x = bounding.width\n    }\n    let text\n    if (isValid(overlay.extendData)) {\n      if (!isFunction(overlay.extendData)) {\n        text = overlay.extendData ?? ''\n      } else {\n        text = overlay.extendData(overlay)\n      }\n    }\n    if (!isValid(text) && overlay.points[0].value !== undefined) {\n      text = formatPrecision(overlay.points[0].value, precision.price)\n    }\n    return { type: 'rectText', attrs: { x, y: coordinates[0].y, text: text ?? '', align: textAlign, baseline: 'middle' } }\n  }\n}\n\nexport default simpleTag\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Nullable from '../../common/Nullable'\n\nimport OverlayImp, { OverlayTemplate, OverlayConstructor } from '../../component/Overlay'\n\nimport fibonacciLine from './fibonacciLine'\nimport horizontalRayLine from './horizontalRayLine'\nimport horizontalSegment from './horizontalSegment'\nimport horizontalStraightLine from './horizontalStraightLine'\nimport parallelStraightLine from './parallelStraightLine'\nimport priceChannelLine from './priceChannelLine'\nimport priceLine from './priceLine'\nimport rayLine from './rayLine'\nimport segment from './segment'\nimport straightLine from './straightLine'\nimport verticalRayLine from './verticalRayLine'\nimport verticalSegment from './verticalSegment'\nimport verticalStraightLine from './verticalStraightLine'\n\nimport simpleAnnotation from './simpleAnnotation'\nimport simpleTag from './simpleTag'\n\nconst overlays: { [key: string]: OverlayConstructor } = {}\n\nconst extensions = [\n  fibonacciLine, horizontalRayLine, horizontalSegment, horizontalStraightLine,\n  parallelStraightLine, priceChannelLine, priceLine, rayLine, segment,\n  straightLine, verticalRayLine, verticalSegment, verticalStraightLine,\n  simpleAnnotation, simpleTag\n]\n\nextensions.forEach((template: OverlayTemplate) => {\n  overlays[template.name] = OverlayImp.extend(template)\n})\n\nfunction registerOverlay (template: OverlayTemplate): void {\n  overlays[template.name] = OverlayImp.extend(template)\n}\n\nfunction getOverlayClass (name: string): Nullable<OverlayConstructor> {\n  return overlays[name] ?? null\n}\n\nfunction getSupportedOverlays (): string[] {\n  return Object.keys(overlays)\n}\n\nexport { registerOverlay, getOverlayClass, getSupportedOverlays }\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { merge } from './utils/typeChecks'\n\nexport default interface Bounding {\n  width: number\n  height: number\n  left: number\n  right: number\n  top: number\n  bottom: number\n}\n\nexport function getDefaultBounding (bounding?: Partial<Bounding>): Bounding {\n  const defaultBounding: Bounding = {\n    width: 0,\n    height: 0,\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0\n  }\n  if (bounding !== undefined) {\n    merge(defaultBounding, bounding)\n  }\n  return defaultBounding\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { EventName, MouseTouchEvent, MouseTouchEventCallback } from './SyntheticEvent'\n\nexport interface EventDispatcher {\n  dispatchEvent: (name: EventName, event: MouseTouchEvent, other?: number) => boolean\n}\n\nexport default abstract class Eventful implements EventDispatcher {\n  private _children: Eventful[] = []\n\n  private readonly _callbacks = new Map<EventName, MouseTouchEventCallback>()\n\n  registerEvent (name: EventName, callback: MouseTouchEventCallback): Eventful {\n    this._callbacks.set(name, callback)\n    return this\n  }\n\n  onEvent (name: EventName, event: MouseTouchEvent, other?: number): boolean {\n    const callback = this._callbacks.get(name)\n    if (callback !== undefined && this.checkEventOn(event)) {\n      return callback(event, other)\n    }\n    return false\n  }\n\n  checkEventOn (event: MouseTouchEvent): boolean {\n    for (const eventful of this._children) {\n      if (eventful.checkEventOn(event)) {\n        return true\n      }\n    }\n    return false\n  }\n\n  dispatchEvent (name: EventName, event: MouseTouchEvent, other?: number): boolean {\n    const start = this._children.length - 1\n    if (start > -1) {\n      for (let i = start; i > -1; i--) {\n        if (this._children[i].dispatchEvent(name, event, other)) {\n          return true\n        }\n      }\n    }\n    return this.onEvent(name, event, other)\n  }\n\n  addChild (eventful: Eventful): Eventful {\n    this._children.push(eventful)\n    return this\n  }\n\n  clear (): void {\n    this._children = []\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Bounding, { getDefaultBounding } from '../common/Bounding'\nimport Updater, { UpdateLevel } from '../common/Updater'\nimport Eventful from '../common/Eventful'\n\nimport Axis from '../component/Axis'\n\nimport Pane from '../pane/Pane'\n\nimport { createDom } from '../common/utils/dom'\nimport { merge } from '../common/utils/typeChecks'\n\nexport const WidgetNameConstants = {\n  MAIN: 'main',\n  XAXIS: 'xAxis',\n  YAXIS: 'yAxis',\n  SEPARATOR: 'separator'\n}\n\nexport default abstract class Widget<C extends Axis = Axis> extends Eventful implements Updater {\n  /**\n   * Parent pane\n   */\n  private readonly _pane: Pane<C>\n\n  /**\n   * Root dom container\n   */\n  private _container: HTMLElement\n\n  private readonly _bounding: Bounding = getDefaultBounding()\n\n  constructor (rootContainer: HTMLElement, pane: Pane<C>) {\n    super()\n    this._pane = pane\n    this._init(rootContainer)\n  }\n\n  private _init (rootContainer: HTMLElement): void {\n    this._container = createDom('div', this.getContainerStyle())\n    if (this.insertBefore()) {\n      const lastElement = rootContainer.lastChild\n      if (lastElement !== null) {\n        rootContainer.insertBefore(this._container, lastElement)\n      } else {\n        rootContainer.appendChild(this._container)\n      }\n    } else {\n      rootContainer.appendChild(this._container)\n    }\n    this.initDom(this._container)\n  }\n\n  setBounding (bounding: Partial<Bounding>): Widget<C> {\n    merge(this._bounding, bounding)\n    return this\n  }\n\n  getContainer (): HTMLElement { return this._container }\n\n  getBounding (): Bounding {\n    return this._bounding\n  }\n\n  getPane (): Pane<C> {\n    return this._pane\n  }\n\n  update (level: UpdateLevel): void {\n    this.updateImp(level, this._container, this._bounding)\n  }\n\n  abstract getName (): string\n\n  protected insertBefore (): boolean { return false }\n\n  protected abstract getContainerStyle (): Partial<CSSStyleDeclaration>\n\n  protected abstract initDom (container: HTMLElement): void\n\n  protected abstract updateImp (level: UpdateLevel, container: HTMLElement, bounding: Bounding): void\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport function throttle (func: (...args: any[]) => any, wait?: number): () => void {\n  let previous = 0\n  return function () {\n    const now = Date.now()\n    if (now - previous > (wait ?? 20)) {\n      func.apply(this, arguments)\n      previous = now\n    }\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Bounding from '../common/Bounding'\nimport { UpdateLevel } from '../common/Updater'\nimport { MouseTouchEvent } from '../common/SyntheticEvent'\nimport { ActionType } from '../common/Action'\n\nimport Axis from '../component/Axis'\nimport YAxis from '../component/YAxis'\n\nimport Widget, { WidgetNameConstants } from './Widget'\nimport Pane from '../pane/Pane'\n\nimport { createDom } from '../common/utils/dom'\nimport { getPixelRatio } from '../common/utils/canvas'\nimport { throttle } from '../common/utils/performance'\n\nexport const REAL_SEPARATOR_HEIGHT = 7\n\nexport default class SeparatorWidget extends Widget<YAxis> {\n  private _moveDom: HTMLElement\n\n  private _dragFlag = false\n  private _dragStartY = 0\n\n  private _topPaneHeight = 0\n  private _currentPaneHeight = 0\n\n  constructor (rootContainer: HTMLElement, pane: Pane<YAxis>) {\n    super(rootContainer, pane)\n    this.registerEvent('touchStartEvent', this._mouseDownEvent.bind(this))\n      .registerEvent('touchMoveEvent', this._pressedMouseMoveEvent.bind(this))\n      .registerEvent('touchEndEvent', this._mouseUpEvent.bind(this))\n      .registerEvent('mouseDownEvent', this._mouseDownEvent.bind(this))\n      .registerEvent('mouseUpEvent', this._mouseUpEvent.bind(this))\n      .registerEvent('pressedMouseMoveEvent', this._pressedMouseMoveEvent.bind(this))\n      .registerEvent('mouseEnterEvent', this._mouseEnterEvent.bind(this))\n      .registerEvent('mouseLeaveEvent', this._mouseLeaveEvent.bind(this))\n  }\n\n  getName (): string {\n    return WidgetNameConstants.SEPARATOR\n  }\n\n  checkEventOn (): boolean {\n    return true\n  }\n\n  private _mouseDownEvent (event: MouseTouchEvent): boolean {\n    this._dragFlag = true\n    this._dragStartY = event.pageY\n    const pane = this.getPane()\n    this._topPaneHeight = pane.getTopPane()?.getBounding().height ?? 0\n    this._currentPaneHeight = pane.getBounding().height\n    return true\n  }\n\n  private _mouseUpEvent (): boolean {\n    this._dragFlag = false\n    return this._mouseLeaveEvent()\n  }\n\n  private readonly _pressedMouseMoveEvent = throttle(this._pressedTouchMouseMoveEvent, 20)\n\n  private _pressedTouchMouseMoveEvent (event: MouseTouchEvent): boolean {\n    const dragDistance = event.pageY - this._dragStartY\n    const currentPane = this.getPane()\n    const topPane = currentPane.getTopPane()\n    const isUpDrag = dragDistance < 0\n    if (topPane !== null && currentPane.getOptions().dragEnabled) {\n      let reducedPane: Pane<Axis>\n      let increasedPane: Pane<Axis>\n      let startDragReducedPaneHeight: number\n      let startDragIncreasedPaneHeight: number\n      if (isUpDrag) {\n        reducedPane = topPane\n        increasedPane = currentPane\n        startDragReducedPaneHeight = this._topPaneHeight\n        startDragIncreasedPaneHeight = this._currentPaneHeight\n      } else {\n        reducedPane = currentPane\n        increasedPane = topPane\n        startDragReducedPaneHeight = this._currentPaneHeight\n        startDragIncreasedPaneHeight = this._topPaneHeight\n      }\n      const reducedPaneMinHeight = reducedPane.getOptions().minHeight\n      if (startDragReducedPaneHeight > reducedPaneMinHeight) {\n        const reducedPaneHeight = Math.max(startDragReducedPaneHeight - Math.abs(dragDistance), reducedPaneMinHeight)\n        const diffHeight = startDragReducedPaneHeight - reducedPaneHeight\n        reducedPane.setBounding({ height: reducedPaneHeight })\n        increasedPane.setBounding({ height: startDragIncreasedPaneHeight + diffHeight })\n        const chart = currentPane.getChart()\n        chart.getChartStore().getActionStore().execute(ActionType.onPaneDrag, { paneId: currentPane.getId })\n        chart.adjustPaneViewport(true, true, true, true, true)\n      }\n    }\n    return true\n  }\n\n  private _mouseEnterEvent (): boolean {\n    const pane = this.getPane()\n    if (pane.getOptions().dragEnabled) {\n      const chart = pane.getChart()\n      const styles = chart.getStyles().separator\n      this._moveDom.style.background = styles.activeBackgroundColor\n      const chartStore = chart.getChartStore()\n      chartStore.setDragPaneFlag(true)\n      chartStore.getCrosshairStore().set()\n      return true\n    }\n    return false\n  }\n\n  private _mouseLeaveEvent (): boolean {\n    if (!this._dragFlag) {\n      this._moveDom.style.background = ''\n      this.getPane().getChart().getChartStore().setDragPaneFlag(false)\n      return true\n    }\n    return false\n  }\n\n  protected getContainerStyle (): Partial<CSSStyleDeclaration> {\n    return {\n      margin: '0',\n      padding: '0',\n      position: 'relative',\n      boxSizing: 'border-box'\n    }\n  }\n\n  protected insertBefore (): boolean { return true }\n\n  protected initDom (container: HTMLElement): void {\n    this._moveDom = createDom('div', {\n      width: '100%',\n      height: `${REAL_SEPARATOR_HEIGHT}px`,\n      margin: '0',\n      padding: '0',\n      position: 'absolute',\n      top: '-3px',\n      zIndex: '20',\n      boxSizing: 'border-box',\n      cursor: 'ns-resize'\n    })\n    container.appendChild(this._moveDom)\n  }\n\n  protected updateImp (level: UpdateLevel, container: HTMLElement, bounding: Bounding): void {\n    if (level === UpdateLevel.ALL || level === UpdateLevel.SEPARATOR) {\n      const styles = this.getPane().getChart().getStyles().separator\n      this._moveDom.style.top = `${-Math.floor((REAL_SEPARATOR_HEIGHT - styles.size) / 2)}px`\n      this._moveDom.style.height = `${REAL_SEPARATOR_HEIGHT}px`\n      const fill = styles.fill\n      container.style.backgroundColor = styles.color\n      container.style.height = `${styles.size}px`\n      container.style.marginLeft = `${fill ? 0 : bounding.left}px`\n      container.style.width = fill ? '100%' : `${bounding.width}px`\n    }\n  }\n\n  getImage (): HTMLCanvasElement {\n    const styles = this.getPane().getChart().getStyles().separator\n    const width = this.getContainer().offsetWidth\n    const height = styles.size\n    const canvas = createDom('canvas', {\n      width: `${width}px`,\n      height: `${height}px`,\n      boxSizing: 'border-box'\n    })\n    const ctx = canvas.getContext('2d') as CanvasRenderingContext2D\n    const pixelRatio = getPixelRatio(canvas)\n    canvas.width = width * pixelRatio\n    canvas.height = height * pixelRatio\n    ctx.scale(pixelRatio, pixelRatio)\n    ctx.fillStyle = styles.color\n    ctx.fillRect(this.getBounding().left, 0, width, height)\n    return canvas\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport DeepRequired from '../common/DeepRequired'\nimport Nullable from '../common/Nullable'\nimport Updater, { UpdateLevel } from '../common/Updater'\nimport Bounding, { getDefaultBounding } from '../common/Bounding'\n\nimport Axis from '../component/Axis'\n\nimport DrawWidget from '../widget/DrawWidget'\nimport SeparatorWidget, { REAL_SEPARATOR_HEIGHT } from '../widget/SeparatorWidget'\nimport YAxisWidget from '../widget/YAxisWidget'\n\nimport Chart from '../Chart'\n\nimport { createDom } from '../common/utils/dom'\nimport { getPixelRatio } from '../common/utils/canvas'\nimport { merge } from '../common/utils/typeChecks'\n\nexport interface PaneGap {\n  top?: number\n  bottom?: number\n}\nexport interface PaneOptions {\n  id?: string\n  height?: number\n  minHeight?: number\n  dragEnabled?: boolean\n  gap?: PaneGap\n}\n\nexport const PANE_MIN_HEIGHT = 30\n\nexport const PANE_DEFAULT_HEIGHT = 100\n\nexport const PaneIdConstants = {\n  CANDLE: 'candle_pane',\n  INDICATOR: 'indcator_pane_',\n  XAXIS: 'xaxis_pane'\n}\n\nexport default abstract class Pane<C extends Axis = Axis> implements Updater {\n  private _container: HTMLElement\n  private _seriesContiainer: HTMLElement\n  private readonly _id: string\n  private readonly _chart: Chart\n  private _mainWidget: DrawWidget<C>\n  private _yAxisWidget: Nullable<YAxisWidget> = null\n  private _separatorWidget: Nullable<SeparatorWidget> = null\n  private readonly _axis: C = this.createAxisComponent()\n\n  private readonly _bounding: Bounding = getDefaultBounding()\n\n  private _topPane: Nullable<Pane>\n  private _bottomPane: Nullable<Pane>\n\n  private readonly _options: DeepRequired<Omit<PaneOptions, 'id' | 'height'>> = { minHeight: PANE_MIN_HEIGHT, dragEnabled: true, gap: { top: 0.2, bottom: 0.1 } }\n\n  constructor (rootContainer: HTMLElement, chart: Chart, id: string, topPane?: Pane, bottomPane?: Pane) {\n    this._chart = chart\n    this._id = id\n    this._topPane = topPane ?? null\n    this._bottomPane = bottomPane ?? null\n    this._init(rootContainer)\n  }\n\n  private _init (rootContainer: HTMLElement): void {\n    this._container = rootContainer\n    this._seriesContiainer = createDom('div', {\n      width: '100%',\n      margin: '0',\n      padding: '0',\n      position: 'relative',\n      overflow: 'hidden',\n      boxSizing: 'border-box'\n    })\n    this._separatorWidget = this.createSeparatorWidget(rootContainer)\n    const lastElement = rootContainer.lastChild\n    if (lastElement !== null) {\n      rootContainer.insertBefore(this._seriesContiainer, lastElement)\n    } else {\n      rootContainer.appendChild(this._seriesContiainer)\n    }\n    this._mainWidget = this.createMainWidget(this._seriesContiainer)\n    this._yAxisWidget = this.creatYAxisWidget(this._seriesContiainer)\n  }\n\n  getContainer (): HTMLElement {\n    return this._seriesContiainer\n  }\n\n  getId (): string {\n    return this._id\n  }\n\n  setOptions (options: Omit<PaneOptions, 'id' | 'height'>): Pane<C> {\n    merge(this._options, options)\n    return this\n  }\n\n  getOptions (): DeepRequired<Omit<PaneOptions, 'id' | 'height'>> { return this._options }\n\n  getChart (): Chart {\n    return this._chart\n  }\n\n  getAxisComponent (): C {\n    return this._axis\n  }\n\n  setBounding (rootBounding: Partial<Bounding>, mainBounding?: Partial<Bounding>, yAxisBounding?: Partial<Bounding>): Pane<C> {\n    merge(this._bounding, rootBounding)\n    let separatorSize = 0\n    if (this._separatorWidget !== null) {\n      separatorSize = this._chart.getStyles().separator.size\n      const separatorBounding: Partial<Bounding> = { ...rootBounding, height: REAL_SEPARATOR_HEIGHT }\n      if (rootBounding.top !== undefined) {\n        separatorBounding.top = rootBounding.top - Math.floor((REAL_SEPARATOR_HEIGHT - separatorSize) / 2)\n      }\n      this._separatorWidget.setBounding(separatorBounding)\n    }\n    const contentBounding: Partial<Bounding> = {}\n    if (rootBounding.height !== undefined) {\n      contentBounding.height = rootBounding.height - separatorSize\n    }\n    if (rootBounding.top !== undefined) {\n      contentBounding.top = rootBounding.top + separatorSize\n    }\n    this._mainWidget.setBounding(contentBounding)\n    this._yAxisWidget?.setBounding(contentBounding)\n    if (mainBounding !== undefined) {\n      this._mainWidget.setBounding(mainBounding)\n      this._separatorWidget?.setBounding(mainBounding)\n    }\n    if (yAxisBounding !== undefined) {\n      this._yAxisWidget?.setBounding(yAxisBounding)\n    }\n    return this\n  }\n\n  getTopPane (): Nullable<Pane> {\n    return this._topPane\n  }\n\n  setTopPane (pane: Nullable<Pane>): Pane<C> {\n    this._topPane = pane\n    return this\n  }\n\n  getBottomPane (): Nullable<Pane> {\n    return this._bottomPane\n  }\n\n  setBottomPane (pane: Nullable<Pane>): Pane<C> {\n    this._bottomPane = pane\n    return this\n  }\n\n  getBounding (): Bounding {\n    return this._bounding\n  }\n\n  getMainWidget (): DrawWidget<C> { return this._mainWidget }\n\n  getYAxisWidget (): Nullable<YAxisWidget> { return this._yAxisWidget }\n\n  getSeparatorWidget (): Nullable<SeparatorWidget> { return this._separatorWidget }\n\n  update (level?: UpdateLevel): void {\n    if (this._bounding.width !== this._seriesContiainer.offsetWidth) {\n      this._seriesContiainer.style.width = `${this._bounding.width}px`\n    }\n    const seriesHeight = this._mainWidget.getBounding().height\n    if (seriesHeight !== this._seriesContiainer.offsetHeight) {\n      this._seriesContiainer.style.height = `${seriesHeight}px`\n    }\n    const l = level ?? UpdateLevel.DRAWER\n    this._mainWidget.update(l)\n    this._yAxisWidget?.update(l)\n    this._separatorWidget?.update(l)\n  }\n\n  getImage (includeOverlay: boolean): HTMLCanvasElement {\n    const { width, height } = this._bounding\n    const canvas = createDom('canvas', {\n      width: `${width}px`,\n      height: `${height}px`,\n      boxSizing: 'border-box'\n    })\n    const ctx = canvas.getContext('2d') as CanvasRenderingContext2D\n    const pixelRatio = getPixelRatio(canvas)\n    canvas.width = width * pixelRatio\n    canvas.height = height * pixelRatio\n    ctx.scale(pixelRatio, pixelRatio)\n\n    let top = 0\n    if (this._separatorWidget != null) {\n      const separatorHeight = this.getChart().getStyles().separator.size\n      top = separatorHeight\n      ctx.drawImage(\n        this._separatorWidget.getImage(),\n        0, 0,\n        width, separatorHeight\n      )\n    }\n\n    const mainBounding = this._mainWidget.getBounding()\n    ctx.drawImage(\n      this._mainWidget.getImage(includeOverlay),\n      mainBounding.left, top,\n      mainBounding.width, mainBounding.height\n    )\n    if (this._yAxisWidget !== null) {\n      const yAxisBounding = this._yAxisWidget.getBounding()\n      ctx.drawImage(\n        this._yAxisWidget.getImage(includeOverlay),\n        yAxisBounding.left, top,\n        yAxisBounding.width, yAxisBounding.height\n      )\n    }\n    return canvas\n  }\n\n  destroy (): void {\n    this._container.removeChild(this._seriesContiainer)\n    if (this._separatorWidget !== null) {\n      this._container.removeChild(this._separatorWidget.getContainer())\n    }\n  }\n\n  abstract getName (): string\n\n  protected abstract createAxisComponent (): C\n\n  protected createSeparatorWidget (container: HTMLElement): Nullable<SeparatorWidget> { return null }\n\n  protected creatYAxisWidget (container: HTMLElement): Nullable<YAxisWidget> { return null }\n\n  protected abstract createMainWidget (container: HTMLElement): DrawWidget<C>\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Nullable from '../common/Nullable'\nimport { UpdateLevel } from '../common/Updater'\nimport { MouseTouchEvent } from '../common/SyntheticEvent'\n\nimport { createId } from '../common/utils/id'\n\nimport OverlayImp, { OverlayConstructor, OverlayCreate, OverlayRemove } from '../component/Overlay'\n\nimport { getOverlayClass } from '../extension/overlay/index'\n\nimport ChartStore from './ChartStore'\n\nimport { PaneIdConstants } from '../pane/Pane'\n\nconst OVERLAY_ID_PREFIX = 'overlay_'\n\nexport interface ProgressOverlayInfo {\n  paneId: string\n  instance: OverlayImp\n  appointPaneFlag: boolean\n}\n\nexport const enum EventOverlayInfoFigureType {\n  NONE = 'none',\n  POINT = 'point',\n  OTHER = 'other'\n}\n\nexport interface EventOverlayInfo {\n  paneId: string\n  instance: Nullable<OverlayImp>\n  figureType: EventOverlayInfoFigureType\n  figureIndex: number\n  attrsIndex: number\n}\n\nexport default class OverlayStore {\n  private readonly _chartStore: ChartStore\n\n  private _instances = new Map<string, OverlayImp[]>()\n\n  /**\n   * Overlay information in painting\n   */\n  private _progressInstanceInfo: Nullable<ProgressOverlayInfo> = null\n\n  /**\n   * Overlay information by the mouse pressed\n   */\n  private _pressedInstanceInfo: EventOverlayInfo = {\n    paneId: '',\n    instance: null,\n    figureType: EventOverlayInfoFigureType.NONE,\n    figureIndex: -1,\n    attrsIndex: -1\n  }\n\n  /**\n   * Overlay information by hover\n   */\n  private _hoverInstanceInfo: EventOverlayInfo = {\n    paneId: '',\n    instance: null,\n    figureType: EventOverlayInfoFigureType.NONE,\n    figureIndex: -1,\n    attrsIndex: -1\n  }\n\n  /**\n   * Overlay information by the mouse click\n   */\n  private _clickInstanceInfo: EventOverlayInfo = {\n    paneId: '',\n    instance: null,\n    figureType: EventOverlayInfoFigureType.NONE,\n    figureIndex: -1,\n    attrsIndex: -1\n  }\n\n  constructor (chartStore: ChartStore) {\n    this._chartStore = chartStore\n  }\n\n  private _overrideInstance (instance: OverlayImp, overlay: Partial<OverlayCreate>): boolean {\n    const {\n      id, groupId, points, styles, lock, mode, extendData,\n      onDrawStart, onDrawing,\n      onDrawEnd, onClick, onRightClick,\n      onPressedMoveStart, onPressedMoving, onPressedMoveEnd,\n      onMouseEnter, onMouseLeave,\n      onRemoved, onSelected, onDeselected\n    } = overlay\n    let updateFlag = false\n    if (id !== undefined) {\n      instance.setId(id)\n    }\n    if (groupId !== undefined) {\n      instance.setGroupId(groupId)\n    }\n    if (points !== undefined && instance.setPoints(points)) {\n      updateFlag = true\n    }\n    if (styles !== undefined && instance.setStyles(styles)) {\n      updateFlag = true\n    }\n    if (lock !== undefined) {\n      instance.setLock(lock)\n    }\n    if (mode !== undefined) {\n      instance.setMode(mode)\n    }\n    if (extendData !== undefined && instance.setExtendData(extendData)) {\n      updateFlag = true\n    }\n    if (onDrawStart !== undefined) {\n      instance.setOnDrawStartCallback(onDrawStart)\n    }\n    if (onDrawing !== undefined) {\n      instance.setOnDrawingCallback(onDrawing)\n    }\n    if (onDrawEnd !== undefined) {\n      instance.setOnDrawEndCallback(onDrawEnd)\n    }\n    if (onClick !== undefined) {\n      instance.setOnClickCallback(onClick)\n    }\n    if (onRightClick !== undefined) {\n      instance.setOnRightClickCallback(onRightClick)\n    }\n    if (onPressedMoveStart !== undefined) {\n      instance.setOnPressedMoveStartCallback(onPressedMoveStart)\n    }\n    if (onPressedMoving !== undefined) {\n      instance.setOnPressedMovingCallback(onPressedMoving)\n    }\n    if (onPressedMoveEnd !== undefined) {\n      instance.setOnPressedMoveEndCallback(onPressedMoveEnd)\n    }\n    if (onMouseEnter !== undefined) {\n      instance.setOnMouseEnterCallback(onMouseEnter)\n    }\n    if (onMouseLeave !== undefined) {\n      instance.setOnMouseLeaveCallback(onMouseLeave)\n    }\n    if (onRemoved !== undefined) {\n      instance.setOnRemovedCallback(onRemoved)\n    }\n    if (onSelected !== undefined) {\n      instance.setOnSelectedCallback(onSelected)\n    }\n    if (onDeselected !== undefined) {\n      instance.setOnDeselectedCallback(onDeselected)\n    }\n    return updateFlag\n  }\n\n  getInstanceById (id: string): Nullable<OverlayImp> {\n    for (const entry of this._instances) {\n      const paneShapes = entry[1]\n      const shape = paneShapes.find(s => s.id === id)\n      if (shape !== undefined) {\n        return shape\n      }\n    }\n    if (this._progressInstanceInfo !== null) {\n      if (this._progressInstanceInfo.instance.id === id) {\n        return this._progressInstanceInfo.instance\n      }\n    }\n    return null\n  }\n\n  addInstance (overlay: OverlayCreate, paneId: string, appointPaneFlag: boolean): Nullable<string> {\n    const id = overlay.id ?? createId(OVERLAY_ID_PREFIX)\n    if (this.getInstanceById(id) === null) {\n      const OverlayClazz = getOverlayClass(overlay.name) as OverlayConstructor\n      const instance = new OverlayClazz()\n      const groupId = overlay.groupId ?? id\n      overlay.id = id\n      overlay.groupId = groupId\n      this._overrideInstance(instance, overlay)\n      if (instance.isDrawing()) {\n        this._progressInstanceInfo = { paneId, instance, appointPaneFlag }\n      } else {\n        if (!this._instances.has(paneId)) {\n          this._instances.set(paneId, [])\n        }\n        this._instances.get(paneId)?.push(instance)\n      }\n      instance.onDrawStart?.(({ overlay: instance }))\n      this._chartStore.getChart().updatePane(UpdateLevel.OVERLAY, paneId)\n      return id\n    }\n    return null\n  }\n\n  getProgressInstanceInfo (): Nullable<ProgressOverlayInfo> {\n    return this._progressInstanceInfo\n  }\n\n  progressInstanceComplete (): void {\n    if (this._progressInstanceInfo !== null) {\n      const { instance, paneId } = this._progressInstanceInfo\n      if (!instance.isDrawing()) {\n        if (!this._instances.has(paneId)) {\n          this._instances.set(paneId, [])\n        }\n        this._instances.get(paneId)?.push(instance)\n        this._progressInstanceInfo = null\n      }\n    }\n  }\n\n  updateProgressInstanceInfo (paneId: string, appointPaneFlag?: boolean): void {\n    if (this._progressInstanceInfo !== null) {\n      if (appointPaneFlag !== undefined && appointPaneFlag) {\n        this._progressInstanceInfo.appointPaneFlag = appointPaneFlag\n      }\n      this._progressInstanceInfo.paneId = paneId\n    }\n  }\n\n  getInstances (paneId?: string): OverlayImp[] {\n    if (paneId === undefined) {\n      let instances: OverlayImp[] = []\n      this._instances.forEach(paneInstances => {\n        instances = instances.concat(paneInstances)\n      })\n      return instances\n    }\n    return this._instances.get(paneId) ?? []\n  }\n\n  override (overlay: Partial<OverlayCreate>): void {\n    const { id, groupId, name } = overlay\n    let updateFlag = false\n    if (id !== undefined) {\n      const instance = this.getInstanceById(id)\n      if (instance !== null && this._overrideInstance(instance, overlay)) {\n        updateFlag = true\n      }\n    } else {\n      this._instances.forEach(paneInstances => {\n        paneInstances.forEach(instance => {\n          if (\n            ((name !== undefined && instance.name === name) ||\n              (groupId !== undefined && instance.groupId === groupId) ||\n              (name === undefined && groupId === undefined)) &&\n            this._overrideInstance(instance, overlay)\n          ) {\n            updateFlag = true\n          }\n        })\n      })\n      if (this._progressInstanceInfo !== null) {\n        const progressInstance = this._progressInstanceInfo.instance\n        if (\n          ((name !== undefined && progressInstance.name === name) ||\n          (groupId !== undefined && progressInstance.groupId === groupId) ||\n          (name === undefined && groupId === undefined)) &&\n           this._overrideInstance(progressInstance, overlay)\n        ) {\n          updateFlag = true\n        }\n      }\n    }\n    if (updateFlag) {\n      this._chartStore.getChart().updatePane(UpdateLevel.OVERLAY)\n    }\n  }\n\n  removeInstance (overlayRemove?: OverlayRemove): void {\n    const match: ((remove: OverlayRemove, overlay: OverlayImp) => boolean) = (remove: OverlayRemove, overlay: OverlayImp) => {\n      if (remove.id !== undefined) {\n        if (overlay.id !== remove.id) {\n          return false\n        }\n      } else {\n        if (remove.groupId !== undefined) {\n          if (overlay.groupId !== remove.groupId) {\n            return false\n          }\n        } else {\n          if (remove.name !== undefined) {\n            if (overlay.name !== remove.name) {\n              return false\n            }\n          }\n        }\n      }\n      return true\n    }\n\n    const updatePaneIds: string[] = []\n    if (this._progressInstanceInfo !== null) {\n      const instance = this._progressInstanceInfo.instance\n      if (\n        overlayRemove === undefined ||\n        (overlayRemove !== undefined && match(overlayRemove, instance))\n      ) {\n        updatePaneIds.push(this._progressInstanceInfo.paneId)\n        instance.onRemoved?.({ overlay: instance })\n        this._progressInstanceInfo = null\n      }\n    }\n    if (overlayRemove !== undefined) {\n      const instances = new Map<string, OverlayImp[]>()\n      for (const entry of this._instances) {\n        const paneInstances = entry[1]\n        const newPaneInstances = paneInstances.filter(instance => {\n          if (match(overlayRemove, instance)) {\n            if (!updatePaneIds.includes(entry[0])) {\n              updatePaneIds.push(entry[0])\n            }\n            instance.onRemoved?.({ overlay: instance })\n            return false\n          }\n          return true\n        })\n        if (newPaneInstances.length > 0) {\n          instances.set(entry[0], newPaneInstances)\n        }\n      }\n      this._instances = instances\n    } else {\n      this._instances.forEach((paneInstances, paneId) => {\n        updatePaneIds.push(paneId)\n        paneInstances.forEach(instance => {\n          instance.onRemoved?.({ overlay: instance })\n        })\n      })\n      this._instances.clear()\n    }\n    if (updatePaneIds.length > 0) {\n      const chart = this._chartStore.getChart()\n      updatePaneIds.forEach(paneId => {\n        chart.updatePane(UpdateLevel.OVERLAY, paneId)\n      })\n      chart.updatePane(UpdateLevel.OVERLAY, PaneIdConstants.XAXIS)\n    }\n  }\n\n  setPressedInstanceInfo (info: EventOverlayInfo): void {\n    this._pressedInstanceInfo = info\n  }\n\n  getPressedInstanceInfo (): EventOverlayInfo {\n    return this._pressedInstanceInfo\n  }\n\n  setHoverInstanceInfo (info: EventOverlayInfo, event: MouseTouchEvent): void {\n    const { instance, figureType, figureIndex } = this._hoverInstanceInfo\n    if (\n      instance?.id !== info.instance?.id ||\n      figureType !== info.figureType ||\n      figureIndex !== info.figureIndex\n    ) {\n      this._hoverInstanceInfo = info\n      if (instance?.id !== info.instance?.id) {\n        instance?.onMouseLeave?.({ overlay: instance, ...event })\n        info.instance?.onMouseEnter?.({ overlay: info.instance, ...event })\n      }\n    }\n  }\n\n  getHoverInstanceInfo (): EventOverlayInfo {\n    return this._hoverInstanceInfo\n  }\n\n  setClickInstanceInfo (info: EventOverlayInfo, event: MouseTouchEvent): void {\n    const { paneId, instance, figureType, figureIndex } = this._clickInstanceInfo\n    if (!(info.instance?.isDrawing() ?? false)) {\n      info.instance?.onClick?.({ overlay: info.instance, ...event })\n    }\n    if (instance?.id !== info.instance?.id || figureType !== info.figureType || figureIndex !== info.figureIndex) {\n      this._clickInstanceInfo = info\n      if (instance?.id !== info.instance?.id) {\n        instance?.onDeselected?.({ overlay: instance, ...event })\n        info.instance?.onSelected?.({ overlay: info.instance, ...event })\n        const chart = this._chartStore.getChart()\n        chart.updatePane(UpdateLevel.OVERLAY, info.paneId)\n        if (paneId !== info.paneId) {\n          chart.updatePane(UpdateLevel.OVERLAY, paneId)\n        }\n        chart.updatePane(UpdateLevel.OVERLAY, PaneIdConstants.XAXIS)\n      }\n    }\n  }\n\n  getClickInstanceInfo (): EventOverlayInfo {\n    return this._clickInstanceInfo\n  }\n\n  isEmpty (): boolean {\n    return this._instances.size === 0 && this._progressInstanceInfo === null\n  }\n\n  isDrawing (): boolean {\n    return this._progressInstanceInfo !== null && (this._progressInstanceInfo?.instance.isDrawing() ?? false)\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport type ActionCallback = (data?: any) => void\n\nexport const enum ActionType {\n  onZoom = 'onZoom',\n  onScroll = 'onScroll',\n  onVisibleRangeChange = 'onVisibleDataChange',\n  onCrosshairChange = 'onCrosshairChange',\n  onPaneDrag = 'onPaneDrag'\n}\n\nexport default class Delegate {\n  private _callbacks: ActionCallback[] = []\n\n  subscribe (callback: ActionCallback): void {\n    const index = this._callbacks.indexOf(callback) ?? -1\n    if (index < 0) {\n      this._callbacks.push(callback)\n    }\n  }\n\n  unsubscribe (callback?: ActionCallback): void {\n    if (callback !== undefined) {\n      const index = this._callbacks.indexOf(callback) ?? -1\n      if (index > -1) {\n        this._callbacks.splice(index, 1)\n      }\n    } else {\n      this._callbacks = []\n    }\n  }\n\n  execute (data?: any): void {\n    this._callbacks.forEach(callback => {\n      callback(data)\n    })\n  }\n\n  isEmpty (): boolean {\n    return this._callbacks.length === 0\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Action, { ActionType, ActionCallback } from '../common/Action'\n\nexport default class ActionStore {\n  /**\n   * Chart action map\n   */\n  private readonly _actions: Map<ActionType, Action> = new Map()\n\n  execute (type: ActionType, data?: any): void {\n    this._actions.get(type)?.execute(data)\n  }\n\n  subscribe (type: ActionType, callback: ActionCallback): void {\n    if (!this._actions.has(type)) {\n      this._actions.set(type, new Action())\n    }\n    this._actions.get(type)?.subscribe(callback)\n  }\n\n  /**\n   * 取消事件订阅\n   * @param type\n   * @param callback\n   * @return {boolean}\n   */\n  unsubscribe (type: ActionType, callback?: ActionCallback): void {\n    const action = this._actions.get(type)\n    if (action !== undefined) {\n      action.unsubscribe(callback)\n      if (action.isEmpty()) {\n        this._actions.delete(type)\n      }\n    }\n  }\n\n  has (type: ActionType): boolean {\n    const action = this._actions.get(type)\n    return action !== undefined && !action.isEmpty()\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport DeepPartial from '../../common/DeepPartial'\nimport { Styles } from '../../common/Options'\n\nconst light: DeepPartial<Styles> = {\n  grid: {\n    horizontal: {\n      color: '#EDEDED'\n    },\n    vertical: {\n      color: '#EDEDED'\n    }\n  },\n  candle: {\n    priceMark: {\n      high: {\n        color: '#76808F'\n      },\n      low: {\n        color: '#76808F'\n      }\n    },\n    tooltip: {\n      rect: {\n        color: '#FEFEFE',\n        borderColor: '#F2F3F5'\n      },\n      text: {\n        color: '#76808F'\n      }\n    }\n  },\n  indicator: {\n    tooltip: {\n      text: {\n        color: '#76808F'\n      }\n    }\n  },\n  xAxis: {\n    axisLine: {\n      color: '#DDDDDD'\n    },\n    tickText: {\n      color: '#76808F'\n    },\n    tickLine: {\n      color: '#DDDDDD'\n    }\n  },\n  yAxis: {\n    axisLine: {\n      color: '#DDDDDD'\n    },\n    tickText: {\n      color: '#76808F'\n    },\n    tickLine: {\n      color: '#DDDDDD'\n    }\n  },\n  separator: {\n    color: '#DDDDDD'\n  },\n  crosshair: {\n    horizontal: {\n      line: {\n        color: '#76808F'\n      },\n      text: {\n        borderColor: '#686D76',\n        backgroundColor: '#686D76'\n      }\n    },\n    vertical: {\n      line: {\n        color: '#76808F'\n      },\n      text: {\n        borderColor: '#686D76',\n        backgroundColor: '#686D76'\n      }\n    }\n  }\n}\n\nexport default light\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport DeepPartial from '../../common/DeepPartial'\nimport { Styles } from '../../common/Options'\n\nconst dark: DeepPartial<Styles> = {\n  grid: {\n    horizontal: {\n      color: '#292929'\n    },\n    vertical: {\n      color: '#292929'\n    }\n  },\n  candle: {\n    priceMark: {\n      high: {\n        color: '#929AA5'\n      },\n      low: {\n        color: '#929AA5'\n      }\n    },\n    tooltip: {\n      rect: {\n        color: 'rgba(10, 10, 10, .6)',\n        borderColor: 'rgba(10, 10, 10, .6)'\n      },\n      text: {\n        color: '#929AA5'\n      }\n    }\n  },\n  indicator: {\n    tooltip: {\n      text: {\n        color: '#929AA5'\n      }\n    }\n  },\n  xAxis: {\n    axisLine: {\n      color: '#333333'\n    },\n    tickText: {\n      color: '#929AA5'\n    },\n    tickLine: {\n      color: '#333333'\n    }\n  },\n  yAxis: {\n    axisLine: {\n      color: '#333333'\n    },\n    tickText: {\n      color: '#929AA5'\n    },\n    tickLine: {\n      color: '#333333'\n    }\n  },\n  separator: {\n    color: '#333333'\n  },\n  crosshair: {\n    horizontal: {\n      line: {\n        color: '#929AA5'\n      },\n      text: {\n        borderColor: '#373a40',\n        backgroundColor: '#373a40'\n      }\n    },\n    vertical: {\n      line: {\n        color: '#929AA5'\n      },\n      text: {\n        borderColor: '#373a40',\n        backgroundColor: '#373a40'\n      }\n    }\n  }\n}\n\nexport default dark\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Nullable from '../../common/Nullable'\nimport DeepPartial from '../../common/DeepPartial'\nimport { Styles } from '../../common/Options'\n\nimport light from './light'\nimport dark from './dark'\n\nconst styles: { [key: string]: DeepPartial<Styles> } = {\n  light,\n  dark\n}\n\nfunction registerStyles (name: string, ss: DeepPartial<Styles>): void {\n  styles[name] = ss\n}\n\nfunction getStyles (name: string): Nullable<DeepPartial<Styles>> {\n  return styles[name] ?? null\n}\n\nexport {\n  registerStyles,\n  getStyles\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport KLineData from '../common/KLineData'\nimport Precision from '../common/Precision'\nimport VisibleData from '../common/VisibleData'\nimport { getDefaultStyles, Styles, getDefaultCustomApi, CustomApi, defaultLocale, Options } from '../common/Options'\n\nimport { isArray, isString, merge } from '../common/utils/typeChecks'\n\nimport TimeScaleStore from './TimeScaleStore'\nimport IndicatorStore from './IndicatorStore'\nimport CrosshairStore from './CrosshairStore'\nimport OverlayStore from './OverlayStore'\nimport ActionStore from './ActionStore'\n\nimport { getStyles } from '../extension/styles/index'\n\nimport Chart from '../Chart'\n\nexport default class ChartStore {\n  /**\n   * Internal chart\n   */\n  private readonly _chart: Chart\n\n  /**\n   * Style config\n   */\n  private readonly _styles: Styles = getDefaultStyles()\n\n  /**\n   * Custom api\n   */\n  private readonly _customApi: CustomApi = getDefaultCustomApi()\n\n  /**\n   * language\n   */\n  private _locale: string = defaultLocale\n\n  /**\n   * Price and volume precision\n   */\n  private _precision: Precision = { price: 2, volume: 0 }\n\n  /**\n   * Data source\n   */\n  private _dataList: KLineData[] = []\n\n  /**\n   * Drag pane flag\n   */\n  private _dragPaneFlag = false\n\n  /**\n   * Time scale store\n   */\n  private readonly _timeScaleStore = new TimeScaleStore(this)\n\n  /**\n   * Indicator store\n   */\n  private readonly _indicatorStore = new IndicatorStore(this)\n\n  /**\n   * Overlay store\n   */\n  private readonly _overlayStore = new OverlayStore(this)\n\n  /**\n   * Crosshair store\n   */\n  private readonly _crosshairStore = new CrosshairStore(this)\n\n  /**\n   * Chart action store\n   */\n  private readonly _actionStore = new ActionStore()\n\n  /**\n   * Visible data array\n   */\n  private _visibleDataList: VisibleData[] = []\n\n  constructor (chart: Chart, options?: Options) {\n    this._chart = chart\n    this.setOptions(options)\n  }\n\n  /**\n   * @description Adjust visible data\n   * @return {*}\n   */\n  adjustVisibleDataList (): void {\n    this._visibleDataList = []\n    const { from, to } = this._timeScaleStore.getVisibleRange()\n    for (let i = from; i < to; i++) {\n      const kLineData = this._dataList[i]\n      const x = this._timeScaleStore.dataIndexToCoordinate(i)\n      this._visibleDataList.push({\n        dataIndex: i,\n        x,\n        data: kLineData\n      })\n    }\n  }\n\n  setOptions (options?: Options): ChartStore {\n    if (options !== undefined) {\n      const { locale, timezone, styles, customApi } = options\n      if (locale !== undefined) {\n        this._locale = locale\n      }\n      if (timezone !== undefined) {\n        this._timeScaleStore.setTimezone(timezone)\n      }\n      if (styles !== undefined) {\n        if (isString(styles)) {\n          merge(this._styles, getStyles(styles as string))\n        } else {\n          merge(this._styles, styles)\n        }\n      }\n      if (customApi !== undefined) {\n        merge(this._customApi, customApi)\n      }\n    }\n    return this\n  }\n\n  getStyles (): Styles {\n    return this._styles\n  }\n\n  getLocale (): string {\n    return this._locale\n  }\n\n  getCustomApi (): CustomApi {\n    return this._customApi\n  }\n\n  getPrecision (): Precision {\n    return this._precision\n  }\n\n  setPrecision (precision: Precision): ChartStore {\n    this._precision = precision\n    this._indicatorStore.setSeriesPrecision(precision)\n    return this\n  }\n\n  getDataList (): KLineData[] {\n    return this._dataList\n  }\n\n  getVisibleDataList (): VisibleData[] {\n    return this._visibleDataList\n  }\n\n  addData (data: KLineData | KLineData[], pos: number, more?: boolean): void {\n    if (isArray(data)) {\n      this._timeScaleStore.setLoading(false)\n      this._timeScaleStore.setMore(more ?? true)\n      const isFirstAdd = this._dataList.length === 0\n      this._dataList = (data as KLineData[]).concat(this._dataList)\n      if (isFirstAdd) {\n        this._timeScaleStore.resetOffsetRightDistance()\n      }\n      this._timeScaleStore.adjustVisibleRange()\n    } else {\n      const dataSize = this._dataList.length\n      if (pos >= dataSize) {\n        this._dataList.push(data as KLineData)\n        let offsetRightBarCount = this._timeScaleStore.getOffsetRightBarCount()\n        if (offsetRightBarCount < 0) {\n          this._timeScaleStore.setOffsetRightBarCount(--offsetRightBarCount)\n        }\n        this._timeScaleStore.adjustVisibleRange()\n      } else {\n        this._dataList[pos] = data as KLineData\n        this.adjustVisibleDataList()\n      }\n    }\n    this._crosshairStore.recalculate(true)\n  }\n\n  clearDataList (): void {\n    this._dataList = []\n    this._visibleDataList = []\n    this._timeScaleStore.clear()\n  }\n\n  getTimeScaleStore (): TimeScaleStore {\n    return this._timeScaleStore\n  }\n\n  getIndicatorStore (): IndicatorStore {\n    return this._indicatorStore\n  }\n\n  getOverlayStore (): OverlayStore {\n    return this._overlayStore\n  }\n\n  getCrosshairStore (): CrosshairStore {\n    return this._crosshairStore\n  }\n\n  getActionStore (): ActionStore {\n    return this._actionStore\n  }\n\n  getChart (): Chart {\n    return this._chart\n  }\n\n  getDragPaneFlag (): boolean {\n    return this._dragPaneFlag\n  }\n\n  setDragPaneFlag (flag: boolean): ChartStore {\n    this._dragPaneFlag = flag\n    return this\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport function requestAnimationFrame (fn: (params: any) => any): number {\n  if (window.requestAnimationFrame == null) {\n    return window.setTimeout(fn, 20)\n  }\n  return window.requestAnimationFrame(fn)\n}\n\nexport function cancelAnimationFrame (id: number): void {\n  if (window.cancelAnimationFrame == null) {\n    window.clearTimeout(id)\n  }\n  window.cancelAnimationFrame(id)\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Bounding from '../common/Bounding'\nimport { UpdateLevel } from '../common/Updater'\n\nimport Axis from '../component/Axis'\n\nimport Widget from './Widget'\n\nimport { createDom } from '../common/utils/dom'\nimport { getPixelRatio } from '../common/utils/canvas'\nimport { requestAnimationFrame, cancelAnimationFrame } from '../common/utils/compatible'\n\nconst DEFAULT_REQUEST_ID = -1\n\nexport default abstract class DrawWidget<C extends Axis = Axis> extends Widget<C> {\n  private _mainCanvas: HTMLCanvasElement\n  private _mainCtx: CanvasRenderingContext2D\n  private _overlayCanvas: HTMLCanvasElement\n  private _overlayCtx: CanvasRenderingContext2D\n\n  private _mainRequestAnimationId: number = DEFAULT_REQUEST_ID\n  private _overlayRequestAnimationId: number = DEFAULT_REQUEST_ID\n\n  protected getContainerStyle (): Partial<CSSStyleDeclaration> {\n    return {\n      margin: '0',\n      padding: '0',\n      position: 'absolute',\n      top: '0',\n      overflow: 'hidden',\n      boxSizing: 'border-box'\n    }\n  }\n\n  protected initDom (container: HTMLElement): void {\n    this._mainCanvas = createDom('canvas', {\n      position: 'absolute',\n      top: '0',\n      left: '0',\n      zIndex: '2',\n      boxSizing: 'border-box'\n    })\n    this._mainCtx = this._mainCanvas.getContext('2d') as CanvasRenderingContext2D\n    this._overlayCanvas = createDom('canvas', {\n      position: 'absolute',\n      top: '0',\n      left: '0',\n      zIndex: '2',\n      boxSizing: 'border-box'\n    })\n    this._overlayCtx = this._overlayCanvas.getContext('2d') as CanvasRenderingContext2D\n    container.appendChild(this._mainCanvas)\n    container.appendChild(this._overlayCanvas)\n  }\n\n  private _optimalUpdateMain (): void {\n    if (this._mainRequestAnimationId !== DEFAULT_REQUEST_ID) {\n      cancelAnimationFrame(this._mainRequestAnimationId)\n      this._mainRequestAnimationId = DEFAULT_REQUEST_ID\n    }\n    this._mainRequestAnimationId = requestAnimationFrame(() => {\n      this.updateMain(this._mainCtx)\n    })\n  }\n\n  private _optimalUpdateOverlay (): void {\n    if (this._overlayRequestAnimationId !== DEFAULT_REQUEST_ID) {\n      cancelAnimationFrame(this._overlayRequestAnimationId)\n      this._overlayRequestAnimationId = DEFAULT_REQUEST_ID\n    }\n    this._overlayRequestAnimationId = requestAnimationFrame(() => {\n      this.updateOverlay(this._overlayCtx)\n    })\n  }\n\n  protected updateImp (level: UpdateLevel, container: HTMLElement, bounding: Bounding): void {\n    const { width, height, left } = bounding\n    container.style.left = `${left}px`\n\n    const sizeFlag = width !== container.offsetWidth || height !== container.offsetHeight\n    let l = level\n    if (sizeFlag) {\n      this._mainCtx.clearRect(0, 0, this._mainCanvas.offsetWidth, this._mainCanvas.offsetHeight)\n      this._overlayCtx.clearRect(0, 0, this._overlayCanvas.offsetWidth, this._overlayCanvas.offsetHeight)\n\n      const domWidth = `${width}px`\n      const domHeight = `${height}px`\n\n      container.style.width = domWidth\n      container.style.height = domHeight\n\n      const pixelRatio = getPixelRatio(this._mainCanvas)\n      const scaleWidth = Math.floor(width * pixelRatio)\n      const scaleHeight = Math.floor(height * pixelRatio)\n\n      this._mainCanvas.style.width = domWidth\n      this._mainCanvas.style.height = domHeight\n      this._mainCanvas.width = scaleWidth\n      this._mainCanvas.height = scaleHeight\n      this._mainCtx.scale(pixelRatio, pixelRatio)\n\n      this._overlayCanvas.style.width = domWidth\n      this._overlayCanvas.style.height = domHeight\n      this._overlayCanvas.width = scaleWidth\n      this._overlayCanvas.height = scaleHeight\n      this._overlayCtx.scale(pixelRatio, pixelRatio)\n\n      l = UpdateLevel.DRAWER\n    } else {\n      if (l === UpdateLevel.ALL || l === UpdateLevel.DRAWER || l === UpdateLevel.MAIN) {\n        this._mainCtx.clearRect(0, 0, this._mainCanvas.offsetWidth, this._mainCanvas.offsetHeight)\n      }\n      if (l === UpdateLevel.ALL || l === UpdateLevel.DRAWER || l === UpdateLevel.OVERLAY) {\n        this._overlayCtx.clearRect(0, 0, this._overlayCanvas.offsetWidth, this._overlayCanvas.offsetHeight)\n      }\n    }\n    switch (l) {\n      case UpdateLevel.MAIN: {\n        this._optimalUpdateMain()\n        break\n      }\n      case UpdateLevel.OVERLAY: {\n        this._optimalUpdateOverlay()\n        break\n      }\n      case UpdateLevel.DRAWER:\n      case UpdateLevel.ALL: {\n        this._optimalUpdateMain()\n        this._optimalUpdateOverlay()\n        break\n      }\n    }\n  }\n\n  getImage (includeOverlay: boolean): HTMLCanvasElement {\n    const { width, height } = this.getBounding()\n    const canvas = createDom('canvas', {\n      width: `${width}px`,\n      height: `${height}px`,\n      boxSizing: 'border-box'\n    })\n    const ctx = canvas.getContext('2d') as CanvasRenderingContext2D\n    const pixelRatio = getPixelRatio(canvas)\n    canvas.width = width * pixelRatio\n    canvas.height = height * pixelRatio\n    ctx.scale(pixelRatio, pixelRatio)\n\n    ctx.drawImage(this._mainCanvas, 0, 0, width, height)\n\n    if (includeOverlay) {\n      ctx.drawImage(this._overlayCanvas, 0, 0, width, height)\n    }\n    return canvas\n  }\n\n  protected abstract updateMain (ctx: CanvasRenderingContext2D): void\n  protected abstract updateOverlay (ctx: CanvasRenderingContext2D): void\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Coordinate from '../common/Coordinate'\n\nimport Eventful from '../common/Eventful'\nimport { MouseTouchEvent } from '../common/SyntheticEvent'\n\nexport const DEVIATION = 2\n\nexport interface Figure<A = any, S = any> {\n  name: string\n  attrs: A\n  styles: S\n  draw: (ctx: CanvasRenderingContext2D, attrs: A, styles: S) => void\n  checkEventOn: (coordinate: Coordinate, attrs: A, styles: S) => boolean\n}\n\nexport type FigureTemplate<A = any, S = any> = Pick<Figure<A, S>, 'name' | 'draw' | 'checkEventOn'>\n\nexport type FigureCreate<A = any, S = any> = Pick<Figure<A, S>, 'name' | 'attrs' | 'styles'>\n\nexport type FigureInnerConstructor<A = any, S = any> = new (figure: FigureCreate<A, S>) => FigureImp<A, S>\n\nexport type FigureConstructor<A = any, S = any> = new (figure: FigureCreate<A, S>) => ({ draw: (ctx: CanvasRenderingContext2D) => void })\n\nexport default abstract class FigureImp<A = any, S = any> extends Eventful implements Omit<Figure<A, S>, 'name' | 'draw' | 'checkEventOn'> {\n  readonly attrs: A\n  readonly styles: S\n\n  constructor (figure: FigureCreate) {\n    super()\n    this.attrs = figure.attrs\n    this.styles = figure.styles\n  }\n\n  checkEventOn (event: MouseTouchEvent): boolean {\n    return this.checkEventOnImp(event, this.attrs, this.styles)\n  }\n\n  draw (ctx: CanvasRenderingContext2D): void {\n    this.drawImp(ctx, this.attrs, this.styles)\n  }\n\n  abstract checkEventOnImp (event: MouseTouchEvent, attrs: A, styles: S): boolean\n\n  abstract drawImp (ctx: CanvasRenderingContext2D, attrs: A, styles: S): void\n\n  static extend<A, S> (figure: FigureTemplate<A, S>): new (figure: FigureCreate) => FigureImp<A, S> {\n    class Custom extends FigureImp<A, S> {\n      checkEventOnImp (coordinate: Coordinate, attrs: A, styles: S): boolean {\n        return figure.checkEventOn(coordinate, attrs, styles)\n      }\n\n      drawImp (ctx: CanvasRenderingContext2D, attrs: A, styles: S): void {\n        figure.draw(ctx, attrs, styles)\n      }\n    }\n    return Custom\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Coordinate from '../../common/Coordinate'\nimport { PolygonStyle, PolygonType, LineType } from '../../common/Options'\n\nimport { FigureTemplate } from '../../component/Figure'\n\nexport function checkCoordinateOnCircle (coordinate: Coordinate, circle: CircleAttrs): boolean {\n  const difX = coordinate.x - circle.x\n  const difY = coordinate.y - circle.y\n  const r = circle.r\n  return !(difX * difX + difY * difY > r * r)\n}\n\nexport function drawCircle (ctx: CanvasRenderingContext2D, attrs: CircleAttrs, styles: Partial<PolygonStyle>): void {\n  const { x, y, r } = attrs\n  const {\n    style = PolygonType.FILL,\n    color = 'currentColor',\n    borderSize = 1,\n    borderColor = 'currentColor',\n    borderStyle = LineType.SOLID,\n    borderDashedValue = [2, 2]\n  } = styles\n  if (style === PolygonType.FILL || styles.style === PolygonType.STROKE_FILL) {\n    ctx.fillStyle = color\n    ctx.beginPath()\n    ctx.arc(x, y, r, 0, Math.PI * 2)\n    ctx.closePath()\n    ctx.fill()\n  }\n  if (style === PolygonType.STROKE || styles.style === PolygonType.STROKE_FILL) {\n    ctx.strokeStyle = borderColor\n    ctx.lineWidth = borderSize\n    if (borderStyle === LineType.DASHED) {\n      ctx.setLineDash(borderDashedValue)\n    } else {\n      ctx.setLineDash([])\n    }\n    ctx.beginPath()\n    ctx.arc(x, y, r, 0, Math.PI * 2)\n    ctx.closePath()\n    ctx.stroke()\n  }\n}\n\nexport interface CircleAttrs {\n  x: number\n  y: number\n  r: number\n}\n\nconst circle: FigureTemplate<CircleAttrs, Partial<PolygonStyle>> = {\n  name: 'circle',\n  checkEventOn: checkCoordinateOnCircle,\n  draw: (ctx: CanvasRenderingContext2D, attrs: CircleAttrs, styles: Partial<PolygonStyle>) => {\n    drawCircle(ctx, attrs, styles)\n  }\n}\n\nexport default circle\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Coordinate from '../../common/Coordinate'\nimport { PolygonStyle, PolygonType, LineType } from '../../common/Options'\n\nimport { FigureTemplate } from '../../component/Figure'\n\nexport function checkCoordinateOnPolygon (coordinate: Coordinate, polygon: PolygonAttrs): boolean {\n  let on = false\n  const coordinates = polygon.coordinates\n  for (let i = 0, j = coordinates.length - 1; i < coordinates.length; j = i++) {\n    if (\n      (coordinates[i].y > coordinate.y) !== (coordinates[j].y > coordinate.y) &&\n      (coordinate.x < (coordinates[j].x - coordinates[i].x) * (coordinate.y - coordinates[i].y) / (coordinates[j].y - coordinates[i].y) + coordinates[i].x)\n    ) {\n      on = !on\n    }\n  }\n  return on\n}\n\nexport function drawPolygon (ctx: CanvasRenderingContext2D, attrs: PolygonAttrs, styles: Partial<PolygonStyle>): void {\n  const { coordinates } = attrs\n  const {\n    style = PolygonType.FILL,\n    color = 'currentColor',\n    borderSize = 1,\n    borderColor = 'currentColor',\n    borderStyle = LineType.SOLID,\n    borderDashedValue = [2, 2]\n  } = styles\n  if (style === PolygonType.FILL || styles.style === PolygonType.STROKE_FILL) {\n    ctx.fillStyle = color\n    ctx.beginPath()\n    ctx.moveTo(coordinates[0].x, coordinates[0].y)\n    for (let i = 1; i < coordinates.length; i++) {\n      ctx.lineTo(coordinates[i].x, coordinates[i].y)\n    }\n    ctx.closePath()\n    ctx.fill()\n  }\n  if (style === PolygonType.STROKE || styles.style === PolygonType.STROKE_FILL) {\n    ctx.strokeStyle = borderColor\n    ctx.lineWidth = borderSize\n    if (borderStyle === LineType.DASHED) {\n      ctx.setLineDash(borderDashedValue)\n    } else {\n      ctx.setLineDash([])\n    }\n    ctx.beginPath()\n    ctx.moveTo(coordinates[0].x, coordinates[0].y)\n    for (let i = 1; i < coordinates.length; i++) {\n      ctx.lineTo(coordinates[i].x, coordinates[i].y)\n    }\n    ctx.closePath()\n    ctx.stroke()\n  }\n}\n\nexport interface PolygonAttrs {\n  coordinates: Coordinate[]\n}\n\nconst polygon: FigureTemplate<PolygonAttrs, Partial<PolygonStyle>> = {\n  name: 'polygon',\n  checkEventOn: checkCoordinateOnPolygon,\n  draw: (ctx: CanvasRenderingContext2D, attrs: PolygonAttrs, styles: Partial<PolygonStyle>) => {\n    drawPolygon(ctx, attrs, styles)\n  }\n}\n\nexport default polygon\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Coordinate from '../../common/Coordinate'\nimport { RectStyle, PolygonType, LineType } from '../../common/Options'\n\nimport { FigureTemplate } from '../../component/Figure'\n\nexport function checkCoordinateOnRect (coordinate: Coordinate, rect: RectAttrs): boolean {\n  return (\n    coordinate.x >= rect.x &&\n    coordinate.x <= rect.x + rect.width &&\n    coordinate.y >= rect.y &&\n    coordinate.y <= rect.y + rect.height\n  )\n}\n\nexport function drawRect (ctx: CanvasRenderingContext2D, attrs: RectAttrs, styles: Partial<RectStyle>): void {\n  const { x, y, width: w, height: h } = attrs\n  const {\n    style = PolygonType.FILL,\n    color = 'currentColor',\n    borderSize = 1,\n    borderColor = 'currentColor',\n    borderStyle = LineType.SOLID,\n    borderRadius: r = 0,\n    borderDashedValue = [2, 2]\n  } = styles\n  if (style === PolygonType.FILL || styles.style === PolygonType.STROKE_FILL) {\n    ctx.fillStyle = color\n    ctx.beginPath()\n    ctx.moveTo(x + r, y)\n    ctx.arcTo(x + w, y, x + w, y + h, r)\n    ctx.arcTo(x + w, y + h, x, y + h, r)\n    ctx.arcTo(x, y + h, x, y, r)\n    ctx.arcTo(x, y, x + w, y, r)\n    ctx.closePath()\n    ctx.fill()\n  }\n  if (style === PolygonType.STROKE || styles.style === PolygonType.STROKE_FILL) {\n    ctx.strokeStyle = borderColor\n    ctx.lineWidth = borderSize\n    if (borderStyle === LineType.DASHED) {\n      ctx.setLineDash(borderDashedValue)\n    } else {\n      ctx.setLineDash([])\n    }\n    ctx.beginPath()\n    ctx.moveTo(x + r, y)\n    ctx.arcTo(x + w, y, x + w, y + h, r)\n    ctx.arcTo(x + w, y + h, x, y + h, r)\n    ctx.arcTo(x, y + h, x, y, r)\n    ctx.arcTo(x, y, x + w, y, r)\n    ctx.closePath()\n    ctx.stroke()\n  }\n}\n\nexport interface RectAttrs {\n  x: number\n  y: number\n  width: number\n  height: number\n}\n\nconst rect: FigureTemplate<RectAttrs, Partial<RectStyle>> = {\n  name: 'rect',\n  checkEventOn: checkCoordinateOnRect,\n  draw: (ctx: CanvasRenderingContext2D, attrs: RectAttrs, styles: Partial<RectStyle>) => {\n    drawRect(ctx, attrs, styles)\n  }\n}\n\nexport default rect\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Coordinate from '../../common/Coordinate'\nimport { TextStyle, RectTextStyle } from '../../common/Options'\n\nimport { createFont } from '../../common/utils/canvas'\n\nimport { FigureTemplate } from '../../component/Figure'\n\nimport { RectAttrs } from './rect'\n\nexport function getTextRect (attrs: TextAttrs, styles: Partial<RectTextStyle>, textWidth?: number): RectAttrs {\n  const { size = 12, paddingLeft = 0, paddingTop = 0, paddingRight = 0, paddingBottom = 0 } = styles\n  const { x, y, text, align = 'left', baseline = 'top' } = attrs\n  const length = text.length\n  textWidth = textWidth ?? size * length\n  const textHeight = size\n  let startX: number\n  switch (align) {\n    case 'left':\n    case 'start': {\n      startX = x\n      break\n    }\n    case 'right':\n    case 'end': {\n      startX = x - paddingRight - textWidth - paddingLeft\n      break\n    }\n    default: {\n      startX = x - textWidth / 2 - paddingLeft\n      break\n    }\n  }\n  let startY: number\n  switch (baseline) {\n    case 'top':\n    case 'hanging': {\n      startY = y\n      break\n    }\n    case 'bottom':\n    case 'ideographic':\n    case 'alphabetic': {\n      startY = y - textHeight - paddingTop - paddingBottom\n      break\n    }\n    default: {\n      startY = y - textHeight / 2 - paddingTop\n      break\n    }\n  }\n  return { x: startX, y: startY, width: paddingLeft + textWidth + paddingRight, height: paddingTop + textHeight + paddingBottom }\n}\n\nexport function checkCoordinateOnText (coordinate: Coordinate, attrs: TextAttrs, styles: Partial<RectTextStyle>): boolean {\n  const { x, y, width, height } = getTextRect(attrs, styles)\n  return (\n    coordinate.x >= x &&\n    coordinate.x <= x + width &&\n    coordinate.y >= y &&\n    coordinate.y <= y + height\n  )\n}\n\nexport function drawText (ctx: CanvasRenderingContext2D, attrs: TextAttrs, styles: Partial<TextStyle>): void {\n  const { x, y, text, align = 'left', baseline = 'top' } = attrs\n  const {\n    color = 'currentColor',\n    size = 12,\n    family, weight\n  } = styles\n  ctx.textAlign = align\n  ctx.textBaseline = baseline\n  ctx.font = createFont(size, weight, family)\n\n  ctx.fillStyle = color\n  ctx.fillText(text, x, y)\n}\n\nexport interface TextAttrs {\n  x: number\n  y: number\n  text: string\n  align?: CanvasTextAlign\n  baseline?: CanvasTextBaseline\n}\n\nconst text: FigureTemplate<TextAttrs, Partial<TextStyle>> = {\n  name: 'text',\n  checkEventOn: (coordinate: Coordinate, attrs: TextAttrs, styles: Partial<TextStyle>) => {\n    return checkCoordinateOnText(coordinate, attrs, styles)\n  },\n  draw: (ctx: CanvasRenderingContext2D, attrs: TextAttrs, styles: Partial<TextStyle>) => {\n    drawText(ctx, attrs, styles)\n  }\n}\n\nexport default text\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Coordinate from '../../common/Coordinate'\nimport { RectTextStyle } from '../../common/Options'\n\nimport { createFont } from '../../common/utils/canvas'\n\nimport { FigureTemplate } from '../../component/Figure'\n\nimport { TextAttrs, getTextRect, drawText, checkCoordinateOnText } from './text'\nimport { drawRect } from './rect'\n\nexport function drawRectText (ctx: CanvasRenderingContext2D, attrs: TextAttrs, styles: Partial<RectTextStyle>): void {\n  const { text } = attrs\n  const {\n    size = 12,\n    family,\n    weight,\n    paddingLeft = 0,\n    paddingTop = 0\n  } = styles\n  ctx.font = createFont(size, weight, family)\n  const textWidth = ctx.measureText(text).width\n  const rect = getTextRect(attrs, styles, textWidth)\n  drawRect(ctx, rect, { ...styles, color: styles.backgroundColor })\n  drawText(ctx, { x: rect.x + paddingLeft, y: rect.y + paddingTop, text, align: 'left', baseline: 'top' }, styles)\n}\n\nconst rectText: FigureTemplate<TextAttrs, Partial<RectTextStyle>> = {\n  name: 'rectText',\n  checkEventOn: (coordinate: Coordinate, attrs: TextAttrs, styles: Partial<RectTextStyle>) => {\n    return checkCoordinateOnText(coordinate, attrs, styles)\n  },\n  draw: (ctx: CanvasRenderingContext2D, attrs: TextAttrs, styles: Partial<RectTextStyle>) => {\n    drawRectText(ctx, attrs, styles)\n  }\n}\n\nexport default rectText\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Nullable from '../../common/Nullable'\n\nimport FigureImp, { FigureTemplate, FigureConstructor, FigureInnerConstructor } from '../../component/Figure'\n\nimport circle from './circle'\nimport line from './line'\nimport polygon from './polygon'\nimport rect from './rect'\nimport text from './text'\nimport rectText from './rectText'\n\nconst figures: { [key: string]: FigureInnerConstructor } = {}\n\nconst extensions = [circle, line, polygon, rect, text, rectText]\nextensions.forEach((figure: FigureTemplate) => {\n  figures[figure.name] = FigureImp.extend(figure)\n})\n\nfunction getSupportedFigures (): string[] {\n  return Object.keys(figures)\n}\n\nfunction registerFigure<A = any, S = any> (figure: FigureTemplate<A, S>): void {\n  figures[figure.name] = FigureImp.extend(figure)\n}\n\nfunction getInnerFigureClass<A = any, S = any> (name: string): Nullable<FigureInnerConstructor<A, S>> {\n  return figures[name] ?? null\n}\n\nfunction getFigureClass<A = any, S = any> (name: string): Nullable<FigureConstructor<A, S>> {\n  return figures[name] ?? null\n}\n\nexport { getSupportedFigures, getFigureClass, getInnerFigureClass, registerFigure }\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Nullable from '../common/Nullable'\nimport { EventHandler, EventName } from '../common/SyntheticEvent'\nimport Eventful from '../common/Eventful'\n\nimport Figure from '../component/Figure'\nimport { getInnerFigureClass } from '../extension/figure/index'\n\nimport Axis from '../component/Axis'\n\nimport Widget from '../widget/Widget'\n\nexport default abstract class View<C extends Axis = Axis> extends Eventful {\n  /**\n   * Parent widget\n   */\n  private readonly _widget: Widget<C>\n\n  constructor (widget: Widget<C>) {\n    super()\n    this._widget = widget\n  }\n\n  getWidget (): Widget<C> { return this._widget }\n\n  protected createFigure (name: string, attrs: any, styles: any, eventHandler?: EventHandler): Nullable<Figure> {\n    const FigureClazz = getInnerFigureClass(name)\n    if (FigureClazz !== null) {\n      const figure = new FigureClazz({ name, attrs, styles })\n      if (eventHandler !== undefined) {\n        for (const key in eventHandler) {\n          // eslint-disable-next-line no-prototype-builtins\n          if (eventHandler.hasOwnProperty(key)) {\n            figure.registerEvent(key as EventName, eventHandler[key])\n          }\n        }\n        this.addChild(figure)\n      }\n      return figure\n    }\n    return null\n  }\n\n  draw (ctx: CanvasRenderingContext2D): void {\n    this.clear()\n    this.drawImp(ctx)\n  }\n\n  protected abstract drawImp (ctx: CanvasRenderingContext2D): void\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport XAxis from '../component/XAxis'\nimport YAxis from '../component/YAxis'\n\nimport { PaneIdConstants } from '../pane/Pane'\n\nimport View from './View'\n\nexport default class GridView extends View<YAxis> {\n  protected drawImp (ctx: CanvasRenderingContext2D): void {\n    const widget = this.getWidget()\n    const pane = this.getWidget().getPane()\n    const chart = pane.getChart()\n    const bounding = widget.getBounding()\n\n    const gridStyles = chart.getStyles().grid\n    const show = gridStyles.show\n\n    if (show) {\n      ctx.save()\n      ctx.globalCompositeOperation = 'destination-over'\n      const horizontalStyles = gridStyles.horizontal\n      const horizontalShow = horizontalStyles.show\n      if (horizontalShow) {\n        const xAxis = chart.getPaneById(PaneIdConstants.XAXIS)?.getAxisComponent() as XAxis\n        xAxis.getTicks().forEach(tick => {\n          this.createFigure(\n            'line',\n            {\n              coordinates: [\n                { x: tick.coord, y: 0 },\n                { x: tick.coord, y: bounding.height }\n              ]\n            },\n            horizontalStyles\n          )?.draw(ctx)\n        })\n      }\n      const verticalStyles = gridStyles.vertical\n      const verticalShow = verticalStyles.show\n      if (verticalShow) {\n        const yAxis = pane.getAxisComponent()\n        yAxis.getTicks().forEach(tick => {\n          this.createFigure(\n            'line',\n            {\n              coordinates: [\n                { x: 0, y: tick.coord },\n                { x: bounding.width, y: tick.coord }\n              ]\n            },\n            verticalStyles\n          )?.draw(ctx)\n        })\n      }\n      ctx.restore()\n    }\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport View from './View'\nimport VisibleData from '../common/VisibleData'\nimport BarSpace from '../common/BarSpace'\nimport YAxis from '../component/YAxis'\n\nexport type EachChildCallback = (\n  data: VisibleData,\n  barSpace: BarSpace,\n  index: number\n) => void\n\nexport default abstract class ChildrenView extends View<YAxis> {\n  protected eachChildren (childCallback: EachChildCallback): void {\n    const pane = this.getWidget().getPane()\n    const chartStore = pane.getChart().getChartStore()\n    const visibleDataList = chartStore.getVisibleDataList()\n    const barSpace = chartStore.getTimeScaleStore().getBarSpace()\n    visibleDataList.forEach((data: VisibleData, index: number) => {\n      childCallback(data, barSpace, index)\n    })\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Nullable from '../common/Nullable'\nimport VisibleData from '../common/VisibleData'\nimport BarSpace from '../common/BarSpace'\nimport { CandleType, ChangeColor, RectStyle, PolygonType } from '../common/Options'\n\nimport ChartStore from '../store/ChartStore'\n\nimport Axis from '../component/Axis'\n\nimport { FigureCreate } from '../component/Figure'\nimport { RectAttrs } from '../extension/figure/rect'\n\nimport ChildrenView from './ChildrenView'\n\nexport interface CandleBarOptions {\n  type: Exclude<CandleType, 'area'>\n  styles: ChangeColor\n}\n\nexport default class CandleBarView extends ChildrenView {\n  protected drawImp (ctx: CanvasRenderingContext2D): void {\n    const pane = this.getWidget().getPane()\n    const chartStore = pane.getChart().getChartStore()\n    const candleBarOptions = this.getCandleBarOptions(chartStore)\n    if (candleBarOptions !== null) {\n      const yAxis = pane.getAxisComponent()\n      this.eachChildren((data: VisibleData, barSpace: BarSpace) => {\n        this._drawCandleBar(ctx, yAxis, data, barSpace, candleBarOptions)\n      })\n    }\n  }\n\n  protected getCandleBarOptions (chartStore: ChartStore): Nullable<CandleBarOptions> {\n    const candleStyles = chartStore.getStyles().candle\n    return {\n      type: candleStyles.type as Exclude<CandleType, 'area'>,\n      styles: candleStyles.bar\n    }\n  }\n\n  private _drawCandleBar (ctx: CanvasRenderingContext2D, axis: Axis, data: VisibleData, barSpace: BarSpace, candleBarOptions: CandleBarOptions): void {\n    const { data: kLineData, x } = data\n    const { open, high, low, close } = kLineData\n    const { halfGapBar, gapBar } = barSpace\n    const { type, styles } = candleBarOptions\n    let color: string\n    if (close > open) {\n      color = styles.upColor\n    } else if (close < open) {\n      color = styles.downColor\n    } else {\n      color = styles.noChangeColor\n    }\n    const openY = axis.convertToPixel(open)\n    const closeY = axis.convertToPixel(close)\n    const priceY = [\n      openY, closeY,\n      axis.convertToPixel(high),\n      axis.convertToPixel(low)\n    ]\n    priceY.sort((a, b) => a - b)\n\n    const barHeight = Math.max(1, priceY[2] - priceY[1])\n\n    let rects: Array<FigureCreate<RectAttrs, Partial<RectStyle>>> = []\n    if (type !== CandleType.OHLC) {\n      rects.push({\n        name: 'rect',\n        attrs: {\n          x: x - 0.5,\n          y: priceY[0],\n          width: 1,\n          height: priceY[1] - priceY[0]\n        },\n        styles: { color }\n      })\n      if (\n        type === CandleType.CANDLE_STROKE ||\n        (type === CandleType.CANDLE_UP_STROKE && open < close) ||\n        (type === CandleType.CANDLE_DOWN_STROKE && open > close)\n      ) {\n        rects.push({\n          name: 'rect',\n          attrs: {\n            x: x - halfGapBar + 0.5,\n            y: priceY[1],\n            width: gapBar - 1,\n            height: barHeight\n          },\n          styles: {\n            style: PolygonType.STROKE,\n            borderColor: color\n          }\n        })\n      } else {\n        rects.push({\n          name: 'rect',\n          attrs: {\n            x: x - halfGapBar,\n            y: priceY[1],\n            width: gapBar,\n            height: barHeight\n          },\n          styles: { color }\n        })\n      }\n      rects.push({\n        name: 'rect',\n        attrs: {\n          x: x - 0.5,\n          y: priceY[2],\n          width: 1,\n          height: priceY[3] - priceY[2]\n        },\n        styles: { color }\n      })\n    } else {\n      rects = [\n        {\n          name: 'rect',\n          attrs: {\n            x: x - 0.5,\n            y: priceY[0],\n            width: 1,\n            height: priceY[3] - priceY[0]\n          },\n          styles: { color }\n        }, {\n          name: 'rect',\n          attrs: {\n            x: x - halfGapBar,\n            y: openY,\n            width: halfGapBar,\n            height: 1\n          },\n          styles: { color }\n        }, {\n          name: 'rect',\n          attrs: {\n            x,\n            y: closeY,\n            width: halfGapBar,\n            height: 1\n          },\n          styles: { color }\n        }\n      ]\n    }\n    rects.forEach(({ attrs, styles }) => {\n      this.createFigure('rect', attrs, styles)?.draw(ctx)\n    })\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Nullable from '../common/Nullable'\nimport Coordinate from '../common/Coordinate'\nimport VisibleData from '../common/VisibleData'\nimport BarSpace from '../common/BarSpace'\nimport { CandleType, SmoothLineStyle, LineType } from '../common/Options'\n\nimport { PaneIdConstants } from '../pane/Pane'\n\nimport ChartStore from '../store/ChartStore'\n\nimport Axis from '../component/Axis'\n\nimport { FigureCreate } from '../component/Figure'\nimport { LineAttrs } from '../extension/figure/line'\nimport { eachFigures, IndicatorFigure, IndicatorFigureStyle } from '../component/Indicator'\n\nimport CandleBarView, { CandleBarOptions } from './CandleBarView'\n\nimport { formatValue } from '../common/utils/format'\nimport { isValid } from '../common/utils/typeChecks'\n\nexport default class IndicatorView extends CandleBarView {\n  protected getCandleBarOptions (chartStore: ChartStore): Nullable<CandleBarOptions> {\n    const pane = this.getWidget().getPane()\n    const yAxis = pane.getAxisComponent()\n    if (!yAxis.isInCandle()) {\n      const indicators = chartStore.getIndicatorStore().getInstances(pane.getId())\n      for (const entries of indicators) {\n        const indicator = entries[1]\n        if (indicator.shouldOhlc) {\n          const indicatorStyles = indicator.styles\n          const defaultStyles = chartStore.getStyles().indicator\n          return {\n            type: CandleType.OHLC,\n            styles: {\n              upColor: formatValue(indicatorStyles, 'ohlc.upColor', defaultStyles.ohlc.upColor) as string,\n              downColor: formatValue(indicatorStyles, 'ohlc.downColor', defaultStyles.ohlc.downColor) as string,\n              noChangeColor: formatValue(indicatorStyles, 'ohlc.noChangeColor', defaultStyles.ohlc.noChangeColor) as string\n            }\n          }\n        }\n      }\n    }\n    return null\n  }\n\n  drawImp (ctx: CanvasRenderingContext2D): void {\n    super.drawImp(ctx)\n    const widget = this.getWidget()\n    const pane = widget.getPane()\n    const chart = pane.getChart()\n    const bounding = widget.getBounding()\n    const xAxis = chart.getPaneById(PaneIdConstants.XAXIS)?.getAxisComponent() as Axis\n    const yAxis = pane.getAxisComponent()\n    const chartStore = chart.getChartStore()\n    const dataList = chartStore.getDataList()\n    const timeScaleStore = chartStore.getTimeScaleStore()\n    const visibleRange = timeScaleStore.getVisibleRange()\n    const indicators = chartStore.getIndicatorStore().getInstances(pane.getId())\n    const defaultStyles = chartStore.getStyles().indicator\n    indicators.forEach(indicator => {\n      let isCover = false\n      if (indicator.draw !== null) {\n        ctx.save()\n        isCover = indicator.draw({\n          ctx,\n          kLineDataList: dataList,\n          indicator,\n          visibleRange,\n          bounding,\n          barSpace: timeScaleStore.getBarSpace(),\n          defaultStyles,\n          xAxis,\n          yAxis\n        }) ?? false\n        ctx.restore()\n      }\n      if (!isCover) {\n        const result = indicator.result\n        const lineFigureStyles: Array<Nullable<IndicatorFigureStyle>> = []\n        const lineCoordinates: Coordinate[][] = []\n\n        const lines: Array<FigureCreate<LineAttrs, Partial<SmoothLineStyle>>> = []\n\n        this.eachChildren((data: VisibleData, barSpace: BarSpace) => {\n          const { halfGapBar, gapBar } = barSpace\n          const { dataIndex, x } = data\n          const indicatorData = result[dataIndex] ?? {}\n\n          eachFigures(dataList, indicator, dataIndex, defaultStyles, (figure: IndicatorFigure, figureStyles: Required<IndicatorFigureStyle>, defaultFigureStyles: any, count: number) => {\n            const value = indicatorData[figure.key]\n            const valueY = yAxis.convertToPixel(value)\n            switch (figure.type) {\n              case 'circle': {\n                if (isValid(value)) {\n                  this.createFigure(\n                    'circle',\n                    {\n                      x,\n                      y: valueY,\n                      r: halfGapBar\n                    },\n                    {\n                      style: figureStyles.style,\n                      color: figureStyles.color,\n                      borderColor: figureStyles.color\n                    }\n                  )?.draw(ctx)\n                }\n                break\n              }\n              case 'bar': {\n                if (isValid(value)) {\n                  const baseValue = figure.baseValue ?? yAxis.getExtremum().min\n                  const baseValueY = yAxis.convertToPixel(baseValue)\n                  const height = Math.abs(baseValueY - valueY)\n                  let y: number\n                  if (valueY > baseValueY) {\n                    y = baseValueY\n                  } else {\n                    y = height < 1 ? baseValueY - 1 : valueY\n                  }\n                  this.createFigure(\n                    'rect',\n                    {\n                      x: x - halfGapBar,\n                      y,\n                      width: gapBar,\n                      height\n                    },\n                    {\n                      style: figureStyles.style,\n                      color: figureStyles.color,\n                      borderColor: figureStyles.color\n                    }\n                  )?.draw(ctx)\n                }\n                break\n              }\n              case 'line': {\n                let innerFigureStyle: Nullable<IndicatorFigureStyle> = null\n                if (isValid(value)) {\n                  innerFigureStyle = figureStyles\n                  const coordinate = { x, y: valueY }\n                  const prevFigureStyles = lineFigureStyles[count]\n                  if (!isValid(lineCoordinates[count])) {\n                    lineCoordinates[count] = []\n                  }\n                  lineCoordinates[count].push(coordinate)\n                  if (isValid(prevFigureStyles)) {\n                    if (prevFigureStyles?.color !== figureStyles.color) {\n                      lines.push({\n                        name: 'line',\n                        attrs: { coordinates: lineCoordinates[count] },\n                        styles: {\n                          style: figureStyles.style as LineType,\n                          color: figureStyles.color,\n                          size: defaultFigureStyles.size,\n                          smooth: defaultFigureStyles.smooth,\n                          dashedValue: defaultFigureStyles.dashedValue\n                        }\n                      })\n                      lineCoordinates[count] = [coordinate]\n                    } else {\n                      if (prevFigureStyles?.style !== figureStyles.style) {\n                        lines.push({\n                          name: 'line',\n                          attrs: { coordinates: lineCoordinates[count] },\n                          styles: {\n                            style: figureStyles.style as LineType,\n                            color: figureStyles.color,\n                            size: defaultFigureStyles.size,\n                            smooth: defaultFigureStyles.smooth,\n                            dashedValue: defaultFigureStyles.dashedValue\n                          }\n                        })\n                        lineCoordinates[count] = [coordinate]\n                      }\n                    }\n                  }\n                  if (dataIndex === visibleRange.to - 1) {\n                    lines.push({\n                      name: 'line',\n                      attrs: { coordinates: lineCoordinates[count] },\n                      styles: {\n                        style: figureStyles.style as LineType,\n                        color: figureStyles?.color,\n                        size: defaultFigureStyles.size,\n                        smooth: defaultFigureStyles.smooth,\n                        dashedValue: defaultFigureStyles.dashedValue\n                      }\n                    })\n                  }\n                }\n                lineFigureStyles[count] = innerFigureStyle\n                break\n              }\n              default: { break }\n            }\n          })\n        })\n        lines.forEach(({ attrs, styles }) => {\n          this.createFigure('line', attrs, styles)?.draw(ctx)\n        })\n      }\n    })\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Coordinate from '../common/Coordinate'\nimport { CrosshairDirectionStyle } from '../common/Options'\n\nimport View from './View'\n\nexport default class CrosshairLineView extends View {\n  drawImp (ctx: CanvasRenderingContext2D): void {\n    const widget = this.getWidget()\n    const pane = widget.getPane()\n    const bounding = widget.getBounding()\n    const chartStore = widget.getPane().getChart().getChartStore()\n    const crosshair = chartStore.getCrosshairStore().get()\n    const styles = chartStore.getStyles().crosshair\n    if (crosshair.paneId !== undefined && styles.show) {\n      if (crosshair.paneId === pane.getId()) {\n        const y = crosshair.y as number\n        this._drawLine(\n          ctx,\n          [\n            { x: 0, y },\n            { x: bounding.width, y }\n          ],\n          styles.horizontal\n        )\n      }\n      const x = crosshair.realX as number\n      this._drawLine(\n        ctx,\n        [\n          { x, y: 0 },\n          { x, y: bounding.height }\n        ],\n        styles.horizontal\n      )\n    }\n  }\n\n  private _drawLine (ctx: CanvasRenderingContext2D, coordinates: Coordinate[], styles: CrosshairDirectionStyle): void {\n    if (styles.show) {\n      const lineStyles = styles.line\n      if (lineStyles.show) {\n        this.createFigure('line', { coordinates }, lineStyles)?.draw(ctx)\n      }\n    }\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Bounding from '../common/Bounding'\nimport KLineData from '../common/KLineData'\nimport Crosshair from '../common/Crosshair'\nimport { IndicatorStyle, TooltipShowRule, TooltipStyle, MarginTextStyle, TooltipData, TooltipDataChild, CustomApi } from '../common/Options'\n\nimport XAxis from '../component/XAxis'\nimport YAxis from '../component/YAxis'\n\nimport IndicatorImp, { eachFigures, Indicator, IndicatorFigure, IndicatorFigureStyle, IndicatorTooltipData } from '../component/Indicator'\n\nimport { PaneIdConstants } from '../pane/Pane'\n\nimport { formatPrecision } from '../common/utils/format'\nimport { isValid, isObject } from '../common/utils/typeChecks'\nimport { createFont } from '../common/utils/canvas'\n\nimport View from './View'\n\nexport default class IndicatorTooltipView extends View<YAxis> {\n  protected drawImp (ctx: CanvasRenderingContext2D): void {\n    const widget = this.getWidget()\n    const pane = widget.getPane()\n    const chartStore = pane.getChart().getChartStore()\n    const crosshair = chartStore.getCrosshairStore().get()\n    if (crosshair.kLineData !== undefined) {\n      const bounding = widget.getBounding()\n      const customApi = chartStore.getCustomApi()\n      const indicators = chartStore.getIndicatorStore().getInstances(pane.getId())\n      const defaultStyles = chartStore.getStyles().indicator\n      this.drawIndicatorTooltip(ctx, chartStore.getDataList(), crosshair, indicators, customApi, bounding, defaultStyles)\n    }\n  }\n\n  protected drawIndicatorTooltip (\n    ctx: CanvasRenderingContext2D,\n    dataList: KLineData[],\n    crosshair: Crosshair,\n    indicators: Map<string, IndicatorImp>,\n    customApi: CustomApi,\n    bounding: Bounding,\n    styles: IndicatorStyle,\n    top?: number\n  ): number {\n    const tooltipStyles = styles.tooltip\n    let height = 0\n    if (this.isDrawTooltip(crosshair, tooltipStyles)) {\n      const tooltipTextStyles = tooltipStyles.text\n      const textMarginLeft = tooltipTextStyles.marginLeft\n      const textMarginRight = tooltipTextStyles.marginRight\n      const textSize = tooltipTextStyles.size\n      const textWeight = tooltipTextStyles.weight\n      const textFamily = tooltipTextStyles.family\n      let labelY = top ?? 0\n      ctx.font = createFont(textSize, textWeight, textFamily)\n      indicators.forEach(indicator => {\n        const { name, calcParamsText, values } = this.getIndicatorTooltipData(dataList, crosshair, indicator, customApi, styles)\n        const nameValid = name !== undefined && name.length > 0\n        const valuesValid = values !== undefined && values.length > 0\n        let labelX = 0\n        if (nameValid || valuesValid) {\n          labelY += tooltipTextStyles.marginTop\n          height += (tooltipTextStyles.marginTop + textSize + tooltipTextStyles.marginBottom)\n          if (nameValid && tooltipStyles.showName) {\n            labelX += textMarginLeft\n            let text = name\n            if (calcParamsText !== undefined && calcParamsText.length > 0 && tooltipStyles.showParams) {\n              text = `${text}${calcParamsText}`\n            }\n            this.createFigure(\n              'text',\n              {\n                x: labelX,\n                y: labelY,\n                text\n              },\n              {\n                color: tooltipTextStyles.color,\n                size: textSize,\n                family: textFamily,\n                weight: textWeight\n              }\n            )?.draw(ctx)\n            labelX += (ctx.measureText(text).width + textMarginRight)\n          }\n          if (valuesValid) {\n            const h = this.drawStandardTooltip(ctx, bounding, values, labelX, labelY, tooltipTextStyles)\n            height += h\n            labelY += h\n          }\n          labelY += (textSize + tooltipTextStyles.marginBottom)\n        }\n      })\n    }\n    return height\n  }\n\n  protected drawStandardTooltip (\n    ctx: CanvasRenderingContext2D,\n    bounding: Bounding,\n    values: TooltipData[],\n    startX: number,\n    startY: number,\n    styles: Omit<MarginTextStyle, 'show'>\n  ): number {\n    let labelX = startX\n    let labelY = startY\n    let height = 0\n    const { marginLeft, marginTop, marginRight, marginBottom, size, family, weight } = styles\n    ctx.font = createFont(size, weight, family)\n    values.forEach((data, index) => {\n      const title = data.title as TooltipDataChild\n      const value = data.value as TooltipDataChild\n      const titleTextWidth = ctx.measureText(title.text).width\n      const valueTextWidth = ctx.measureText(value.text).width\n      const totalTextWidth = titleTextWidth + valueTextWidth\n      if (labelX + marginLeft + totalTextWidth + marginRight > bounding.width) {\n        labelX = marginLeft\n        height += (size + marginTop + marginBottom)\n        labelY += (size + marginTop + marginBottom)\n      } else {\n        labelX += marginLeft\n      }\n      this.createFigure(\n        'text',\n        {\n          x: labelX,\n          y: labelY,\n          text: title.text\n        },\n        { color: title.color, size, family, weight }\n      )?.draw(ctx)\n      labelX += titleTextWidth\n      this.createFigure(\n        'text',\n        {\n          x: labelX,\n          y: labelY,\n          text: value.text\n        },\n        { color: value.color, size, family, weight }\n      )?.draw(ctx)\n      labelX += (valueTextWidth + marginRight)\n    })\n    return height\n  }\n\n  protected isDrawTooltip (crosshair: Crosshair, styles: TooltipStyle): boolean {\n    const showRule = styles.showRule\n    return showRule === TooltipShowRule.ALWAYS ||\n      (showRule === TooltipShowRule.FOLLOW_CROSS && (crosshair.paneId !== undefined))\n  }\n\n  protected getIndicatorTooltipData (\n    dataList: KLineData[],\n    crosshair: Crosshair,\n    indicator: Indicator,\n    customApi: CustomApi,\n    styles: IndicatorStyle\n  ): IndicatorTooltipData {\n    if (indicator.createTooltipDataSource !== null) {\n      const widget = this.getWidget()\n      const pane = widget.getPane()\n      const chartStore = pane.getChart().getChartStore()\n      const indicatorTooltipDatas = indicator.createTooltipDataSource({\n        kLineDataList: dataList,\n        indicator,\n        visibleRange: chartStore.getTimeScaleStore().getVisibleRange(),\n        bounding: widget.getBounding(),\n        crosshair,\n        defaultStyles: styles,\n        xAxis: pane.getChart().getPaneById(PaneIdConstants.XAXIS)?.getAxisComponent() as XAxis,\n        yAxis: pane.getAxisComponent()\n      })\n      if (indicatorTooltipDatas.values !== undefined) {\n        const tooltipDatas: TooltipData[] = []\n        const color = styles.tooltip.text.color\n        indicatorTooltipDatas.values.forEach(data => {\n          let title = { text: '', color }\n          if (isObject(data.title)) {\n            title = data.title as TooltipDataChild\n          } else {\n            title.text = data.title as string\n          }\n          let value = { text: '', color }\n          if (isObject(data.value)) {\n            value = data.value as TooltipDataChild\n          } else {\n            value.text = data.value as string\n          }\n          tooltipDatas.push({ title, value })\n        })\n        indicatorTooltipDatas.values = tooltipDatas\n      }\n      return indicatorTooltipDatas\n    }\n\n    const dataIndex = crosshair.dataIndex as number\n    const result = indicator.result ?? []\n\n    let calcParamsText = ''\n    const calcParams = indicator.calcParams\n    if (calcParams.length > 0) {\n      calcParamsText = `(${calcParams.join(',')})`\n    }\n\n    const indicatorData = result[dataIndex] ?? {}\n    const values: TooltipData[] = []\n    eachFigures(dataList, indicator, dataIndex, styles, (figure: IndicatorFigure, figureStyles: Required<IndicatorFigureStyle>) => {\n      if (figure.title !== undefined) {\n        const color = figureStyles.color\n        let value = indicatorData[figure.key]\n        if (isValid(value)) {\n          value = formatPrecision(value, indicator.precision)\n          if (indicator.shouldFormatBigNumber) {\n            value = customApi.formatBigNumber(value)\n          }\n        }\n        values.push({ title: { text: figure.title, color }, value: { text: value ?? styles.tooltip.defaultValue, color } })\n      }\n    })\n    return { name: indicator.shortName, calcParamsText, values }\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Nullable from '../common/Nullable'\nimport Coordinate from '../common/Coordinate'\nimport Point from '../common/Point'\nimport Bounding from '../common/Bounding'\nimport BarSpace from '../common/BarSpace'\nimport Precision from '../common/Precision'\nimport { OverlayStyle, CustomApi } from '../common/Options'\nimport { EventHandler, EventName, MouseTouchEvent, MouseTouchEventCallback } from '../common/SyntheticEvent'\n\nimport Axis from '../component/Axis'\nimport XAxis from '../component/XAxis'\nimport YAxis from '../component/YAxis'\nimport Overlay, { OverlayFigure, OverlayMode } from '../component/Overlay'\n\nimport OverlayStore, { ProgressOverlayInfo, EventOverlayInfo, EventOverlayInfoFigureType } from '../store/OverlayStore'\nimport TimeScaleStore from '../store/TimeScaleStore'\n\nimport { PaneIdConstants } from '../pane/Pane'\n\nimport Widget from '../widget/Widget'\n\nimport View from './View'\n\nexport default class OverlayView<C extends Axis = YAxis> extends View<C> {\n  constructor (widget: Widget<C>) {\n    super(widget)\n    this._initEvent()\n  }\n\n  private _initEvent (): void {\n    const pane = this.getWidget().getPane()\n    const paneId = pane.getId()\n    const overlayStore = pane.getChart().getChartStore().getOverlayStore()\n    this.registerEvent('mouseMoveEvent', (event: MouseTouchEvent) => {\n      const progressInstanceInfo = overlayStore.getProgressInstanceInfo()\n      if (progressInstanceInfo !== null) {\n        const overlay = progressInstanceInfo.instance\n        let progressInstancePaneId = progressInstanceInfo.paneId\n        if (overlay.isStart()) {\n          overlayStore.updateProgressInstanceInfo(paneId)\n          progressInstancePaneId = paneId\n        }\n        if (overlay.isDrawing() && progressInstancePaneId === paneId) {\n          overlay.eventMoveForDrawing(this._coordinateToPoint(progressInstanceInfo.instance, event))\n          overlay.onDrawing?.({ overlay, ...event })\n        }\n        return this._figureMouseMoveEvent(\n          progressInstanceInfo.instance,\n          EventOverlayInfoFigureType.POINT,\n          progressInstanceInfo.instance.points.length - 1,\n          0\n        )(event)\n      }\n      overlayStore.setHoverInstanceInfo({\n        paneId, instance: null, figureType: EventOverlayInfoFigureType.NONE, figureIndex: -1, attrsIndex: -1\n      }, event)\n      return false\n    }).registerEvent('mouseDownEvent', (event: MouseTouchEvent) => {\n      const progressInstanceInfo = overlayStore.getProgressInstanceInfo()\n      if (progressInstanceInfo !== null) {\n        const overlay = progressInstanceInfo.instance\n        let progressInstancePaneId = progressInstanceInfo.paneId\n        if (overlay.isStart()) {\n          overlayStore.updateProgressInstanceInfo(paneId, true)\n          progressInstancePaneId = paneId\n        }\n        if (overlay.isDrawing() && progressInstancePaneId === paneId) {\n          overlay.eventMoveForDrawing(this._coordinateToPoint(overlay, event))\n          overlay.onDrawing?.({ overlay, ...event })\n          overlay.nextStep()\n          if (!overlay.isDrawing()) {\n            overlayStore.progressInstanceComplete()\n            overlay.onDrawEnd?.({ overlay, ...event })\n          }\n        }\n        return this._figureMouseDownEvent(\n          overlay,\n          EventOverlayInfoFigureType.POINT,\n          overlay.points.length - 1,\n          0\n        )(event)\n      }\n      overlayStore.setClickInstanceInfo({\n        paneId, instance: null, figureType: EventOverlayInfoFigureType.NONE, figureIndex: -1, attrsIndex: -1\n      }, event)\n      return false\n    }).registerEvent('mouseRightClickEvent', (event: MouseTouchEvent) => {\n      const progressInstanceInfo = overlayStore.getProgressInstanceInfo()\n      if (progressInstanceInfo !== null) {\n        const overlay = progressInstanceInfo.instance\n        if (overlay.isDrawing()) {\n          return this._figureMouseRightClickEvent(\n            overlay,\n            EventOverlayInfoFigureType.POINT,\n            overlay.points.length - 1,\n            0\n          )(event)\n        }\n      }\n      return false\n    }).registerEvent('mouseUpEvent', (event: MouseTouchEvent) => {\n      const { instance } = overlayStore.getPressedInstanceInfo()\n      if (instance !== null) {\n        instance.onPressedMoveEnd?.({ overlay: instance, ...event })\n      }\n      overlayStore.setPressedInstanceInfo({\n        paneId, instance: null, figureType: EventOverlayInfoFigureType.NONE, figureIndex: -1, attrsIndex: -1\n      })\n      return false\n    }).registerEvent('pressedMouseMoveEvent', (event: MouseTouchEvent) => {\n      const { instance, figureType, figureIndex } = overlayStore.getPressedInstanceInfo()\n      if (instance !== null) {\n        if (!instance.lock) {\n          if (!(instance.onPressedMoving?.({ overlay: instance, ...event }) ?? false)) {\n            const point = this._coordinateToPoint(instance, event)\n            if (figureType === EventOverlayInfoFigureType.POINT) {\n              instance.eventPressedPointMove(point, figureIndex)\n            } else {\n              instance.eventPressedOtherMove(point, this.getWidget().getPane().getChart().getChartStore().getTimeScaleStore())\n            }\n          }\n        }\n        return true\n      }\n      return false\n    })\n  }\n\n  private _createFigureEvents (overlay: Overlay, figureType: EventOverlayInfoFigureType, figureIndex: number, attrsIndex: number): EventHandler | undefined {\n    if (!overlay.isDrawing()) {\n      return {\n        mouseMoveEvent: this._figureMouseMoveEvent(overlay, figureType, figureIndex, attrsIndex),\n        mouseDownEvent: this._figureMouseDownEvent(overlay, figureType, figureIndex, attrsIndex),\n        mouseRightClickEvent: this._figureMouseRightClickEvent(overlay, figureType, figureIndex, attrsIndex)\n      }\n    }\n  }\n\n  private _figureMouseMoveEvent (overlay: Overlay, figureType: EventOverlayInfoFigureType, figureIndex: number, attrsIndex: number): MouseTouchEventCallback {\n    return (event: MouseTouchEvent) => {\n      const pane = this.getWidget().getPane()\n      const overlayStore = pane.getChart().getChartStore().getOverlayStore()\n      overlayStore.setHoverInstanceInfo(\n        { paneId: pane.getId(), instance: overlay, figureType, figureIndex, attrsIndex }, event\n      )\n      return true\n    }\n  }\n\n  private _figureMouseDownEvent (overlay: Overlay, figureType: EventOverlayInfoFigureType, figureIndex: number, attrsIndex: number): MouseTouchEventCallback {\n    return (event: MouseTouchEvent) => {\n      const pane = this.getWidget().getPane()\n      const paneId = pane.getId()\n      const overlayStore = pane.getChart().getChartStore().getOverlayStore()\n      overlay.startPressedMove(this._coordinateToPoint(overlay, event))\n      overlay.onPressedMoveStart?.({ overlay, ...event })\n      overlayStore.setPressedInstanceInfo({ paneId, instance: overlay, figureType, figureIndex, attrsIndex })\n      overlayStore.setClickInstanceInfo({ paneId, instance: overlay, figureType, figureIndex, attrsIndex }, event)\n      return true\n    }\n  }\n\n  _figureMouseRightClickEvent (overlay: Overlay, figureType: EventOverlayInfoFigureType, figureIndex: number, attrsIndex: number): MouseTouchEventCallback {\n    return (event: MouseTouchEvent) => {\n      if (!(overlay.onRightClick?.({ overlay, ...event }) ?? false)) {\n        const pane = this.getWidget().getPane()\n        const overlayStore = pane.getChart().getChartStore().getOverlayStore()\n        overlayStore.removeInstance(overlay)\n      }\n      return true\n    }\n  }\n\n  private _coordinateToPoint (overlay: Overlay, coordinate: Coordinate): Partial<Point> {\n    const point: Partial<Point> = {}\n    const pane = this.getWidget().getPane()\n    const chart = pane.getChart()\n    const paneId = pane.getId()\n    const timeScaleStore = chart.getChartStore().getTimeScaleStore()\n    if (this.coordinateToPointTimestampDataIndexFlag()) {\n      const xAxis = chart.getPaneById(PaneIdConstants.XAXIS)?.getAxisComponent() as Axis\n      const dataIndex = xAxis.convertFromPixel(coordinate.x)\n      const timestamp = timeScaleStore.dataIndexToTimestamp(dataIndex) ?? undefined\n      point.dataIndex = dataIndex\n      point.timestamp = timestamp\n    }\n    if (this.coordinateToPointValueFlag()) {\n      const yAxis = pane.getAxisComponent()\n      let value = yAxis.convertFromPixel(coordinate.y)\n      if (overlay.mode !== OverlayMode.NORMAL && paneId === PaneIdConstants.CANDLE && point.dataIndex !== undefined) {\n        const kLineData = timeScaleStore.getDataByDataIndex(point.dataIndex)\n        if (kLineData !== null) {\n          if (value > kLineData.high) {\n            if (overlay.mode === OverlayMode.WEAK_MAGNET) {\n              const highY = yAxis.convertToPixel(kLineData.high)\n              const buffValue = yAxis.convertFromPixel(highY - 8)\n              if (value < buffValue) {\n                value = kLineData.high\n              }\n            } else {\n              value = kLineData.high\n            }\n          } else if (value < kLineData.low) {\n            if (overlay.mode === OverlayMode.WEAK_MAGNET) {\n              const lowY = yAxis.convertToPixel(kLineData.low)\n              const buffValue = yAxis.convertFromPixel(lowY - 8)\n              if (value > buffValue) {\n                value = kLineData.low\n              }\n            } else {\n              value = kLineData.low\n            }\n          } else {\n            const max = Math.max(kLineData.open, kLineData.close)\n            const min = Math.min(kLineData.open, kLineData.close)\n            if (value > max) {\n              if (value - max < kLineData.high - value) {\n                value = max\n              } else {\n                value = kLineData.high\n              }\n            } else if (value < min) {\n              if (value - kLineData.low < min - value) {\n                value = kLineData.low\n              } else {\n                value = min\n              }\n            } else if (max - value < value - min) {\n              value = max\n            } else {\n              value = min\n            }\n          }\n        }\n      }\n      point.value = value\n    }\n    return point\n  }\n\n  protected coordinateToPointValueFlag (): boolean {\n    return true\n  }\n\n  protected coordinateToPointTimestampDataIndexFlag (): boolean {\n    return true\n  }\n\n  dispatchEvent (name: EventName, event: MouseTouchEvent, other?: number): boolean {\n    if (this.getWidget().getPane().getChart().getChartStore().getOverlayStore().isDrawing()) {\n      return this.onEvent(name, event, other)\n    }\n    return super.dispatchEvent(name, event, other)\n  }\n\n  checkEventOn (event: MouseTouchEvent): boolean {\n    return true\n  }\n\n  protected drawImp (ctx: CanvasRenderingContext2D): void {\n    const widget = this.getWidget()\n    const pane = widget.getPane()\n    const paneId = pane.getId()\n    const chart = pane.getChart()\n    const yAxis = pane.getAxisComponent() as unknown as Nullable<YAxis>\n    const xAxis = chart.getPaneById(PaneIdConstants.XAXIS)?.getAxisComponent() as Nullable<XAxis>\n    const bounding = widget.getBounding()\n    const chartStore = chart.getChartStore()\n    const customApi = chartStore.getCustomApi()\n    const timeScaleStore = chartStore.getTimeScaleStore()\n    const dateTimeFormat = timeScaleStore.getDateTimeFormat()\n    const barSpace = timeScaleStore.getBarSpace()\n    const precision = chartStore.getPrecision()\n    const defaultStyles = chartStore.getStyles().overlay\n    const overlayStore = chartStore.getOverlayStore()\n    const hoverInstanceInfo = overlayStore.getHoverInstanceInfo()\n    const clickInstanceInfo = overlayStore.getClickInstanceInfo()\n    const overlays = this.getCompleteOverlays(overlayStore, paneId)\n    overlays.forEach(overlay => {\n      this._drawOverlay(\n        ctx, overlay, bounding, barSpace, precision,\n        dateTimeFormat, customApi, defaultStyles, xAxis, yAxis,\n        hoverInstanceInfo, clickInstanceInfo, timeScaleStore\n      )\n    })\n    const progressInstanceInfo = overlayStore.getProgressInstanceInfo()\n    if (progressInstanceInfo !== null) {\n      const overlay = this.getProgressOverlay(progressInstanceInfo, paneId)\n      if (overlay !== null) {\n        this._drawOverlay(\n          ctx, overlay, bounding, barSpace,\n          precision, dateTimeFormat, customApi, defaultStyles, xAxis, yAxis,\n          hoverInstanceInfo, clickInstanceInfo, timeScaleStore\n        )\n      }\n    }\n  }\n\n  private _drawOverlay (\n    ctx: CanvasRenderingContext2D,\n    overlay: Overlay,\n    bounding: Bounding,\n    barSpace: BarSpace,\n    precision: Precision,\n    dateTimeFormat: Intl.DateTimeFormat,\n    customApi: CustomApi,\n    defaultStyles: OverlayStyle,\n    xAxis: Nullable<XAxis>,\n    yAxis: Nullable<YAxis>,\n    hoverInstanceInfo: EventOverlayInfo,\n    clickInstanceInfo: EventOverlayInfo,\n    timeScaleStore: TimeScaleStore\n  ): void {\n    const { points } = overlay\n    const coordinates = points.map(point => {\n      let dataIndex = point.dataIndex\n      if (point.timestamp !== undefined) {\n        dataIndex = timeScaleStore.timestampToDataIndex(point.timestamp)\n      }\n      const coordinate = { x: 0, y: 0 }\n      if (dataIndex !== undefined) {\n        coordinate.x = xAxis?.convertToPixel(dataIndex) ?? 0\n      }\n      if (point.value !== undefined) {\n        coordinate.y = yAxis?.convertToPixel(point.value) ?? 0\n      }\n      return coordinate\n    })\n    if (coordinates.length > 0) {\n      const figures = new Array<OverlayFigure>().concat(\n        this.getFigures(\n          overlay, coordinates, bounding, barSpace, precision, dateTimeFormat, defaultStyles, xAxis, yAxis\n        )\n      )\n      this.drawFigures(\n        ctx,\n        overlay,\n        figures,\n        defaultStyles\n      )\n    }\n    this.drawDefaultFigures(\n      ctx,\n      overlay,\n      coordinates,\n      bounding,\n      precision,\n      dateTimeFormat,\n      customApi,\n      defaultStyles,\n      xAxis,\n      yAxis,\n      hoverInstanceInfo,\n      clickInstanceInfo\n    )\n  }\n\n  protected drawFigures (ctx: CanvasRenderingContext2D, overlay: Overlay, figures: OverlayFigure[], defaultStyles: OverlayStyle): void {\n    figures.forEach((figure, figureIndex) => {\n      const { type, styles, attrs, ignoreEvent } = figure\n      const attrsArray = [].concat(attrs)\n      attrsArray.forEach((ats, attrsIndex) => {\n        const evnets = !(ignoreEvent ?? false) ? this._createFigureEvents(overlay, EventOverlayInfoFigureType.OTHER, figureIndex, attrsIndex) : undefined\n        const ss = { ...defaultStyles[type], ...overlay.styles?.[type], ...styles }\n        this.createFigure(\n          type, ats, ss, evnets\n        )?.draw(ctx)\n      })\n    })\n  }\n\n  protected getCompleteOverlays (overlayStore: OverlayStore, paneId: string): Overlay[] {\n    return overlayStore.getInstances(paneId)\n  }\n\n  protected getProgressOverlay (info: ProgressOverlayInfo, paneId: string): Nullable<Overlay> {\n    if (info.paneId === paneId) {\n      return info.instance\n    }\n    return null\n  }\n\n  protected getFigures (\n    overlay: Overlay,\n    coordinates: Coordinate[],\n    bounding: Bounding,\n    barSpace: BarSpace,\n    precision: Precision,\n    dateTimeFormat: Intl.DateTimeFormat,\n    defaultStyles: OverlayStyle,\n    xAxis: Nullable<XAxis>,\n    yAxis: Nullable<YAxis>\n  ): OverlayFigure | OverlayFigure[] {\n    return overlay.createPointFigures?.({ overlay, coordinates, bounding, barSpace, precision, dateTimeFormat, defaultStyles, xAxis, yAxis }) ?? []\n  }\n\n  protected drawDefaultFigures (\n    ctx: CanvasRenderingContext2D,\n    overlay: Overlay,\n    coordinates: Coordinate[],\n    bounding: Bounding,\n    precision: Precision,\n    dateTimeFormat: Intl.DateTimeFormat,\n    customApi: CustomApi,\n    defaultStyles: OverlayStyle,\n    xAxis: Nullable<XAxis>,\n    yAxis: Nullable<YAxis>,\n    hoverInstanceInfo: EventOverlayInfo,\n    clickInstanceInfo: EventOverlayInfo\n  ): void {\n    if (overlay.needDefaultPointFigure) {\n      if (\n        (hoverInstanceInfo.instance?.id === overlay.id && hoverInstanceInfo.figureType !== EventOverlayInfoFigureType.NONE) ||\n        (clickInstanceInfo.instance?.id === overlay.id && clickInstanceInfo.figureType !== EventOverlayInfoFigureType.NONE)\n      ) {\n        const styles = overlay.styles\n        const pointStyles = { ...defaultStyles.point, ...styles?.point }\n        coordinates.forEach(({ x, y }, index) => {\n          let radius = pointStyles.radius\n          let color = pointStyles.color\n          let borderColor = pointStyles.borderColor\n          let borderSize = pointStyles.borderSize\n          if (\n            hoverInstanceInfo.instance?.id === overlay.id &&\n            hoverInstanceInfo.figureType === EventOverlayInfoFigureType.POINT &&\n            hoverInstanceInfo.figureIndex === index\n          ) {\n            radius = pointStyles.activeRadius\n            color = pointStyles.activeColor\n            borderColor = pointStyles.activeBorderColor\n            borderSize = pointStyles.activeBorderSize\n          }\n          this.createFigure(\n            'circle',\n            { x, y, r: radius + borderSize },\n            { color: borderColor },\n            this._createFigureEvents(overlay, EventOverlayInfoFigureType.POINT, index, 0)\n          )?.draw(ctx)\n          this.createFigure(\n            'circle',\n            { x, y, r: radius },\n            { color }\n          )?.draw(ctx)\n        })\n      }\n    }\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Pane from '../pane/Pane'\n\nimport { WidgetNameConstants } from './Widget'\nimport DrawWidget from './DrawWidget'\n\nimport YAxis from '../component/YAxis'\n\nimport GridView from '../view/GridView'\nimport IndicatorView from '../view/IndicatorView'\nimport CrosshairLineView from '../view/CrosshairLineView'\nimport IndicatorTooltipView from '../view/IndicatorTooltipView'\nimport OverlayView from '../view/OverlayView'\n\nexport default class IndicatorWidget extends DrawWidget<YAxis> {\n  private readonly _gridView = new GridView(this)\n  private readonly _indicatorView = new IndicatorView(this)\n  private readonly _crosshairLineView = new CrosshairLineView(this)\n  private readonly _tooltipView = this.createTooltipView()\n  private readonly _overlayView = new OverlayView(this)\n\n  constructor (rootContainer: HTMLElement, pane: Pane<YAxis>) {\n    super(rootContainer, pane)\n    this.addChild(this._overlayView)\n    this.getContainer().style.cursor = 'crosshair'\n  }\n\n  getName (): string {\n    return WidgetNameConstants.MAIN\n  }\n\n  protected updateMain (ctx: CanvasRenderingContext2D): void {\n    this.updateMainContent(ctx)\n    this._indicatorView.draw(ctx)\n    this._gridView.draw(ctx)\n  }\n\n  protected createTooltipView (): IndicatorTooltipView {\n    return new IndicatorTooltipView(this)\n  }\n\n  protected updateMainContent (ctx: CanvasRenderingContext2D): void {}\n\n  protected updateOverlay (ctx: CanvasRenderingContext2D): void {\n    this._overlayView.draw(ctx)\n    this._crosshairLineView.draw(ctx)\n    this._tooltipView.draw(ctx)\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Coordinate from '../common/Coordinate'\nimport VisibleData from '../common/VisibleData'\nimport BarSpace from '../common/BarSpace'\nimport { GradientColor } from '../common/Options'\n\nimport ChildrenView from './ChildrenView'\n\nimport { isNumber, isArray } from '../common/utils/typeChecks'\n\nexport default class CandleAreaView extends ChildrenView {\n  protected drawImp (ctx: CanvasRenderingContext2D): void {\n    const widget = this.getWidget()\n    const pane = widget.getPane()\n    const chart = pane.getChart()\n    const chartStore = pane.getChart().getChartStore()\n    const bounding = widget.getBounding()\n    const yAxis = pane.getAxisComponent()\n    const barSpace = chartStore.getTimeScaleStore().getBarSpace()\n    const candleAreaStyles = chart.getStyles().candle.area\n    const lineCoordinates: Coordinate[] = []\n    const areaCoordinates: Coordinate[] = []\n    let minY = Number.MAX_SAFE_INTEGER\n    this.eachChildren((data: VisibleData, barSpace: BarSpace, i: number) => {\n      const { data: kLineData, x } = data\n      const { halfGapBar } = barSpace\n      const value = kLineData[candleAreaStyles.value]\n      if (isNumber(value)) {\n        const y = yAxis.convertToPixel(value)\n        if (i === 0) {\n          const startX = x - halfGapBar\n          areaCoordinates.push({ x: startX, y: bounding.height })\n          areaCoordinates.push({ x: startX, y })\n          lineCoordinates.push({ x: startX, y })\n        }\n        lineCoordinates.push({ x, y })\n        areaCoordinates.push({ x, y })\n        minY = Math.min(minY, y)\n      }\n    })\n    const areaCoordinateCount = areaCoordinates.length\n    if (areaCoordinateCount > 0) {\n      const lastCoordinate: Coordinate = areaCoordinates[areaCoordinateCount - 1]\n      const endX = lastCoordinate.x + barSpace.halfGapBar\n      lineCoordinates.push({ x: endX, y: lastCoordinate.y })\n      areaCoordinates.push({ x: endX, y: lastCoordinate.y })\n      areaCoordinates.push({ x: endX, y: bounding.height })\n    }\n\n    if (lineCoordinates.length > 0) {\n      this.createFigure(\n        'line',\n        { coordinates: lineCoordinates },\n        {\n          color: candleAreaStyles.lineColor,\n          size: candleAreaStyles.lineSize\n        }\n      )?.draw(ctx)\n    }\n\n    if (areaCoordinates.length > 0) {\n      // Draw real-time background\n      const backgroundColor = candleAreaStyles.backgroundColor\n      let color: string | CanvasGradient\n      if (isArray(backgroundColor)) {\n        const gradient = ctx.createLinearGradient(0, bounding.height, 0, minY)\n        try {\n          (backgroundColor as GradientColor[]).forEach(({ offset, color }) => {\n            gradient.addColorStop(offset, color)\n          })\n        } catch (e) {\n        }\n        color = gradient\n      } else {\n        color = backgroundColor as string\n      }\n      this.createFigure(\n        'polygon',\n        { coordinates: areaCoordinates },\n        { color }\n      )?.draw(ctx)\n    }\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Coordinate from '../common/Coordinate'\nimport VisibleData from '../common/VisibleData'\nimport BarSpace from '../common/BarSpace'\nimport { CandleHighLowPriceMarkStyle } from '../common/Options'\n\nimport ChildrenView from './ChildrenView'\n\nimport { formatPrecision } from '../common/utils/format'\n\nexport default class CandleHighLowPriceView extends ChildrenView {\n  protected drawImp (ctx: CanvasRenderingContext2D): void {\n    const widget = this.getWidget()\n    const pane = widget.getPane()\n    const chartStore = pane.getChart().getChartStore()\n    const priceMarkStyles = chartStore.getStyles().candle.priceMark\n    const highPriceMarkStyles = priceMarkStyles.high\n    const lowPriceMarkStyles = priceMarkStyles.low\n    if (priceMarkStyles.show && (highPriceMarkStyles.show || lowPriceMarkStyles.show)) {\n      const precision = chartStore.getPrecision()\n      const yAxis = pane.getAxisComponent()\n      let high = Number.MIN_SAFE_INTEGER\n      let highX = 0\n      let low = Number.MAX_SAFE_INTEGER\n      let lowX = 0\n      this.eachChildren((data: VisibleData, barSpace: BarSpace, i: number) => {\n        const { data: kLineData, x } = data\n        if (high < kLineData.high) {\n          high = kLineData.high\n          highX = x\n        }\n        if (low > kLineData.low) {\n          low = kLineData.low\n          lowX = x\n        }\n      })\n      const highY = yAxis.convertToPixel(high)\n      const lowY = yAxis.convertToPixel(low)\n      if (highPriceMarkStyles.show && high !== Number.MIN_SAFE_INTEGER) {\n        this._drawMark(\n          ctx,\n          formatPrecision(high, precision.price),\n          { x: highX, y: highY },\n          highY < lowY ? [-2, -5] : [2, 5],\n          highPriceMarkStyles\n        )\n      }\n      if (lowPriceMarkStyles.show && low !== Number.MAX_SAFE_INTEGER) {\n        this._drawMark(\n          ctx,\n          formatPrecision(low, precision.price),\n          { x: lowX, y: lowY },\n          highY < lowY ? [2, 5] : [-2, -5],\n          lowPriceMarkStyles\n        )\n      }\n    }\n  }\n\n  private _drawMark (\n    ctx: CanvasRenderingContext2D,\n    text: string,\n    coordinate: Coordinate,\n    offsets: number[],\n    styles: CandleHighLowPriceMarkStyle\n  ): void {\n    const startX = coordinate.x\n    const startY = coordinate.y + offsets[0]\n    this.createFigure(\n      'line',\n      {\n        coordinates: [\n          { x: startX - 2, y: startY + offsets[0] },\n          { x: startX, y: startY },\n          { x: startX + 2, y: startY + offsets[0] }\n        ]\n      },\n      { color: styles.color }\n    )?.draw(ctx)\n\n    let lineEndX: number\n    let textStartX: number\n    let textAlign: string\n    const { width } = this.getWidget().getBounding()\n    if (startX > width / 2) {\n      lineEndX = startX - 5\n      textStartX = lineEndX - styles.textOffset\n      textAlign = 'right'\n    } else {\n      lineEndX = startX + 5\n      textAlign = 'left'\n      textStartX = lineEndX + styles.textOffset\n    }\n\n    const y = startY + offsets[1]\n    this.createFigure(\n      'line',\n      {\n        coordinates: [\n          { x: startX, y: startY },\n          { x: startX, y },\n          { x: lineEndX, y }\n        ]\n      },\n      { color: styles.color }\n    )?.draw(ctx)\n    this.createFigure(\n      'text',\n      {\n        x: textStartX,\n        y,\n        text,\n        align: textAlign,\n        baseline: 'middle'\n      },\n      {\n        color: styles.color,\n        size: styles.textSize,\n        family: styles.textFamily,\n        weight: styles.textWeight\n      }\n    )?.draw(ctx)\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport YAxis from '../component/YAxis'\n\nimport View from './View'\n\nexport default class CandleLastPriceView extends View {\n  protected drawImp (ctx: CanvasRenderingContext2D): void {\n    const widget = this.getWidget()\n    const pane = widget.getPane()\n    const bounding = widget.getBounding()\n    const chartStore = pane.getChart().getChartStore()\n    const priceMarkStyles = chartStore.getStyles().candle.priceMark\n    const lastPriceMarkStyles = priceMarkStyles.last\n    const lastPriceMarkLineStyles = lastPriceMarkStyles.line\n    if (priceMarkStyles.show && lastPriceMarkStyles.show && lastPriceMarkLineStyles.show) {\n      const yAxis = pane.getAxisComponent() as YAxis\n      const dataList = chartStore.getDataList()\n      const data = dataList[dataList.length - 1]\n      if (data != null) {\n        const { close, open } = data\n        const priceY = yAxis.convertToNicePixel(close)\n        let color: string\n        if (close > open) {\n          color = lastPriceMarkStyles.upColor\n        } else if (close < open) {\n          color = lastPriceMarkStyles.downColor\n        } else {\n          color = lastPriceMarkStyles.noChangeColor\n        }\n        this.createFigure(\n          'line',\n          {\n            coordinates: [\n              { x: 0, y: priceY },\n              { x: bounding.width, y: priceY }\n            ]\n          },\n          {\n            style: lastPriceMarkLineStyles.style,\n            color,\n            size: lastPriceMarkLineStyles.size,\n            dashedValue: lastPriceMarkLineStyles.dashedValue\n          }\n        )?.draw(ctx)\n      }\n    }\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Locales } from '../../common/Options'\n\nconst zhCN: Locales = {\n  time: '时间：',\n  open: '开：',\n  high: '高：',\n  low: '低：',\n  close: '收：',\n  volume: '成交量：'\n}\n\nexport default zhCN\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Locales } from '../../common/Options'\n\nconst enUS: Locales = {\n  time: 'Time: ',\n  open: 'Open: ',\n  high: 'High: ',\n  low: 'Low: ',\n  close: 'Close: ',\n  volume: 'Volume: '\n}\n\nexport default enUS\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Locales } from '../../common/Options'\n\nimport zhCN from './zh-CN'\nimport enUS from './en-US'\n\nconst locales: { [key: string]: Locales } = {\n  'zh-CN': zhCN,\n  'en-US': enUS\n}\n\nfunction registerLocale (locale: string, ls: Locales): void {\n  locales[locale] = { ...locales[locale], ...ls }\n}\n\nfunction getSupportedLocales (): string[] {\n  return Object.keys(locales)\n}\n\nfunction i18n (key: string, locale: string): string {\n  return locales[locale]?.[key] ?? key\n}\n\nexport { i18n, registerLocale, getSupportedLocales }\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Bounding from '../common/Bounding'\nimport KLineData from '../common/KLineData'\nimport Precision from '../common/Precision'\nimport Crosshair from '../common/Crosshair'\nimport { Styles, CandleStyle, TooltipData, TooltipDataChild, TooltipShowType, YAxisPosition, PolygonType, CustomApi, FormatDateType } from '../common/Options'\n\nimport Indicator from '../component/Indicator'\n\nimport IndicatorTooltipView from './IndicatorTooltipView'\n\nimport { i18n } from '../extension/i18n/index'\n\nimport { formatPrecision } from '../common/utils/format'\nimport { createFont } from '../common/utils/canvas'\nimport { isFunction, isObject } from '../common/utils/typeChecks'\n\nexport default class CandleTooltipView extends IndicatorTooltipView {\n  protected drawImp (ctx: CanvasRenderingContext2D): void {\n    const widget = this.getWidget()\n    const pane = widget.getPane()\n    const chartStore = pane.getChart().getChartStore()\n    const crosshair = chartStore.getCrosshairStore().get()\n    if (crosshair.kLineData !== undefined) {\n      const bounding = widget.getBounding()\n      const yAxisBounding = pane.getYAxisWidget()?.getBounding() as Bounding\n      const dataList = chartStore.getDataList()\n      const precision = chartStore.getPrecision()\n      const locale = chartStore.getLocale()\n      const customApi = chartStore.getCustomApi()\n      const indicators = chartStore.getIndicatorStore().getInstances(pane.getId())\n      const dateTimeFormat = chartStore.getTimeScaleStore().getDateTimeFormat()\n      const styles = chartStore.getStyles()\n      const candleStyles = styles.candle\n      const indicatorStyles = styles.indicator\n      if (\n        candleStyles.tooltip.showType === TooltipShowType.RECT &&\n        indicatorStyles.tooltip.showType === TooltipShowType.RECT\n      ) {\n        const isDrawCandleTooltip = this.isDrawTooltip(crosshair, candleStyles.tooltip)\n        const isDrawIndicatorTooltip = this.isDrawTooltip(crosshair, indicatorStyles.tooltip)\n        this._drawRectTooltip(\n          ctx, dataList, indicators,\n          bounding, yAxisBounding,\n          crosshair, precision,\n          dateTimeFormat, locale, customApi,\n          isDrawCandleTooltip, isDrawIndicatorTooltip,\n          styles, 0\n        )\n      } else if (\n        candleStyles.tooltip.showType === TooltipShowType.STANDARD &&\n        indicatorStyles.tooltip.showType === TooltipShowType.STANDARD\n      ) {\n        const top = this._drawCandleStandardTooltip(\n          ctx, bounding, crosshair, precision,\n          dateTimeFormat, locale, customApi, candleStyles\n        )\n        this.drawIndicatorTooltip(ctx, dataList, crosshair, indicators, customApi, bounding, indicatorStyles, top)\n      } else if (\n        candleStyles.tooltip.showType === TooltipShowType.RECT &&\n        indicatorStyles.tooltip.showType === TooltipShowType.STANDARD\n      ) {\n        const top = this.drawIndicatorTooltip(ctx, dataList, crosshair, indicators, customApi, bounding, indicatorStyles, 0)\n        const isDrawCandleTooltip = this.isDrawTooltip(crosshair, candleStyles.tooltip)\n        this._drawRectTooltip(\n          ctx, dataList, indicators,\n          bounding, yAxisBounding,\n          crosshair, precision, dateTimeFormat,\n          locale, customApi,\n          isDrawCandleTooltip, false,\n          styles, top\n        )\n      } else {\n        const top = this._drawCandleStandardTooltip(\n          ctx, bounding, crosshair, precision,\n          dateTimeFormat, locale, customApi, candleStyles\n        )\n        const isDrawIndicatorTooltip = this.isDrawTooltip(crosshair, indicatorStyles.tooltip)\n        this._drawRectTooltip(\n          ctx, dataList, indicators,\n          bounding, yAxisBounding,\n          crosshair, precision, dateTimeFormat,\n          locale, customApi,\n          false, isDrawIndicatorTooltip,\n          styles, top\n        )\n      }\n    }\n  }\n\n  private _drawCandleStandardTooltip (\n    ctx: CanvasRenderingContext2D,\n    bounding: Bounding,\n    crosshair: Crosshair,\n    precision: Precision,\n    dateTimeFormat: Intl.DateTimeFormat,\n    locale: string,\n    customApi: CustomApi,\n    styles: CandleStyle\n  ): number {\n    const tooltipStyles = styles.tooltip\n    const tooltipTextStyles = tooltipStyles.text\n    let height = 0\n    if (this.isDrawTooltip(crosshair, tooltipStyles)) {\n      const values = this._getCandleTooltipData(\n        crosshair.kLineData as KLineData, precision,\n        dateTimeFormat, locale, customApi, styles\n      )\n      if (values.length > 0) {\n        height += (tooltipTextStyles.marginTop + tooltipTextStyles.size + tooltipTextStyles.marginBottom)\n        height += this.drawStandardTooltip(ctx, bounding, values, 0, tooltipTextStyles.marginTop, tooltipTextStyles)\n      }\n    }\n    return height\n  }\n\n  private _drawRectTooltip (\n    ctx: CanvasRenderingContext2D,\n    dataList: KLineData[],\n    indicators: Map<string, Indicator>,\n    bounding: Bounding,\n    yAxisBounding: Bounding,\n    crosshair: Crosshair,\n    precision: Precision,\n    dateTimeFormat: Intl.DateTimeFormat,\n    locale: string,\n    customApi: CustomApi,\n    isDrawCandleTooltip: boolean,\n    isDrawIndicatorTooltip: boolean,\n    styles: Styles,\n    top: number\n  ): void {\n    const candleStyles = styles.candle\n    const indicatorStyles = styles.indicator\n    const candleTooltipStyles = candleStyles.tooltip\n    const indicatorTooltipStyles = indicatorStyles.tooltip\n    if (isDrawCandleTooltip || isDrawIndicatorTooltip) {\n      const candleTooltipDatas = this._getCandleTooltipData(\n        crosshair.kLineData as KLineData, precision,\n        dateTimeFormat, locale, customApi, candleStyles\n      )\n      const {\n        marginLeft: baseTextMarginLeft,\n        marginRight: baseTextMarginRight,\n        marginTop: baseTextMarginTop,\n        marginBottom: baseTextMarginBottom,\n        size: baseTextSize,\n        weight: baseTextWeight,\n        family: baseTextFamily\n      } = candleTooltipStyles.text\n\n      const {\n        paddingLeft: rectPaddingLeft,\n        paddingRight: rectPaddingRight,\n        paddingTop: rectPaddingTop,\n        paddingBottom: rectPaddingBottom,\n        offsetLeft: rectLeft,\n        offsetRight: rectRight,\n        offsetTop: rectOffsetTop,\n        borderSize: rectBorderSize,\n        borderRadius: rectBorderRadius,\n        borderColor: rectBorderColor,\n        color: rectBackgroundColor\n      } = candleTooltipStyles.rect\n\n      let maxTextWidth = 0\n      let rectWidth = 0\n      let rectHeight = 0\n      if (isDrawCandleTooltip) {\n        ctx.font = createFont(baseTextSize, baseTextWeight, baseTextFamily)\n        candleTooltipDatas.forEach(data => {\n          const title = data.title as TooltipDataChild\n          const value = data.value as TooltipDataChild\n          const text = `${title.text}${value.text}`\n          const labelWidth = ctx.measureText(text).width + baseTextMarginLeft + baseTextMarginRight\n          maxTextWidth = Math.max(maxTextWidth, labelWidth)\n        })\n        rectHeight += ((baseTextMarginBottom + baseTextMarginTop + baseTextSize) * candleTooltipDatas.length)\n      }\n\n      const {\n        marginLeft: indicatorTextMarginLeft,\n        marginRight: indicatorTextMarginRight,\n        marginTop: indicatorTextMarginTop,\n        marginBottom: indicatorTextMarginBottom,\n        size: indicatorTextSize,\n        weight: indicatorTextWeight,\n        family: indicatorTextFamily\n      } = indicatorTooltipStyles.text\n      const indicatorTooltipDatas: TooltipData[][] = []\n      if (isDrawIndicatorTooltip) {\n        ctx.font = createFont(indicatorTextSize, indicatorTextWeight, indicatorTextFamily)\n        indicators.forEach(indicator => {\n          const tooltipDatas = this.getIndicatorTooltipData(dataList, crosshair, indicator, customApi, indicatorStyles).values ?? []\n          indicatorTooltipDatas.push(tooltipDatas)\n          tooltipDatas.forEach(data => {\n            const title = data.title as TooltipDataChild\n            const value = data.value as TooltipDataChild\n            const text = `${title.text}${value.text}`\n            const textWidth = ctx.measureText(text).width + indicatorTextMarginLeft + indicatorTextMarginRight\n            maxTextWidth = Math.max(maxTextWidth, textWidth)\n            rectHeight += (indicatorTextMarginTop + indicatorTextMarginBottom + indicatorTextSize)\n          })\n        })\n      }\n      rectWidth += maxTextWidth\n      if (rectWidth !== 0 && rectHeight !== 0) {\n        rectWidth += (rectBorderSize * 2 + rectPaddingLeft + rectPaddingRight)\n        rectHeight += (rectBorderSize * 2 + rectPaddingTop + rectPaddingBottom)\n        const centerX = bounding.width / 2\n        let rectX: number\n        if ((crosshair.realX ?? 0) < centerX) {\n          rectX = bounding.width - rectRight - rectWidth\n          if (styles.yAxis.inside && styles.yAxis.position === YAxisPosition.RIGHT) {\n            rectX -= yAxisBounding.width\n          }\n        } else {\n          rectX = rectLeft\n          if (styles.yAxis.inside && styles.yAxis.position === YAxisPosition.LEFT) {\n            rectX += yAxisBounding.width\n          }\n        }\n        const rectY = top + rectOffsetTop\n        this.createFigure(\n          'rect',\n          {\n            x: rectX,\n            y: rectY,\n            width: rectWidth,\n            height: rectHeight\n          },\n          {\n            style: PolygonType.STROKE_FILL,\n            color: rectBackgroundColor,\n            borderColor: rectBorderColor,\n            borderSize: rectBorderSize,\n            borderRadius: rectBorderRadius\n          }\n        )?.draw(ctx)\n        const candleTextX = rectX + rectBorderSize + rectPaddingLeft + baseTextMarginLeft\n        let textY = rectY + rectBorderSize + rectPaddingTop\n        if (isDrawCandleTooltip) {\n          // 开始渲染基础数据文字\n          candleTooltipDatas.forEach(data => {\n            textY += baseTextMarginTop\n            const title = data.title as TooltipDataChild\n            this.createFigure(\n              'text',\n              {\n                x: candleTextX,\n                y: textY,\n                text: title.text\n              },\n              {\n                color: title.color,\n                size: baseTextSize,\n                family: baseTextFamily,\n                weight: baseTextWeight\n              }\n            )?.draw(ctx)\n            const value = data.value as TooltipDataChild\n            this.createFigure(\n              'text',\n              {\n                x: rectX + rectWidth - rectBorderSize - baseTextMarginRight - rectPaddingRight,\n                y: textY,\n                text: value.text,\n                align: 'right'\n              },\n              {\n                color: value.color,\n                size: baseTextSize,\n                family: baseTextFamily,\n                weight: baseTextWeight\n              }\n            )?.draw(ctx)\n            textY += (baseTextSize + baseTextMarginBottom)\n          })\n        }\n        if (isDrawIndicatorTooltip) {\n          // 开始渲染指标数据文字\n          const indicatorTextX = rectX + rectBorderSize + rectPaddingLeft + indicatorTextMarginLeft\n          indicatorTooltipDatas.forEach(datas => {\n            datas.forEach(data => {\n              textY += indicatorTextMarginTop\n              const title = data.title as TooltipDataChild\n              const value = data.value as TooltipDataChild\n              this.createFigure(\n                'text',\n                {\n                  x: indicatorTextX,\n                  y: textY,\n                  text: title.text\n                },\n                {\n                  color: title.color,\n                  size: indicatorTextSize,\n                  family: indicatorTextFamily,\n                  weight: indicatorTextWeight\n                }\n              )?.draw(ctx)\n\n              this.createFigure(\n                'text',\n                {\n                  x: rectX + rectWidth - rectBorderSize - indicatorTextMarginRight - rectPaddingRight,\n                  y: textY,\n                  text: value.text,\n                  align: 'right'\n                },\n                {\n                  color: value.color,\n                  size: indicatorTextSize,\n                  family: indicatorTextFamily,\n                  weight: indicatorTextWeight\n                }\n              )?.draw(ctx)\n              textY += (indicatorTextSize + indicatorTextMarginBottom)\n            })\n          })\n        }\n      }\n    }\n  }\n\n  private _getCandleTooltipData (\n    data: KLineData,\n    precision: Precision,\n    dateTimeFormat: Intl.DateTimeFormat,\n    locale: string,\n    customApi: CustomApi,\n    styles: CandleStyle\n  ): TooltipData[] {\n    const tooltipStyles = styles.tooltip\n    const textColor = tooltipStyles.text.color\n    let tooltipData: TooltipData[] = []\n    if (isFunction(tooltipStyles.custom)) {\n      const labelValues = tooltipStyles.custom?.(data, styles) ?? []\n      labelValues.forEach(({ title, value }) => {\n        let t: TooltipDataChild = { text: '', color: '' }\n        if (isObject(title)) {\n          t = title as TooltipDataChild\n        } else {\n          t.text = title as string\n          t.color = textColor\n        }\n        t.text = i18n(t.text, locale)\n        let v: TooltipDataChild = { text: '', color: '' }\n        if (isObject(value)) {\n          v = value as TooltipDataChild\n        } else {\n          v.text = value as string\n          v.color = textColor\n        }\n        tooltipData.push({ title: t, value: v })\n      })\n    } else {\n      const { price: pricePrecision, volume: volumePrecision } = precision\n      tooltipData = [\n        {\n          title: { text: i18n('time', locale), color: textColor },\n          value: { text: customApi.formatDate(dateTimeFormat, data.timestamp, 'YYYY-MM-DD HH:mm', FormatDateType.TOOLTIP), color: textColor }\n        }, {\n          title: { text: i18n('open', locale), color: textColor },\n          value: { text: formatPrecision(data.open, pricePrecision), color: textColor }\n        }, {\n          title: { text: i18n('high', locale), color: textColor },\n          value: { text: formatPrecision(data.high, pricePrecision), color: textColor }\n        }, {\n          title: { text: i18n('low', locale), color: textColor },\n          value: { text: formatPrecision(data.low, pricePrecision), color: textColor }\n        }, {\n          title: { text: i18n('close', locale), color: textColor },\n          value: { text: formatPrecision(data.close, pricePrecision), color: textColor }\n        }, {\n          title: { text: i18n('volume', locale), color: textColor },\n          value: {\n            text: customApi.formatBigNumber(formatPrecision(data.volume ?? tooltipStyles.defaultValue, volumePrecision)),\n            color: textColor\n          }\n        }\n      ]\n    }\n    return tooltipData\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport IndicatorWidget from './IndicatorWidget'\n\nimport CandleBarView from '../view/CandleBarView'\nimport CandleAreaView from '../view/CandleAreaView'\nimport CandleHighLowPriceView from '../view/CandleHighLowPriceView'\nimport CandleLastPriceLineView from '../view/CandleLastPriceLineView'\n\nimport IndicatorTooltipView from '../view/IndicatorTooltipView'\nimport CandleTooltipView from '../view/CandleTooltipView'\n\nimport { CandleType } from '../common/Options'\n\nexport default class CandleWidget extends IndicatorWidget {\n  private readonly _candleBarView = new CandleBarView(this)\n  private readonly _candleAreaView = new CandleAreaView(this)\n  private readonly _candleHighLowPriceView = new CandleHighLowPriceView(this)\n  private readonly _candleLastPriceLineView = new CandleLastPriceLineView(this)\n\n  protected updateMainContent (ctx: CanvasRenderingContext2D): void {\n    const candleStyles = this.getPane().getChart().getStyles().candle\n    if (candleStyles.type !== CandleType.AREA) {\n      this._candleBarView.draw(ctx)\n      this._candleHighLowPriceView.draw(ctx)\n      this._candleLastPriceLineView.draw(ctx)\n    } else {\n      this._candleAreaView.draw(ctx)\n    }\n  }\n\n  protected createTooltipView (): IndicatorTooltipView {\n    return new CandleTooltipView(this)\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Bounding from '../common/Bounding'\nimport { AxisStyle, Styles } from '../common/Options'\n\nimport { LineAttrs } from '../extension/figure/line'\nimport { TextAttrs } from '../extension/figure/text'\n\nimport Axis, { AxisTick } from '../component/Axis'\n\nimport View from './View'\n\nexport default abstract class AxisView<C extends Axis> extends View<C> {\n  drawImp (ctx: CanvasRenderingContext2D): void {\n    const widget = this.getWidget()\n    const pane = widget.getPane()\n    const bounding = widget.getBounding()\n    const axis = pane.getAxisComponent()\n    const styles: AxisStyle = this.getAxisStyles(pane.getChart().getStyles())\n    if (styles.show) {\n      if (styles.axisLine.show) {\n        this.createFigure('line', this.createAxisLine(bounding, styles), styles.axisLine)?.draw(ctx)\n      }\n      const ticks = axis.getTicks()\n      if (styles.tickLine.show) {\n        const lines = this.createTickLines(ticks, bounding, styles)\n        lines.forEach(line => {\n          this.createFigure('line', line, styles.tickLine)?.draw(ctx)\n        })\n      }\n      if (styles.tickText.show) {\n        const texts = this.createTickTexts(ticks, bounding, styles)\n        texts.forEach(text => {\n          this.createFigure('text', text, styles.tickText)?.draw(ctx)\n        })\n      }\n    }\n  }\n\n  protected abstract getAxisStyles (styles: Styles): AxisStyle\n\n  protected abstract createAxisLine (bounding: Bounding, styles: AxisStyle): LineAttrs\n  protected abstract createTickLines (ticks: AxisTick[], bounding: Bounding, styles: AxisStyle): LineAttrs[]\n  protected abstract createTickTexts (tick: AxisTick[], bounding: Bounding, styles: AxisStyle): TextAttrs[]\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Bounding from '../common/Bounding'\nimport { AxisStyle, Styles } from '../common/Options'\n\nimport { LineAttrs } from '../extension/figure/line'\nimport { TextAttrs } from '../extension/figure/text'\n\nimport { AxisTick } from '../component/Axis'\nimport YAxis from '../component/YAxis'\n\nimport AxisView from './AxisView'\n\nexport default class YxisView extends AxisView<YAxis> {\n  protected getAxisStyles (styles: Styles): AxisStyle {\n    return styles.yAxis\n  }\n\n  protected createAxisLine (bounding: Bounding, styles: AxisStyle): LineAttrs {\n    const yAxis = this.getWidget().getPane().getAxisComponent()\n    const size = styles.axisLine.size\n    let x: number\n    if (yAxis.isFromZero()) {\n      x = size / 2\n    } else {\n      x = bounding.width - size\n    }\n    return {\n      coordinates: [\n        { x, y: 0 },\n        { x, y: bounding.height }\n      ]\n    }\n  }\n\n  protected createTickLines (ticks: AxisTick[], bounding: Bounding, styles: AxisStyle): LineAttrs[] {\n    const yAxis = this.getWidget().getPane().getAxisComponent()\n    const axisLineStyles = styles.axisLine\n    const tickLineStyles = styles.tickLine\n\n    let startX = 0\n    let endX = 0\n    if (yAxis.isFromZero()) {\n      startX = 0\n      if (axisLineStyles.show) {\n        startX += axisLineStyles.size\n      }\n      endX = startX + tickLineStyles.length\n    } else {\n      startX = bounding.width\n      if (axisLineStyles.show) {\n        startX -= axisLineStyles.size\n      }\n      endX = startX - tickLineStyles.length\n    }\n    return ticks.map(tick => ({\n      coordinates: [\n        { x: startX, y: tick.coord },\n        { x: endX, y: tick.coord }\n      ]\n    }))\n  }\n\n  protected createTickTexts (ticks: AxisTick[], bounding: Bounding, styles: AxisStyle): TextAttrs[] {\n    const yAxis = this.getWidget().getPane().getAxisComponent()\n    const axisLineStyles = styles.axisLine\n    const tickLineStyles = styles.tickLine\n    const tickTextStyles = styles.tickText\n\n    let x = 0\n    if (yAxis.isFromZero()) {\n      x = tickTextStyles.marginStart\n      if (axisLineStyles.show) {\n        x += axisLineStyles.size\n      }\n      if (tickLineStyles.show) {\n        x += tickLineStyles.length\n      }\n    } else {\n      x = bounding.width - tickTextStyles.marginEnd\n      if (axisLineStyles.show) {\n        x -= axisLineStyles.size\n      }\n      if (tickLineStyles.show) {\n        x -= tickLineStyles.length\n      }\n    }\n    const textAlign = this.getWidget().getPane().getAxisComponent().isFromZero() ? 'left' : 'right'\n    return ticks.map(tick => ({\n      x,\n      y: tick.coord,\n      text: tick.text,\n      align: textAlign,\n      baseline: 'middle'\n    }))\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { YAxisType } from '../common/Options'\n\nimport View from './View'\n\nimport YAxis from '../component/YAxis'\n\nimport { formatPrecision } from '../common/utils/format'\n\nexport default class CandleLastPriceLabelView extends View {\n  protected drawImp (ctx: CanvasRenderingContext2D): void {\n    const widget = this.getWidget()\n    const pane = widget.getPane()\n    const bounding = widget.getBounding()\n    const chartStore = pane.getChart().getChartStore()\n    const priceMarkStyles = chartStore.getStyles().candle.priceMark\n    const lastPriceMarkStyles = priceMarkStyles.last\n    const lastPriceMarkTextStyles = lastPriceMarkStyles.text\n    if (priceMarkStyles.show && lastPriceMarkStyles.show && lastPriceMarkTextStyles.show) {\n      const precision = chartStore.getPrecision()\n      const yAxis = pane.getAxisComponent() as YAxis\n      const dataList = chartStore.getDataList()\n      const visibleDataList = chartStore.getVisibleDataList()\n      const data = dataList[dataList.length - 1]\n      if (data !== undefined) {\n        const { close, open } = data\n        const priceY = yAxis.convertToNicePixel(close)\n        let backgroundColor: string\n        if (close > open) {\n          backgroundColor = lastPriceMarkStyles.upColor\n        } else if (close < open) {\n          backgroundColor = lastPriceMarkStyles.downColor\n        } else {\n          backgroundColor = lastPriceMarkStyles.noChangeColor\n        }\n        let text: string\n        if (yAxis.getType() === YAxisType.PERCENTAGE) {\n          const fromData = visibleDataList[0].data\n          const fromClose = fromData.close\n          text = `${((close - fromClose) / fromClose * 100).toFixed(2)}%`\n        } else {\n          text = formatPrecision(close, precision.price)\n        }\n\n        let x: number\n        let textAlgin: CanvasTextAlign\n        if (yAxis.isFromZero()) {\n          x = 0\n          textAlgin = 'left'\n        } else {\n          x = bounding.width\n          textAlgin = 'right'\n        }\n        this.createFigure(\n          'rectText',\n          {\n            x,\n            y: priceY,\n            text,\n            align: textAlgin,\n            baseline: 'middle'\n          },\n          {\n            ...lastPriceMarkTextStyles,\n            backgroundColor\n          }\n        )?.draw(ctx)\n      }\n    }\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport YAxis from '../component/YAxis'\n\nimport { eachFigures, IndicatorFigure, IndicatorFigureStyle } from '../component/Indicator'\n\nimport View from './View'\n\nimport { formatPrecision } from '../common/utils/format'\nimport { isValid } from '../common/utils/typeChecks'\n\nexport default class IndicatorLastValueView extends View<YAxis> {\n  protected drawImp (ctx: CanvasRenderingContext2D): void {\n    const widget = this.getWidget()\n    const pane = widget.getPane()\n    const bounding = widget.getBounding()\n    const chartStore = pane.getChart().getChartStore()\n    const customApi = chartStore.getCustomApi()\n    const defaultStyles = chartStore.getStyles().indicator\n    const lastValueMarkStyles = defaultStyles.lastValueMark\n    const lastValueMarkTextStyles = lastValueMarkStyles.text\n    if (lastValueMarkStyles.show) {\n      const yAxis = pane.getAxisComponent()\n      const dataList = chartStore.getDataList()\n      const dataIndex = dataList.length - 1\n      const indicators = chartStore.getIndicatorStore().getInstances(pane.getId())\n      indicators.forEach(indicator => {\n        const result = indicator.result\n        const indicatorData = result[dataIndex]\n        if (indicatorData !== undefined) {\n          const precision = indicator.precision\n          eachFigures(dataList, indicator, dataIndex, defaultStyles, (figure: IndicatorFigure, figureStyles: Required<IndicatorFigureStyle>) => {\n            const value = indicatorData[figure.key]\n            if (isValid(value)) {\n              const y = yAxis.convertToNicePixel(value)\n              let text = formatPrecision(value, precision)\n              if (indicator.shouldFormatBigNumber) {\n                text = customApi.formatBigNumber(text)\n              }\n\n              let x: number\n              let textAlign: CanvasTextAlign\n              if (yAxis.isFromZero()) {\n                x = 0\n                textAlign = 'left'\n              } else {\n                x = bounding.width\n                textAlign = 'right'\n              }\n\n              this.createFigure(\n                'rectText',\n                {\n                  x,\n                  y,\n                  text,\n                  align: textAlign,\n                  baseline: 'middle'\n                },\n                {\n                  ...lastValueMarkTextStyles,\n                  backgroundColor: figureStyles.color\n                }\n              )?.draw(ctx)\n            }\n          })\n        }\n      })\n    }\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Nullable from '../common/Nullable'\nimport Coordinate from '../common/Coordinate'\nimport Bounding from '../common/Bounding'\nimport BarSpace from '../common/BarSpace'\nimport Precision from '../common/Precision'\nimport { OverlayStyle, CustomApi } from '../common/Options'\n\nimport { formatPrecision } from '../common/utils/format'\n\nimport Axis from '../component/Axis'\nimport XAxis from '../component/XAxis'\nimport YAxis from '../component/YAxis'\nimport Overlay, { OverlayFigure } from '../component/Overlay'\n\nimport { EventOverlayInfo } from '../store/OverlayStore'\n\nimport OverlayView from './OverlayView'\n\nexport default class OverlayYAxisView<C extends Axis = YAxis> extends OverlayView<C> {\n  protected coordinateToPointTimestampDataIndexFlag (): boolean {\n    return false\n  }\n\n  protected drawDefaultFigures (\n    ctx: CanvasRenderingContext2D,\n    overlay: Overlay,\n    coordinates: Coordinate[],\n    bounding: Bounding,\n    precision: Precision,\n    dateTimeFormat: Intl.DateTimeFormat,\n    customApi: CustomApi,\n    defaultStyles: OverlayStyle,\n    xAxis: Nullable<XAxis>,\n    yAxis: Nullable<YAxis>,\n    hoverInstanceInfo: EventOverlayInfo,\n    clickInstanceInfo: EventOverlayInfo\n  ): void {\n    this.drawFigures(\n      ctx,\n      overlay,\n      this.getDefaultFigures(overlay, coordinates, bounding, precision, dateTimeFormat, customApi, xAxis, yAxis, clickInstanceInfo),\n      defaultStyles\n    )\n  }\n\n  protected getDefaultFigures (\n    overlay: Overlay,\n    coordinates: Coordinate[],\n    bounding: Bounding,\n    precision: Precision,\n    dateTimeFormat: Intl.DateTimeFormat,\n    customApi: CustomApi,\n    xAxis: Nullable<XAxis>,\n    yAxis: Nullable<YAxis>,\n    clickInstanceInfo: EventOverlayInfo\n  ): OverlayFigure[] {\n    const figures: OverlayFigure[] = []\n    if (\n      overlay.needDefaultYAxisFigure &&\n      overlay.id === clickInstanceInfo.instance?.id &&\n      clickInstanceInfo.paneId === this.getWidget().getPane().getId()\n    ) {\n      let topY = Number.MAX_SAFE_INTEGER\n      let bottomY = Number.MIN_SAFE_INTEGER\n      const isFromZero = yAxis?.isFromZero() ?? false\n      let textAlign: CanvasTextAlign\n      let x: number\n      if (isFromZero) {\n        textAlign = 'left'\n        x = 0\n      } else {\n        textAlign = 'right'\n        x = bounding.width\n      }\n      coordinates.forEach((coordinate, index) => {\n        const point = overlay.points[index]\n        if (point.value !== undefined) {\n          topY = Math.min(topY, coordinate.y)\n          bottomY = Math.max(bottomY, coordinate.y)\n          const text = formatPrecision(point.value, precision.price)\n          figures.push({ type: 'rectText', attrs: { x, y: coordinate.y, text, align: textAlign, baseline: 'middle' }, ignoreEvent: true })\n        }\n      })\n      if (coordinates.length > 1) {\n        figures.unshift({ type: 'rect', attrs: { x: 0, y: topY, width: bounding.width, height: bottomY - topY }, ignoreEvent: true })\n      }\n    }\n    return figures\n  }\n\n  protected getFigures (\n    overlay: Overlay,\n    coordinates: Coordinate[],\n    bounding: Bounding,\n    barSpace: BarSpace,\n    precision: Precision,\n    dateTimeFormat: Intl.DateTimeFormat,\n    defaultStyles: OverlayStyle,\n    xAxis: Nullable<XAxis>,\n    yAxis: Nullable<YAxis>\n  ): OverlayFigure | OverlayFigure[] {\n    return overlay.createYAxisFigures?.({ overlay, coordinates, bounding, barSpace, precision, dateTimeFormat, defaultStyles, xAxis, yAxis }) ?? []\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Bounding from '../common/Bounding'\nimport Crosshair from '../common/Crosshair'\nimport { CrosshairStyle, CrosshairDirectionStyle, YAxisType, StateRectTextStyle } from '../common/Options'\n\nimport Axis from '../component/Axis'\nimport YAxis from '../component/YAxis'\n\nimport { TextAttrs } from '../extension/figure/text'\n\nimport ChartStore from '../store/ChartStore'\n\nimport { formatPrecision } from '../common/utils/format'\nimport { createFont } from '../common/utils/canvas'\n\nimport View from './View'\n\nexport default class CrosshairHorizontalLabelView<C extends Axis = YAxis> extends View<C> {\n  drawImp (ctx: CanvasRenderingContext2D): void {\n    const widget = this.getWidget()\n    const pane = widget.getPane()\n    const bounding = widget.getBounding()\n    const chartStore = widget.getPane().getChart().getChartStore()\n    const crosshair = chartStore.getCrosshairStore().get()\n    const styles = chartStore.getStyles().crosshair\n    if (crosshair.paneId !== undefined && crosshair.kLineData !== undefined && this.checkPaneId(crosshair, pane.getId())) {\n      if (styles.show) {\n        const directionStyles = this.getDirectionStyles(styles)\n        const textStyles = directionStyles.text\n        if (directionStyles.show && textStyles.show) {\n          const axis = pane.getAxisComponent()\n          const text = this.getText(crosshair, chartStore, axis)\n          ctx.font = createFont(textStyles.size, textStyles.weight, textStyles.family)\n          this.createFigure(\n            'rectText',\n            this.getTextAttrs(text, ctx.measureText(text).width, crosshair, bounding, axis, textStyles),\n            textStyles\n          )?.draw(ctx)\n        }\n      }\n    }\n  }\n\n  protected checkPaneId (crosshair: Crosshair, paneId: string): boolean {\n    return crosshair.paneId === paneId\n  }\n\n  protected getDirectionStyles (styels: CrosshairStyle): CrosshairDirectionStyle {\n    return styels.horizontal\n  }\n\n  protected getText (crosshair: Crosshair, chartStore: ChartStore, axis: C): string {\n    const yAxis = axis as unknown as YAxis\n    const value = axis.convertFromPixel(crosshair.y as number)\n    let text: string\n    if (yAxis.getType() === YAxisType.PERCENTAGE) {\n      const visibleDataList = chartStore.getVisibleDataList()\n      const fromData = visibleDataList[0]?.data ?? {}\n      text = `${((value - fromData.close) / fromData.close * 100).toFixed(2)}%`\n    } else {\n      const indicators = chartStore.getIndicatorStore().getInstances(crosshair.paneId as string)\n      let precision = 0\n      let shouldFormatBigNumber = false\n      if (yAxis.isInCandle()) {\n        precision = chartStore.getPrecision().price\n      } else {\n        indicators.forEach(indicator => {\n          precision = Math.max(indicator.precision, precision)\n          if (!shouldFormatBigNumber) {\n            shouldFormatBigNumber = indicator.shouldFormatBigNumber\n          }\n        })\n      }\n      text = formatPrecision(value, precision)\n      if (shouldFormatBigNumber) {\n        text = chartStore.getCustomApi().formatBigNumber(text)\n      }\n    }\n    return text\n  }\n\n  protected getTextAttrs (text: string, textWidth: number, crosshair: Crosshair, bounding: Bounding, axis: C, styles: StateRectTextStyle): TextAttrs {\n    const yAxis = axis as unknown as YAxis\n    let x: number\n    let textAlign: CanvasTextAlign\n    if (yAxis.isFromZero()) {\n      x = 0\n      textAlign = 'left'\n    } else {\n      x = bounding.width\n      textAlign = 'right'\n    }\n\n    return { x, y: crosshair.y as number, text, align: textAlign, baseline: 'middle' }\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Pane from '../pane/Pane'\n\nimport { WidgetNameConstants } from './Widget'\nimport DrawWidget from './DrawWidget'\n\nimport YAxis from '../component/YAxis'\n\nimport YAxisView from '../view/YAxisView'\nimport CandleLastPriceLabelView from '../view/CandleLastPriceLabelView'\nimport IndicatorLastValueView from '../view/IndicatorLastValueView'\nimport OverlayYAxisView from '../view/OverlayYAxisView'\nimport CrosshairHorizontalLabelView from '../view/CrosshairHorizontalLabelView'\n\nexport default class YAxisWidget extends DrawWidget<YAxis> {\n  private readonly _yAxisView = new YAxisView(this)\n  private readonly _candleLastPriceLabelView = new CandleLastPriceLabelView(this)\n  private readonly _indicatorLastValueView = new IndicatorLastValueView(this)\n  private readonly _overlayYAxisView = new OverlayYAxisView(this)\n  private readonly _crosshairHorizontalLabelView = new CrosshairHorizontalLabelView(this)\n\n  constructor (rootContainer: HTMLElement, pane: Pane<YAxis>) {\n    super(rootContainer, pane)\n    this.getContainer().style.cursor = 'ns-resize'\n    this.addChild(this._overlayYAxisView)\n  }\n\n  getName (): string {\n    return WidgetNameConstants.YAXIS\n  }\n\n  protected updateMain (ctx: CanvasRenderingContext2D): void {\n    this._yAxisView.draw(ctx)\n    if (this.getPane().getAxisComponent().isInCandle()) {\n      this._candleLastPriceLabelView.draw(ctx)\n    }\n    this._indicatorLastValueView.draw(ctx)\n  }\n\n  protected updateOverlay (ctx: CanvasRenderingContext2D): void {\n    this._overlayYAxisView.draw(ctx)\n    this._crosshairHorizontalLabelView.draw(ctx)\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Pane from '../pane/Pane'\n\nimport { getPrecision, nice, round } from '../common/utils/number'\n\nexport interface AxisTick {\n  coord: number\n  value: number | string\n  text: string\n}\n\nexport interface AxisExtremum {\n  min: number\n  max: number\n  range: number\n  realMin: number\n  realMax: number\n  realRange: number\n}\n\nexport interface Axis {\n  convertToPixel: (value: number) => number\n  convertFromPixel: (px: number) => number\n}\n\nexport default abstract class AxisImp {\n  private readonly _parent: Pane<AxisImp>\n\n  private _extremum: AxisExtremum = { min: 0, max: 0, range: 0, realMin: 0, realMax: 0, realRange: 0 }\n  private _prevExtremum: AxisExtremum = { min: 0, max: 0, range: 0, realMin: 0, realMax: 0, realRange: 0 }\n  private _ticks: AxisTick[] = []\n\n  private _autoCalcTickFlag = true\n\n  constructor (parent: Pane<AxisImp>) {\n    this._parent = parent\n  }\n\n  getParent (): Pane<AxisImp> { return this._parent }\n\n  buildTicks (force: boolean): boolean {\n    if (this._autoCalcTickFlag) {\n      this._extremum = this.calcExtremum()\n    }\n    if (this._prevExtremum.min !== this._extremum.min || this._prevExtremum.max !== this._extremum.max || force) {\n      this._prevExtremum = this._extremum\n      this._ticks = this.optimalTicks(this._calcTicks())\n      return true\n    }\n    return false\n  }\n\n  getTicks (): AxisTick[] {\n    return this._ticks\n  }\n\n  setExtremum (extremum: AxisExtremum): void {\n    this._autoCalcTickFlag = false\n    this._extremum = extremum\n  }\n\n  getExtremum (): AxisExtremum { return this._extremum }\n\n  setAutoCalcTickFlag (flag: boolean): void {\n    this._autoCalcTickFlag = flag\n  }\n\n  getAutoCalcTickFlag (): boolean { return this._autoCalcTickFlag }\n\n  private _calcTicks (): AxisTick[] {\n    const { realMin, realMax, realRange } = this._extremum\n    const ticks: AxisTick[] = []\n\n    if (realRange >= 0) {\n      const [interval, precision] = this._calcTickInterval(realRange)\n      const first = round(Math.ceil(realMin / interval) * interval, precision)\n      const last = round(Math.floor(realMax / interval) * interval, precision)\n      let n = 0\n      let f = first\n\n      if (interval !== 0) {\n        while (f <= last) {\n          const v = f.toFixed(precision)\n          ticks[n] = { text: v, coord: 0, value: v }\n          ++n\n          f += interval\n        }\n      }\n    }\n    return ticks\n  }\n\n  private _calcTickInterval (range: number): number[] {\n    const interval = nice(range / 8.0)\n    const precision = getPrecision(interval)\n    return [interval, precision]\n  }\n\n  protected abstract calcExtremum (): AxisExtremum\n\n  protected abstract optimalTicks (ticks: AxisTick[]): AxisTick[]\n\n  abstract convertToPixel (value: number): number\n  abstract convertFromPixel (px: number): number\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport AxisImp, { Axis, AxisExtremum, AxisTick } from './Axis'\n\nimport { IndicatorFigure } from './Indicator'\n\nimport { YAxisType, YAxisPosition, CandleType } from '../common/Options'\n\nimport { isValid } from '../common/utils/typeChecks'\nimport { index10, log10 } from '../common/utils/number'\nimport { calcTextWidth } from '../common/utils/canvas'\nimport { formatPrecision } from '../common/utils/format'\n\ninterface FiguresResult {\n  figures: IndicatorFigure[]\n  result: any[]\n}\n\nexport interface YAxis extends Axis {\n  isFromZero: () => boolean\n}\n\nexport default class YAxisImp extends AxisImp implements YAxis {\n  protected calcExtremum (): AxisExtremum {\n    const parent = this.getParent()\n    const chart = parent.getChart()\n    const chartStore = chart.getChartStore()\n    let min = Number.MAX_SAFE_INTEGER\n    let max = Number.MIN_SAFE_INTEGER\n    const figuresResultList: FiguresResult[] = []\n    let shouldOhlc = false\n    let specifyMin = Number.MAX_SAFE_INTEGER\n    let specifyMax = Number.MIN_SAFE_INTEGER\n    let indicatorPrecision = Number.MAX_SAFE_INTEGER\n    const indicators = chartStore.getIndicatorStore().getInstances(parent.getId())\n    indicators.forEach(indicator => {\n      if (!shouldOhlc) {\n        shouldOhlc = indicator.shouldOhlc ?? false\n      }\n      indicatorPrecision = Math.min(indicatorPrecision, indicator.precision)\n      if (indicator.minValue !== null) {\n        specifyMin = Math.min(specifyMin, indicator.minValue)\n      }\n      if (indicator.maxValue !== null) {\n        specifyMax = Math.max(specifyMax, indicator.maxValue)\n      }\n      figuresResultList.push({\n        figures: indicator.figures ?? [],\n        result: indicator.result ?? []\n      })\n    })\n\n    let precision = 4\n    const inCandle = this.isInCandle()\n    if (inCandle) {\n      const { price: pricePrecision } = chartStore.getPrecision()\n      if (indicatorPrecision !== Number.MAX_SAFE_INTEGER) {\n        precision = Math.min(indicatorPrecision, pricePrecision)\n      } else {\n        precision = pricePrecision\n      }\n    } else {\n      if (indicatorPrecision !== Number.MAX_SAFE_INTEGER) {\n        precision = indicatorPrecision\n      }\n    }\n    const visibleDataList = chartStore.getVisibleDataList()\n    const candleStyles = chart.getStyles().candle\n    const isArea = candleStyles.type === CandleType.AREA\n    const areaValueKey = candleStyles.area.value\n    const shouldCompareHighLow = (inCandle && !isArea) || (!inCandle && shouldOhlc)\n    visibleDataList.forEach(({ dataIndex, data }) => {\n      if (shouldCompareHighLow) {\n        min = Math.min(min, data.low)\n        max = Math.max(max, data.high)\n      }\n      if (inCandle && isArea) {\n        min = Math.min(min, data[areaValueKey])\n        max = Math.max(max, data[areaValueKey])\n      }\n      figuresResultList.forEach(({ figures, result }) => {\n        const indicatorData = result[dataIndex] ?? {}\n        figures.forEach(figure => {\n          const value = indicatorData[figure.key]\n          if (isValid(value)) {\n            min = Math.min(min, value)\n            max = Math.max(max, value)\n          }\n        })\n      })\n    })\n    if (min !== Number.MAX_SAFE_INTEGER && max !== Number.MIN_SAFE_INTEGER) {\n      min = Math.min(specifyMin, min)\n      max = Math.max(specifyMax, max)\n    } else {\n      min = 0\n      max = 10\n    }\n\n    const type = this.getType()\n    let dif: number\n    switch (type) {\n      case YAxisType.PERCENTAGE: {\n        const fromData = visibleDataList[0]?.data\n        if (fromData?.close !== undefined) {\n          min = (min - fromData.close) / fromData.close * 100\n          max = (max - fromData.close) / fromData.close * 100\n        }\n        dif = Math.pow(10, -2)\n        break\n      }\n      case YAxisType.LOG: {\n        min = log10(min)\n        max = log10(max)\n        dif = 0.05 * index10(-precision)\n        break\n      }\n      default: {\n        dif = index10(-precision)\n      }\n    }\n    if (\n      min === max ||\n      Math.abs(min - max) < dif\n    ) {\n      const minCheck = specifyMin === min\n      const maxCheck = specifyMax === max\n      min = minCheck ? min : (maxCheck ? min - 8 * dif : min - 4 * dif)\n      max = maxCheck ? max : (minCheck ? max + 8 * dif : max + 4 * dif)\n    }\n\n    const height = this.getParent().getYAxisWidget()?.getBounding().height ?? 0\n    const { gap: paneGap } = parent.getOptions()\n    let topRate = paneGap?.top ?? 0.2\n    if (topRate >= 1) {\n      topRate = topRate / height\n    }\n    let bottomRate = paneGap?.bottom ?? 0.1\n    if (bottomRate >= 1) {\n      bottomRate = bottomRate / height\n    }\n    let range = Math.abs(max - min)\n    // 保证每次图形绘制上下都留间隙\n    min = min - range * bottomRate\n    max = max + range * topRate\n    range = Math.abs(max - min)\n    let realMin: number\n    let realMax: number\n    let realRange: number\n    if (type === YAxisType.LOG) {\n      realMin = index10(min)\n      realMax = index10(max)\n      realRange = Math.abs(realMax - realMin)\n    } else {\n      realMin = min\n      realMax = max\n      realRange = range\n    }\n    return {\n      min, max, range, realMin, realMax, realRange\n    }\n  }\n\n  /**\n   * 内部值转换成坐标\n   * @param value\n   * @return {number}\n   * @private\n   */\n  _innerConvertToPixel (value: number): number {\n    const height = this.getParent().getYAxisWidget()?.getBounding().height ?? 0\n    const { min, range } = this.getExtremum()\n    const rate = (value - min) / range\n    return this.isReverse() ? Math.round(rate * height) : Math.round((1.0 - rate) * height)\n  }\n\n  /**\n   * 是否是蜡烛图轴\n   * @return {boolean}\n   */\n  isInCandle (): boolean {\n    return this.getParent().getName() === 'candle'\n  }\n\n  /**\n   * y轴类型\n   * @return {string}\n   */\n  getType (): string {\n    if (this.isInCandle()) {\n      return this.getParent().getChart().getStyles().yAxis.type\n    }\n    return YAxisType.NORMAL\n  }\n\n  getPosition (): string {\n    return this.getParent().getChart().getStyles().yAxis.position\n  }\n\n  /**\n   * 是否反转\n   * @return {boolean}\n   */\n  isReverse (): boolean {\n    if (this.isInCandle()) {\n      return this.getParent().getChart().getStyles().yAxis.reverse\n    }\n    return false\n  }\n\n  /**\n   * 是否从y轴0开始\n   * @return {boolean}\n   */\n  isFromZero (): boolean {\n    const yAxisStyles = this.getParent().getChart().getStyles().yAxis\n    const inside = yAxisStyles.inside\n    return (\n      (yAxisStyles.position === YAxisPosition.LEFT && inside) ||\n      (yAxisStyles.position === YAxisPosition.RIGHT && !inside)\n    )\n  }\n\n  protected optimalTicks (ticks: AxisTick[]): AxisTick[] {\n    const pane = this.getParent()\n    const height = pane.getYAxisWidget()?.getBounding().height ?? 0\n    const chartStore = pane.getChart().getChartStore()\n    const customApi = chartStore.getCustomApi()\n    const optimalTicks: AxisTick[] = []\n    const type = this.getType()\n    const indicators = chartStore.getIndicatorStore().getInstances(pane.getId())\n    let precision = 0\n    let shouldFormatBigNumber = false\n    if (this.isInCandle()) {\n      precision = chartStore.getPrecision().price\n    } else {\n      indicators.forEach(tech => {\n        precision = Math.max(precision, tech.precision)\n        if (!shouldFormatBigNumber) {\n          shouldFormatBigNumber = tech.shouldFormatBigNumber\n        }\n      })\n    }\n    const textHeight = chartStore.getStyles().xAxis.tickText.size\n    let validY: number\n    ticks.forEach(({ value }) => {\n      let v: string\n      let y = this._innerConvertToPixel(+value)\n      switch (type) {\n        case YAxisType.PERCENTAGE: {\n          v = `${formatPrecision(value, 2)}%`\n          break\n        }\n        case YAxisType.LOG: {\n          y = this._innerConvertToPixel(log10(+value))\n          v = formatPrecision(value, precision)\n          break\n        }\n        default: {\n          v = formatPrecision(value, precision)\n          if (shouldFormatBigNumber) {\n            v = customApi.formatBigNumber(value)\n          }\n          break\n        }\n      }\n      if (y > textHeight && y < height - textHeight && ((validY !== undefined && (Math.abs(validY - y) > textHeight * 2)) || validY === undefined)) {\n        optimalTicks.push({ text: v, coord: y, value })\n        validY = y\n      }\n    })\n    return optimalTicks\n  }\n\n  getAutoSize (): number {\n    const pane = this.getParent()\n    const chart = pane.getChart()\n    const styles = chart.getStyles()\n    const yAxisStyles = styles.yAxis\n    const width = yAxisStyles.size\n    if (width !== 'auto') {\n      return width\n    }\n    const chartStore = chart.getChartStore()\n    const customApi = chartStore.getCustomApi()\n    let yAxisWidth = 0\n    if (yAxisStyles.show) {\n      if (yAxisStyles.axisLine.show) {\n        yAxisWidth += yAxisStyles.axisLine.size\n      }\n      if (yAxisStyles.tickLine.show) {\n        yAxisWidth += yAxisStyles.tickLine.length\n      }\n      if (yAxisStyles.tickText.show) {\n        let textWidth = 0\n        this.getTicks().forEach(tick => {\n          textWidth = Math.max(textWidth, calcTextWidth(tick.text, yAxisStyles.tickText.size, yAxisStyles.tickText.weight, yAxisStyles.tickText.family))\n        })\n        yAxisWidth += (yAxisStyles.tickText.marginStart + yAxisStyles.tickText.marginEnd + textWidth)\n      }\n    }\n    const crosshairStyles = styles.crosshair\n    let crosshairVerticalTextWidth = 0\n    if (\n      crosshairStyles.show &&\n      crosshairStyles.horizontal.show &&\n      crosshairStyles.horizontal.text.show\n    ) {\n      const indicators = chartStore.getIndicatorStore().getInstances(pane.getId())\n      let techPrecision = 0\n      let shouldFormatBigNumber = false\n      indicators.forEach(tech => {\n        techPrecision = Math.max(tech.precision, techPrecision)\n        if (!shouldFormatBigNumber) {\n          shouldFormatBigNumber = tech.shouldFormatBigNumber\n        }\n      })\n      let precision = 2\n      if (this.getType() !== YAxisType.PERCENTAGE) {\n        if (this.isInCandle()) {\n          const { price: pricePrecision } = chartStore.getPrecision()\n          const lastValueMarkStyles = styles.indicator.lastValueMark\n          if (lastValueMarkStyles.show && lastValueMarkStyles.text.show) {\n            precision = Math.max(techPrecision, pricePrecision)\n          } else {\n            precision = pricePrecision\n          }\n        } else {\n          precision = techPrecision\n        }\n      }\n      let valueText = formatPrecision(this.getExtremum().max, precision)\n      if (shouldFormatBigNumber) {\n        valueText = customApi.formatBigNumber(valueText)\n      }\n      crosshairVerticalTextWidth += (\n        crosshairStyles.horizontal.text.paddingLeft +\n        crosshairStyles.horizontal.text.paddingRight +\n        crosshairStyles.horizontal.text.borderSize * 2 +\n        calcTextWidth(\n          valueText,\n          crosshairStyles.horizontal.text.size,\n          crosshairStyles.horizontal.text.weight,\n          crosshairStyles.horizontal.text.family\n        )\n      )\n    }\n    return Math.max(yAxisWidth, crosshairVerticalTextWidth)\n  }\n\n  convertFromPixel (pixel: number): number {\n    const height = this.getParent().getYAxisWidget()?.getBounding().height ?? 0\n    const { min, range } = this.getExtremum()\n    const rate = this.isReverse() ? pixel / height : 1 - pixel / height\n    const value = rate * range + min\n    switch (this.getType()) {\n      case YAxisType.PERCENTAGE: {\n        const chartStore = this.getParent().getChart().getChartStore()\n        const visibleDataList = chartStore.getVisibleDataList()\n        const fromData = visibleDataList[0]?.data\n        if (fromData?.close !== undefined) {\n          return fromData.close * value / 100 + fromData.close\n        }\n        return 0\n      }\n      case YAxisType.LOG: {\n        return index10(value)\n      }\n      default: {\n        return value\n      }\n    }\n  }\n\n  convertToRealValue (value: number): number {\n    let v = value\n    if (this.getType() === YAxisType.LOG) {\n      v = index10(value)\n    }\n    return v\n  }\n\n  convertToPixel (value: number): number {\n    let v = value\n    switch (this.getType()) {\n      case YAxisType.PERCENTAGE: {\n        const chartStore = this.getParent().getChart().getChartStore()\n        const visibleDataList = chartStore.getVisibleDataList()\n        const fromData = visibleDataList[0]?.data\n        if (fromData?.close !== undefined) {\n          v = (value - fromData.close) / fromData.close * 100\n        }\n        break\n      }\n      case YAxisType.LOG: {\n        v = log10(value)\n        break\n      }\n      default: {\n        v = value\n      }\n    }\n    return this._innerConvertToPixel(v)\n  }\n\n  convertToNicePixel (value: number): number {\n    const height = this.getParent().getYAxisWidget()?.getBounding().height ?? 0\n    const pixel = this.convertToPixel(value)\n    return Math.round(Math.max(height * 0.05, Math.min(pixel, height * 0.98)))\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Nullable from '../common/Nullable'\n\nimport SeparatorWidget from '../widget/SeparatorWidget'\nimport DrawWidget from '../widget/DrawWidget'\nimport IndicatorWidget from '../widget/IndicatorWidget'\nimport YAxisWidget from '../widget/YAxisWidget'\n\nimport YAxis from '../component/YAxis'\n\nimport Pane from './Pane'\n\nexport default class IndicatorPane extends Pane<YAxis> {\n  getName (): string {\n    return 'indicator'\n  }\n\n  protected createAxisComponent (): YAxis {\n    return new YAxis(this)\n  }\n\n  protected createMainWidget (container: HTMLElement): DrawWidget<YAxis> {\n    return new IndicatorWidget(container, this)\n  }\n\n  protected createSeparatorWidget (container: HTMLElement): Nullable<SeparatorWidget> {\n    return new SeparatorWidget(container, this)\n  }\n\n  protected creatYAxisWidget (container: HTMLElement): Nullable<YAxisWidget> {\n    return new YAxisWidget(container, this)\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Nullable from '../common/Nullable'\n\nimport DrawWidget from '../widget/DrawWidget'\nimport CandleWidget from '../widget/CandleWidget'\nimport SeparatorWidget from '../widget/SeparatorWidget'\n\nimport IndicatorPane from './IndicatorPane'\nimport YAxis from '../component/YAxis'\n\nexport default class CandlePane extends IndicatorPane {\n  getName (): string {\n    return 'candle'\n  }\n\n  protected createMainWidget (container: HTMLElement): DrawWidget<YAxis> {\n    return new CandleWidget(container, this)\n  }\n\n  protected createSeparatorWidget (container: HTMLElement): Nullable<SeparatorWidget> {\n    return null\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Bounding from '../common/Bounding'\nimport { AxisStyle, Styles } from '../common/Options'\n\nimport { LineAttrs } from '../extension/figure/line'\nimport { TextAttrs } from '../extension/figure/text'\n\nimport { AxisTick } from '../component/Axis'\nimport XAxis from '../component/XAxis'\n\nimport AxisView from './AxisView'\n\nexport default class XAxisView extends AxisView<XAxis> {\n  protected getAxisStyles (styles: Styles): AxisStyle {\n    return styles.xAxis\n  }\n\n  protected createAxisLine (bounding: Bounding, styles: AxisStyle): LineAttrs {\n    const correction = styles.axisLine.size / 2\n    return {\n      coordinates: [\n        { x: 0, y: correction },\n        { x: bounding.width, y: correction }\n      ]\n    }\n  }\n\n  protected createTickLines (ticks: AxisTick[], bounding: Bounding, styles: AxisStyle): LineAttrs[] {\n    const tickLineStyles = styles.tickLine\n    const axisLineSize = styles.axisLine.size\n    return ticks.map(tick => ({\n      coordinates: [\n        { x: tick.coord, y: 0 },\n        { x: tick.coord, y: axisLineSize + tickLineStyles.length }\n      ]\n    }))\n  }\n\n  protected createTickTexts (ticks: AxisTick[], bounding: Bounding, styles: AxisStyle): TextAttrs[] {\n    const tickTickStyles = styles.tickText\n    const axisLineSize = styles.axisLine.size\n    const tickLineLength = styles.tickLine.length\n    return ticks.map(tick => ({\n      x: tick.coord,\n      y: axisLineSize + tickLineLength + tickTickStyles.marginStart,\n      text: tick.text,\n      align: 'center',\n      baseline: 'top'\n    }))\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Nullable from '../common/Nullable'\nimport Coordinate from '../common/Coordinate'\nimport Bounding from '../common/Bounding'\nimport BarSpace from '../common/BarSpace'\nimport Precision from '../common/Precision'\nimport { OverlayStyle, CustomApi, FormatDateType } from '../common/Options'\n\nimport XAxis from '../component/XAxis'\nimport YAxis from '../component/YAxis'\nimport Overlay, { OverlayFigure } from '../component/Overlay'\n\nimport OverlayStore, { EventOverlayInfo, ProgressOverlayInfo } from '../store/OverlayStore'\n\nimport OverlayYAxisView from './OverlayYAxisView'\n\nexport default class OverlayXAxisView extends OverlayYAxisView<XAxis> {\n  protected coordinateToPointTimestampDataIndexFlag (): boolean {\n    return true\n  }\n\n  protected coordinateToPointValueFlag (): boolean {\n    return false\n  }\n\n  protected getCompleteOverlays (overlayStore: OverlayStore): Overlay[] {\n    return overlayStore.getInstances()\n  }\n\n  protected getProgressOverlay (info: ProgressOverlayInfo): Overlay {\n    return info.instance\n  }\n\n  protected getDefaultFigures (\n    overlay: Overlay,\n    coordinates: Coordinate[],\n    bounding: Bounding,\n    precision: Precision,\n    dateTimeFormat: Intl.DateTimeFormat,\n    customApi: CustomApi,\n    xAxis: Nullable<XAxis>,\n    yAxis: Nullable<YAxis>,\n    clickInstanceInfo: EventOverlayInfo\n  ): OverlayFigure[] {\n    const figures: OverlayFigure[] = []\n    if (overlay.needDefaultXAxisFigure && overlay.id === clickInstanceInfo.instance?.id) {\n      let leftX = Number.MAX_SAFE_INTEGER\n      let rightX = Number.MIN_SAFE_INTEGER\n      coordinates.forEach((coordinate, index) => {\n        leftX = Math.min(leftX, coordinate.x)\n        rightX = Math.max(rightX, coordinate.x)\n        const point = overlay.points[index]\n        if (point.timestamp !== undefined) {\n          const text = customApi.formatDate(dateTimeFormat, point.timestamp, 'YYYY-MM-DD HH:mm', FormatDateType.CROSSHAIR)\n          figures.push({ type: 'rectText', attrs: { x: coordinate.x, y: 0, text, align: 'center' }, ignoreEvent: true })\n        }\n      })\n      if (coordinates.length > 1) {\n        figures.unshift({ type: 'rect', attrs: { x: leftX, y: 0, width: rightX - leftX, height: bounding.height }, ignoreEvent: true })\n      }\n    }\n    return figures\n  }\n\n  protected getFigures (\n    overlay: Overlay,\n    coordinates: Coordinate[],\n    bounding: Bounding,\n    barSpace: BarSpace,\n    precision: Precision,\n    dateTimeFormat: Intl.DateTimeFormat,\n    defaultStyles: OverlayStyle,\n    xAxis: Nullable<XAxis>,\n    yAxis: Nullable<YAxis>\n  ): OverlayFigure | OverlayFigure[] {\n    return overlay.createXAxisFigures?.({ overlay, coordinates, bounding, barSpace, precision, dateTimeFormat, defaultStyles, xAxis, yAxis }) ?? []\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Bounding from '../common/Bounding'\nimport Crosshair from '../common/Crosshair'\nimport { CrosshairStyle, CrosshairDirectionStyle, StateRectTextStyle, FormatDateType } from '../common/Options'\n\nimport XAxis from '../component/XAxis'\n\nimport ChartStore from '../store/ChartStore'\n\nimport CrosshairHorizontalLabelView from './CrosshairHorizontalLabelView'\nimport { TextAttrs } from '../extension/figure/text'\n\nexport default class CrosshairVerticalLabelView extends CrosshairHorizontalLabelView<XAxis> {\n  protected checkPaneId (crosshair: Crosshair): boolean {\n    return crosshair.dataIndex === crosshair.realDataIndex\n  }\n\n  protected getDirectionStyles (styles: CrosshairStyle): CrosshairDirectionStyle {\n    return styles.vertical\n  }\n\n  protected getText (crosshair: Crosshair, chartStore: ChartStore, axis: XAxis): string {\n    const timestamp = crosshair.kLineData?.timestamp as number\n    return chartStore.getCustomApi().formatDate(chartStore.getTimeScaleStore().getDateTimeFormat(), timestamp, 'YYYY-MM-DD HH:mm', FormatDateType.CROSSHAIR)\n  }\n\n  protected getTextAttrs (text: string, textWidth: number, crosshair: Crosshair, bounding: Bounding, axis: XAxis, styles: StateRectTextStyle): TextAttrs {\n    const x = crosshair.realX as number\n    let optimalX: number\n    if (x - textWidth / 2 - styles.paddingLeft < 0) {\n      optimalX = styles.paddingLeft + textWidth / 2\n    } else if (x + textWidth / 2 + styles.paddingRight > bounding.width) {\n      optimalX = bounding.width - styles.paddingRight - textWidth / 2\n    } else {\n      optimalX = x\n    }\n    return { x: optimalX, y: 0, text, align: 'center', baseline: 'top' }\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Pane from '../pane/Pane'\n\nimport { WidgetNameConstants } from './Widget'\nimport DrawWidget from './DrawWidget'\n\nimport XAxis from '../component/XAxis'\n\nimport XAxisView from '../view/XAxisView'\nimport OverlayXAxisView from '../view/OverlayXAxisView'\nimport CrosshairVerticalLabelView from '../view/CrosshairVerticalLabelView'\n\nexport default class XAxisWidget extends DrawWidget<XAxis> {\n  private readonly _xAxisView = new XAxisView(this)\n  private readonly _overlayXAxisView = new OverlayXAxisView(this)\n  private readonly _crosshairVerticalLabelView = new CrosshairVerticalLabelView(this)\n\n  constructor (rootContainer: HTMLElement, pane: Pane<XAxis>) {\n    super(rootContainer, pane)\n    this.getContainer().style.cursor = 'ew-resize'\n    this.addChild(this._overlayXAxisView)\n  }\n\n  getName (): string {\n    return WidgetNameConstants.XAXIS\n  }\n\n  protected updateMain (ctx: CanvasRenderingContext2D): void {\n    this._xAxisView.draw(ctx)\n  }\n\n  protected updateOverlay (ctx: CanvasRenderingContext2D): void {\n    this._overlayXAxisView.draw(ctx)\n    this._crosshairVerticalLabelView.draw(ctx)\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Nullable from '../common/Nullable'\nimport { FormatDate, FormatDateType } from '../common/Options'\n\nimport AxisImp, { Axis, AxisExtremum, AxisTick } from './Axis'\n\nimport { calcTextWidth } from '../common/utils/canvas'\n\nexport type XAxis = Axis\n\nexport default class XAxisImp extends AxisImp {\n  protected calcExtremum (): AxisExtremum {\n    const chartStore = this.getParent().getChart().getChartStore()\n    const { from, to } = chartStore.getTimeScaleStore().getVisibleRange()\n    const min = from\n    const max = to - 1\n    const range = to - from\n    return {\n      min, max, range, realMin: min, realMax: max, realRange: range\n    }\n  }\n\n  protected optimalTicks (ticks: AxisTick[]): AxisTick[] {\n    const chart = this.getParent().getChart()\n    const chartStore = chart.getChartStore()\n    const formatDate = chartStore.getCustomApi().formatDate\n    const optimalTicks: AxisTick[] = []\n    const tickLength = ticks.length\n    const dataList = chartStore.getDataList()\n    if (tickLength > 0) {\n      const dateTimeFormat = chartStore.getTimeScaleStore().getDateTimeFormat()\n      const tickTextStyles = chart.getStyles().xAxis.tickText\n      const defaultLabelWidth = calcTextWidth('00-00 00:00', tickTextStyles.size, tickTextStyles.weight, tickTextStyles.family)\n      const pos = parseInt(ticks[0].value as string, 10)\n      const x = this.convertToPixel(pos)\n      let tickCountDif = 1\n      if (tickLength > 1) {\n        const nextPos = parseInt(ticks[1].value as string, 10)\n        const nextX = this.convertToPixel(nextPos)\n        const xDif = Math.abs(nextX - x)\n        if (xDif < defaultLabelWidth) {\n          tickCountDif = Math.ceil(defaultLabelWidth / xDif)\n        }\n      }\n      for (let i = 0; i < tickLength; i += tickCountDif) {\n        const pos = parseInt(ticks[i].value as string, 10)\n        const kLineData = dataList[pos]\n        const timestamp = kLineData.timestamp\n        let text = formatDate(dateTimeFormat, timestamp, 'HH:mm', FormatDateType.XAXIS)\n        if (i !== 0) {\n          const prevPos = parseInt(ticks[i - tickCountDif].value as string, 10)\n          const prevKLineData = dataList[prevPos]\n          const prevTimestamp = prevKLineData.timestamp\n          text = this._optimalTickLabel(formatDate, dateTimeFormat, timestamp, prevTimestamp) ?? text\n        }\n        const x = this.convertToPixel(pos)\n        optimalTicks.push({ text, coord: x, value: timestamp })\n      }\n      const optimalTickLength = optimalTicks.length\n      if (optimalTickLength === 1) {\n        optimalTicks[0].text = formatDate(dateTimeFormat, optimalTicks[0].value as number, 'YYYY-MM-DD HH:mm', FormatDateType.XAXIS)\n      } else {\n        const firstTimestamp = optimalTicks[0].value as number\n        const secondTimestamp = optimalTicks[1].value as number\n        if (optimalTicks[2] !== undefined) {\n          const thirdText = optimalTicks[2].text\n          if (/^[0-9]{2}-[0-9]{2}$/.test(thirdText)) {\n            optimalTicks[0].text = formatDate(dateTimeFormat, firstTimestamp, 'MM-DD', FormatDateType.XAXIS)\n          } else if (/^[0-9]{4}-[0-9]{2}$/.test(thirdText)) {\n            optimalTicks[0].text = formatDate(dateTimeFormat, firstTimestamp, 'YYYY-MM', FormatDateType.XAXIS)\n          } else if (/^[0-9]{4}$/.test(thirdText)) {\n            optimalTicks[0].text = formatDate(dateTimeFormat, firstTimestamp, 'YYYY', FormatDateType.XAXIS)\n          }\n        } else {\n          optimalTicks[0].text = this._optimalTickLabel(formatDate, dateTimeFormat, firstTimestamp, secondTimestamp) ?? optimalTicks[0].text\n        }\n      }\n    }\n    return optimalTicks\n  }\n\n  private _optimalTickLabel (formatDate: FormatDate, dateTimeFormat: Intl.DateTimeFormat, timestamp: number, comparedTimestamp: number): Nullable<string> {\n    const year = formatDate(dateTimeFormat, timestamp, 'YYYY', FormatDateType.XAXIS)\n    const month = formatDate(dateTimeFormat, timestamp, 'YYYY-MM', FormatDateType.XAXIS)\n    const day = formatDate(dateTimeFormat, timestamp, 'MM-DD', FormatDateType.XAXIS)\n    if (year !== formatDate(dateTimeFormat, comparedTimestamp, 'YYYY', FormatDateType.XAXIS)) {\n      return year\n    } else if (month !== formatDate(dateTimeFormat, comparedTimestamp, 'YYYY-MM', FormatDateType.XAXIS)) {\n      return month\n    } else if (day !== formatDate(dateTimeFormat, comparedTimestamp, 'MM-DD', FormatDateType.XAXIS)) {\n      return day\n    }\n    return null\n  }\n\n  getAutoSize (): number {\n    const styles = this.getParent().getChart().getStyles()\n    const xAxisStyles = styles.xAxis\n    const height = xAxisStyles.size\n    if (height !== 'auto') {\n      return height\n    }\n    const crosshairStyles = styles.crosshair\n    let xAxisHeight = 0\n    if (xAxisStyles.show) {\n      if (xAxisStyles.axisLine.show) {\n        xAxisHeight += xAxisStyles.axisLine.size\n      }\n      if (xAxisStyles.tickLine.show) {\n        xAxisHeight += xAxisStyles.tickLine.length\n      }\n      if (xAxisStyles.tickText.show) {\n        xAxisHeight += (xAxisStyles.tickText.marginStart + xAxisStyles.tickText.marginEnd + xAxisStyles.tickText.size)\n      }\n    }\n    let crosshairVerticalTextHeight = 0\n    if (\n      crosshairStyles.show &&\n      crosshairStyles.vertical.show &&\n      crosshairStyles.vertical.text.show\n    ) {\n      crosshairVerticalTextHeight += (\n        crosshairStyles.vertical.text.paddingTop +\n        crosshairStyles.vertical.text.paddingBottom +\n        crosshairStyles.vertical.text.borderSize * 2 +\n        crosshairStyles.vertical.text.size\n      )\n    }\n    return Math.max(xAxisHeight, crosshairVerticalTextHeight)\n  }\n\n  convertFromPixel (pixel: number): number {\n    return this.getParent().getChart().getChartStore().getTimeScaleStore().coordinateToDataIndex(pixel)\n  }\n\n  convertToPixel (value: number): number {\n    return this.getParent().getChart().getChartStore().getTimeScaleStore().dataIndexToCoordinate(value)\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport DrawWidget from '../widget/DrawWidget'\nimport XAxisWidget from '../widget/XAxisWidget'\n\nimport XAxis from '../component/XAxis'\n\nimport Pane from './Pane'\n\nexport default class XAxisPane extends Pane<XAxis> {\n  getName (): string {\n    return 'xAxis'\n  }\n\n  protected createAxisComponent (): XAxis {\n    return new XAxis(this)\n  }\n\n  protected createMainWidget (container: HTMLElement): DrawWidget<XAxis> {\n    return new XAxisWidget(container, this)\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport function isFF (): boolean {\n  if (typeof window === 'undefined') {\n    return false\n  }\n  return (window.navigator.userAgent.toLowerCase().indexOf('firefox') ?? -1) > -1\n}\n\nexport function isIOS (): boolean {\n  if (typeof window === 'undefined') {\n    return false\n  }\n  return /iPhone|iPad|iPod/.test(window.navigator.platform)\n}\n\nexport function isChrome (): boolean {\n  if (typeof window === 'undefined') {\n    return false\n  }\n  // @ts-expect-error\n  return window.chrome !== undefined\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * This file uses most of the logic of lightweight-charts/mouse-event-handler.ts(https://github.com/tradingview/lightweight-charts) for reference.\n * Makes some modifications to add some events.\n * The use of the source code of this file is also subject to the terms\n * and consitions of the license of \"lightweight-charts\" (Apache License V2, see\n * </licenses/LICENSE-lightweight-charts>).\n */\n\nimport Coordinate from './Coordinate'\n\nimport Nullable from './Nullable'\n\nimport { isFF, isIOS, isChrome } from './utils/platform'\n\nexport type MouseTouchEventCallback = (event: MouseTouchEvent, other?: number) => boolean\n\nexport interface EventHandler {\n  pinchStartEvent?: MouseTouchEventCallback\n  pinchEvent?: MouseTouchEventCallback\n  pinchEndEvent?: MouseTouchEventCallback\n\n  mouseWheelHortEvent?: MouseTouchEventCallback\n  mouseWheelVertEvent?: MouseTouchEventCallback\n\n  mouseClickEvent?: MouseTouchEventCallback\n  mouseRightClickEvent?: MouseTouchEventCallback\n  tapEvent?: MouseTouchEventCallback\n\n  mouseDoubleClickEvent?: MouseTouchEventCallback\n  doubleTapEvent?: MouseTouchEventCallback\n\n  mouseDownEvent?: MouseTouchEventCallback\n  touchStartEvent?: MouseTouchEventCallback\n\n  mouseUpEvent?: MouseTouchEventCallback\n  touchEndEvent?: MouseTouchEventCallback\n\n  mouseDownOutsideEvent?: MouseTouchEventCallback\n\n  mouseEnterEvent?: MouseTouchEventCallback\n  mouseLeaveEvent?: MouseTouchEventCallback\n\n  mouseMoveEvent?: MouseTouchEventCallback\n\n  pressedMouseMoveEvent?: MouseTouchEventCallback\n  touchMoveEvent?: MouseTouchEventCallback\n\n  longTapEvent?: MouseTouchEventCallback\n}\n\nexport type EventName = keyof EventHandler\n\nexport interface MouseTouchEvent extends Coordinate {\n  pageX: number\n  pageY: number\n  isTouch?: boolean\n  preventDefault?: () => void\n}\n\nexport interface EventOptions {\n  treatVertDragAsPageScroll: () => boolean\n  treatHorzDragAsPageScroll: () => boolean\n}\n\n// we can use `const name = 500;` but with `const enum` this values will be inlined into code\n// so we do not need to have it as variables\nconst enum Delay {\n  ResetClick = 500,\n  LongTap = 240,\n  PreventFiresTouchEvents = 500,\n}\n\nconst enum ManhattanDistance {\n  CancelClick = 5,\n  CancelTap = 5,\n  DoubleClick = 5,\n  DoubleTap = 30,\n}\n\nconst enum MouseEventButton {\n  Left = 0,\n  Middle = 1,\n  Right = 2,\n}\n\nexport const TOUCH_MIN_RADIUS = 10\n\ntype TimerId = ReturnType<typeof setTimeout>\n\ninterface MouseTouchMoveWithDownInfo {\n  xOffset: number\n  yOffset: number\n  manhattanDistance: number\n}\n\n// TODO: get rid of a lot of boolean flags, probably we should replace it with some enum\nexport default class SyntheticEvent {\n  private readonly _target: HTMLElement\n  private readonly _handler: EventHandler\n\n  private readonly _options: EventOptions\n\n  private _clickCount: number = 0\n  private _clickTimeoutId: Nullable<TimerId> = null\n  private _clickCoordinate: Coordinate = { x: Number.NEGATIVE_INFINITY, y: Number.POSITIVE_INFINITY }\n\n  private _tapCount: number = 0\n  private _tapTimeoutId: Nullable<TimerId> = null\n  private _tapCoordinate: Coordinate = { x: Number.NEGATIVE_INFINITY, y: Number.POSITIVE_INFINITY }\n\n  private _longTapTimeoutId: Nullable<TimerId> = null\n  private _longTapActive: boolean = false\n\n  private _mouseMoveStartCoordinate: Nullable<Coordinate> = null\n\n  private _touchMoveStartCoordinate: Nullable<Coordinate> = null\n  private _touchMoveExceededManhattanDistance: boolean = false\n\n  private _cancelClick: boolean = false\n  private _cancelTap: boolean = false\n\n  private _unsubscribeOutsideMouseEvents: Nullable<() => void> = null\n  private _unsubscribeOutsideTouchEvents: Nullable<() => void> = null\n  private _unsubscribeMobileSafariEvents: Nullable<() => void> = null\n\n  private _unsubscribeMousemove: Nullable<() => void> = null\n\n  private _unsubscribeMouseWheel: Nullable<() => void> = null\n\n  private _unsubscribeContextMenu: Nullable<() => void> = null\n\n  private _unsubscribeRootMouseEvents: Nullable<() => void> = null\n  private _unsubscribeRootTouchEvents: Nullable<() => void> = null\n\n  private _startPinchMiddleCoordinate: Nullable<Coordinate> = null\n  private _startPinchDistance: number = 0\n  private _pinchPrevented: boolean = false\n  private _preventTouchDragProcess: boolean = false\n\n  private _mousePressed: boolean = false\n\n  private _lastTouchEventTimeStamp: number = 0\n\n  // for touchstart/touchmove/touchend events we handle only first touch\n  // i.e. we don't support several active touches at the same time (except pinch event)\n  private _activeTouchId: Nullable<number> = null\n\n  // accept all mouse leave events if it's not an iOS device\n  // see _mouseEnterHandler, _mouseMoveHandler, _mouseLeaveHandler\n  private _acceptMouseLeave: boolean = !isIOS()\n\n  constructor (\n    target: HTMLElement,\n    handler: EventHandler,\n    options: EventOptions\n  ) {\n    this._target = target\n    this._handler = handler\n    this._options = options\n\n    this._init()\n  }\n\n  destroy (): void {\n    if (this._unsubscribeOutsideMouseEvents !== null) {\n      this._unsubscribeOutsideMouseEvents()\n      this._unsubscribeOutsideMouseEvents = null\n    }\n\n    if (this._unsubscribeOutsideTouchEvents !== null) {\n      this._unsubscribeOutsideTouchEvents()\n      this._unsubscribeOutsideTouchEvents = null\n    }\n\n    if (this._unsubscribeMousemove !== null) {\n      this._unsubscribeMousemove()\n      this._unsubscribeMousemove = null\n    }\n\n    if (this._unsubscribeMouseWheel !== null) {\n      this._unsubscribeMouseWheel()\n      this._unsubscribeMouseWheel = null\n    }\n\n    if (this._unsubscribeContextMenu !== null) {\n      this._unsubscribeContextMenu()\n      this._unsubscribeContextMenu = null\n    }\n\n    if (this._unsubscribeRootMouseEvents !== null) {\n      this._unsubscribeRootMouseEvents()\n      this._unsubscribeRootMouseEvents = null\n    }\n\n    if (this._unsubscribeRootTouchEvents !== null) {\n      this._unsubscribeRootTouchEvents()\n      this._unsubscribeRootTouchEvents = null\n    }\n\n    if (this._unsubscribeMobileSafariEvents !== null) {\n      this._unsubscribeMobileSafariEvents()\n      this._unsubscribeMobileSafariEvents = null\n    }\n\n    this._clearLongTapTimeout()\n    this._resetClickTimeout()\n  }\n\n  private _mouseEnterHandler (enterEvent: MouseEvent): void {\n    this._unsubscribeMousemove?.()\n    this._unsubscribeMouseWheel?.()\n    this._unsubscribeContextMenu?.()\n\n    const boundMouseMoveHandler = this._mouseMoveHandler.bind(this)\n    this._unsubscribeMousemove = () => {\n      this._target.removeEventListener('mousemove', boundMouseMoveHandler)\n    }\n    this._target.addEventListener('mousemove', boundMouseMoveHandler)\n\n    const boundMouseWheel = this._mouseWheelHandler.bind(this)\n    this._unsubscribeMouseWheel = () => {\n      this._target.removeEventListener('wheel', boundMouseWheel)\n    }\n    this._target.addEventListener('wheel', boundMouseWheel, { passive: false })\n\n    const boundContextMenu = this._contextMenuHandler.bind(this)\n    this._unsubscribeContextMenu = () => {\n      this._target.removeEventListener('contextmenu', boundContextMenu)\n    }\n    this._target.addEventListener('contextmenu', boundContextMenu, { passive: false })\n\n    if (this._firesTouchEvents(enterEvent)) {\n      return\n    }\n\n    this._processEvent(this._makeCompatEvent(enterEvent), this._handler.mouseEnterEvent)\n    this._acceptMouseLeave = true\n  }\n\n  private _resetClickTimeout (): void {\n    if (this._clickTimeoutId !== null) {\n      clearTimeout(this._clickTimeoutId)\n    }\n\n    this._clickCount = 0\n    this._clickTimeoutId = null\n    this._clickCoordinate = { x: Number.NEGATIVE_INFINITY, y: Number.POSITIVE_INFINITY }\n  }\n\n  private _resetTapTimeout (): void {\n    if (this._tapTimeoutId !== null) {\n      clearTimeout(this._tapTimeoutId)\n    }\n\n    this._tapCount = 0\n    this._tapTimeoutId = null\n    this._tapCoordinate = { x: Number.NEGATIVE_INFINITY, y: Number.POSITIVE_INFINITY }\n  }\n\n  private _mouseMoveHandler (moveEvent: MouseEvent): void {\n    if (this._mousePressed || this._touchMoveStartCoordinate !== null) {\n      return\n    }\n\n    if (this._firesTouchEvents(moveEvent)) {\n      return\n    }\n\n    this._processEvent(this._makeCompatEvent(moveEvent), this._handler.mouseMoveEvent)\n    this._acceptMouseLeave = true\n  }\n\n  private _mouseWheelHandler (wheelEvent: WheelEvent): void {\n    if (Math.abs(wheelEvent.deltaX) > Math.abs(wheelEvent.deltaY)) {\n      if (this._handler.mouseWheelHortEvent === undefined) {\n        return\n      }\n      this._preventDefault(wheelEvent)\n      if (Math.abs(wheelEvent.deltaX) === 0) {\n        return\n      }\n      this._handler.mouseWheelHortEvent(this._makeCompatEvent(wheelEvent), -wheelEvent.deltaX)\n    } else {\n      if (this._handler.mouseWheelVertEvent === undefined) {\n        return\n      }\n      let deltaY = -(wheelEvent.deltaY / 100)\n      if (deltaY === 0) {\n        return\n      }\n      this._preventDefault(wheelEvent)\n\n      switch (wheelEvent.deltaMode) {\n        case wheelEvent.DOM_DELTA_PAGE:\n          deltaY *= 120\n          break\n\n        case wheelEvent.DOM_DELTA_LINE:\n          deltaY *= 32\n          break\n      }\n\n      if (deltaY !== 0) {\n        const scale = Math.sign(deltaY) * Math.min(1, Math.abs(deltaY))\n        this._handler.mouseWheelVertEvent(this._makeCompatEvent(wheelEvent), scale)\n      }\n    }\n  }\n\n  private _contextMenuHandler (mouseEvent: MouseEvent): void {\n    this._preventDefault(mouseEvent)\n  }\n\n  private _touchMoveHandler (moveEvent: TouchEvent): void {\n    const touch = this._touchWithId(moveEvent.changedTouches, this._activeTouchId)\n    if (touch === null) {\n      return\n    }\n\n    this._lastTouchEventTimeStamp = this._eventTimeStamp(moveEvent)\n\n    if (this._startPinchMiddleCoordinate !== null) {\n      return\n    }\n\n    if (this._preventTouchDragProcess) {\n      return\n    }\n\n    // prevent pinch if move event comes faster than the second touch\n    this._pinchPrevented = true\n\n    const moveInfo = this._mouseTouchMoveWithDownInfo(this._getCoordinate(touch), this._touchMoveStartCoordinate as Coordinate)\n    const { xOffset, yOffset, manhattanDistance } = moveInfo\n\n    if (!this._touchMoveExceededManhattanDistance && manhattanDistance < ManhattanDistance.CancelTap) {\n      return\n    }\n\n    if (!this._touchMoveExceededManhattanDistance) {\n      // first time when current position exceeded manhattan distance\n\n      // vertical drag is more important than horizontal drag\n      // because we scroll the page vertically often than horizontally\n      const correctedXOffset = xOffset * 0.5\n\n      // a drag can be only if touch page scroll isn't allowed\n      const isVertDrag = yOffset >= correctedXOffset && !this._options.treatVertDragAsPageScroll()\n      const isHorzDrag = correctedXOffset > yOffset && !this._options.treatHorzDragAsPageScroll()\n\n      // if drag event happened then we should revert preventDefault state to original one\n      // and try to process the drag event\n      // else we shouldn't prevent default of the event and ignore processing the drag event\n      if (!isVertDrag && !isHorzDrag) {\n        this._preventTouchDragProcess = true\n      }\n\n      this._touchMoveExceededManhattanDistance = true\n      // if manhattan distance is more that 5 - we should cancel tap event\n      this._cancelTap = true\n      this._clearLongTapTimeout()\n      this._resetTapTimeout()\n    }\n\n    if (!this._preventTouchDragProcess) {\n      this._processEvent(this._makeCompatEvent(moveEvent, touch), this._handler.touchMoveEvent)\n\n      // we should prevent default in case of touch only\n      // to prevent scroll of the page\n      // preventDefault(moveEvent)\n    }\n  }\n\n  private _mouseMoveWithDownHandler (moveEvent: MouseEvent): void {\n    if (moveEvent.button !== MouseEventButton.Left) {\n      return\n    }\n\n    const moveInfo = this._mouseTouchMoveWithDownInfo(this._getCoordinate(moveEvent), this._mouseMoveStartCoordinate as Coordinate)\n    const { manhattanDistance } = moveInfo\n\n    if (manhattanDistance >= ManhattanDistance.CancelClick) {\n      // if manhattan distance is more that 5 - we should cancel click event\n      this._cancelClick = true\n      this._resetClickTimeout()\n    }\n\n    if (this._cancelClick) {\n      // if this._cancelClick is true, that means that minimum manhattan distance is already exceeded\n      this._processEvent(this._makeCompatEvent(moveEvent), this._handler.pressedMouseMoveEvent)\n    }\n  }\n\n  private _mouseTouchMoveWithDownInfo (currentCoordinate: Coordinate, startCoordinate: Coordinate): MouseTouchMoveWithDownInfo {\n    const xOffset = Math.abs(startCoordinate.x - currentCoordinate.x)\n    const yOffset = Math.abs(startCoordinate.y - currentCoordinate.y)\n\n    const manhattanDistance = xOffset + yOffset\n\n    return { xOffset, yOffset, manhattanDistance }\n  }\n\n  /**\n   * In Firefox mouse events dont't fire if the mouse position is outside of the browser's border.\n   * To prevent the mouse from hanging while pressed we're subscribing on the mouseleave event of the document element.\n   * We're subscribing on mouseleave, but this event is actually fired on mouseup outside of the browser's border.\n   */\n  private readonly _onFirefoxOutsideMouseUp = (mouseUpEvent: MouseEvent): void => {\n    this._mouseUpHandler(mouseUpEvent)\n  }\n\n  /**\n   * Safari doesn't fire touchstart/mousedown events on double tap since iOS 13.\n   * There are two possible solutions:\n   * 1) Call preventDefault in touchEnd handler. But it also prevents click event from firing.\n   * 2) Add listener on dblclick event that fires with the preceding mousedown/mouseup.\n   * https://developer.apple.com/forums/thread/125073\n   */\n  private readonly _onMobileSafariDoubleClick = (dblClickEvent: MouseEvent): void => {\n    if (this._firesTouchEvents(dblClickEvent)) {\n      ++this._tapCount\n\n      if (this._tapTimeoutId !== null && this._tapCount > 1) {\n        const { manhattanDistance } = this._mouseTouchMoveWithDownInfo(this._getCoordinate(dblClickEvent), this._tapCoordinate)\n        if (manhattanDistance < ManhattanDistance.DoubleTap && !this._cancelTap) {\n          this._processEvent(this._makeCompatEvent(dblClickEvent), this._handler.doubleTapEvent)\n        }\n        this._resetTapTimeout()\n      }\n    } else {\n      ++this._clickCount\n\n      if (this._clickTimeoutId !== null && this._clickCount > 1) {\n        const { manhattanDistance } = this._mouseTouchMoveWithDownInfo(this._getCoordinate(dblClickEvent), this._clickCoordinate)\n        if (manhattanDistance < ManhattanDistance.DoubleClick && !this._cancelClick) {\n          this._processEvent(this._makeCompatEvent(dblClickEvent), this._handler.mouseDoubleClickEvent)\n        }\n        this._resetClickTimeout()\n      }\n    }\n  }\n\n  // eslint-disable-next-line complexity\n  private _touchEndHandler (touchEndEvent: TouchEvent): void {\n    let touch = this._touchWithId(touchEndEvent.changedTouches, this._activeTouchId)\n    if (touch === null && touchEndEvent.touches.length === 0) {\n      // something went wrong, somehow we missed the required touchend event\n      // probably the browser has not sent this event\n      touch = touchEndEvent.changedTouches[0]\n    }\n\n    if (touch === null) {\n      return\n    }\n\n    this._activeTouchId = null\n    this._lastTouchEventTimeStamp = this._eventTimeStamp(touchEndEvent)\n    this._clearLongTapTimeout()\n    this._touchMoveStartCoordinate = null\n\n    if (this._unsubscribeRootTouchEvents !== null) {\n      this._unsubscribeRootTouchEvents()\n      this._unsubscribeRootTouchEvents = null\n    }\n\n    const compatEvent = this._makeCompatEvent(touchEndEvent, touch)\n    this._processEvent(compatEvent, this._handler.touchEndEvent)\n    ++this._tapCount\n\n    if (this._tapTimeoutId !== null && this._tapCount > 1) {\n      // check that both clicks are near enough\n      const { manhattanDistance } = this._mouseTouchMoveWithDownInfo(this._getCoordinate(touch), this._tapCoordinate)\n      if (manhattanDistance < ManhattanDistance.DoubleTap && !this._cancelTap) {\n        this._processEvent(compatEvent, this._handler.doubleTapEvent)\n      }\n      this._resetTapTimeout()\n    } else {\n      if (!this._cancelTap) {\n        this._processEvent(compatEvent, this._handler.tapEvent)\n\n        // do not fire mouse events if tap handler was executed\n        // prevent click event on new dom element (who appeared after tap)\n        if (this._handler.tapEvent !== undefined) {\n          this._preventDefault(touchEndEvent)\n        }\n      }\n    }\n\n    // prevent, for example, safari's dblclick-to-zoom or fast-click after long-tap\n    // we handle mouseDoubleClickEvent here ourselves\n    if (this._tapCount === 0) {\n      this._preventDefault(touchEndEvent)\n    }\n\n    if (touchEndEvent.touches.length === 0) {\n      if (this._longTapActive) {\n        this._longTapActive = false\n        // prevent native click event\n        this._preventDefault(touchEndEvent)\n      }\n    }\n  }\n\n  private _mouseUpHandler (mouseUpEvent: MouseEvent): void {\n    if (mouseUpEvent.button !== MouseEventButton.Left) {\n      return\n    }\n\n    const compatEvent = this._makeCompatEvent(mouseUpEvent)\n\n    this._mouseMoveStartCoordinate = null\n    this._mousePressed = false\n\n    if (this._unsubscribeRootMouseEvents !== null) {\n      this._unsubscribeRootMouseEvents()\n      this._unsubscribeRootMouseEvents = null\n    }\n\n    if (isFF()) {\n      const rootElement = this._target.ownerDocument.documentElement\n      rootElement.removeEventListener('mouseleave', this._onFirefoxOutsideMouseUp)\n    }\n\n    if (this._firesTouchEvents(mouseUpEvent)) {\n      return\n    }\n\n    this._processEvent(compatEvent, this._handler.mouseUpEvent)\n    ++this._clickCount\n\n    if (this._clickTimeoutId !== null && this._clickCount > 1) {\n      // check that both clicks are near enough\n      const { manhattanDistance } = this._mouseTouchMoveWithDownInfo(this._getCoordinate(mouseUpEvent), this._clickCoordinate)\n      if (manhattanDistance < ManhattanDistance.DoubleClick && !this._cancelClick) {\n        this._processEvent(compatEvent, this._handler.mouseDoubleClickEvent)\n      }\n      this._resetClickTimeout()\n    } else {\n      if (!this._cancelClick) {\n        this._processEvent(compatEvent, this._handler.mouseClickEvent)\n      }\n    }\n  }\n\n  private _clearLongTapTimeout (): void {\n    if (this._longTapTimeoutId === null) {\n      return\n    }\n\n    clearTimeout(this._longTapTimeoutId)\n    this._longTapTimeoutId = null\n  }\n\n  private _touchStartHandler (downEvent: TouchEvent): void {\n    if (this._activeTouchId !== null) {\n      return\n    }\n    const touch = downEvent.changedTouches[0]\n    this._activeTouchId = touch.identifier\n\n    this._lastTouchEventTimeStamp = this._eventTimeStamp(downEvent)\n\n    const rootElement = this._target.ownerDocument.documentElement\n\n    this._cancelTap = false\n    this._touchMoveExceededManhattanDistance = false\n    this._preventTouchDragProcess = false\n\n    this._touchMoveStartCoordinate = this._getCoordinate(touch)\n\n    if (this._unsubscribeRootTouchEvents !== null) {\n      this._unsubscribeRootTouchEvents()\n      this._unsubscribeRootTouchEvents = null\n    }\n\n    {\n      const boundTouchMoveWithDownHandler = this._touchMoveHandler.bind(this)\n      const boundTouchEndHandler = this._touchEndHandler.bind(this)\n\n      this._unsubscribeRootTouchEvents = () => {\n        rootElement.removeEventListener('touchmove', boundTouchMoveWithDownHandler)\n        rootElement.removeEventListener('touchend', boundTouchEndHandler)\n      }\n\n      rootElement.addEventListener('touchmove', boundTouchMoveWithDownHandler, { passive: false })\n      rootElement.addEventListener('touchend', boundTouchEndHandler, { passive: false })\n\n      this._clearLongTapTimeout()\n      this._longTapTimeoutId = setTimeout(this._longTapHandler.bind(this, downEvent), Delay.LongTap)\n    }\n\n    this._processEvent(this._makeCompatEvent(downEvent, touch), this._handler.touchStartEvent)\n\n    if (this._tapTimeoutId === null) {\n      this._tapCount = 0\n      this._tapTimeoutId = setTimeout(this._resetTapTimeout.bind(this), Delay.ResetClick)\n      this._tapCoordinate = this._getCoordinate(touch)\n    }\n  }\n\n  private _mouseDownHandler (downEvent: MouseEvent): void {\n    if (downEvent.button === MouseEventButton.Right) {\n      this._preventDefault(downEvent)\n      this._processEvent(this._makeCompatEvent(downEvent), this._handler.mouseRightClickEvent)\n      return\n    }\n\n    if (downEvent.button !== MouseEventButton.Left) {\n      return\n    }\n\n    const rootElement = this._target.ownerDocument.documentElement\n    if (isFF()) {\n      rootElement.addEventListener('mouseleave', this._onFirefoxOutsideMouseUp)\n    }\n\n    this._cancelClick = false\n\n    this._mouseMoveStartCoordinate = this._getCoordinate(downEvent)\n\n    if (this._unsubscribeRootMouseEvents !== null) {\n      this._unsubscribeRootMouseEvents()\n      this._unsubscribeRootMouseEvents = null\n    }\n\n    {\n      const boundMouseMoveWithDownHandler = this._mouseMoveWithDownHandler.bind(this)\n      const boundMouseUpHandler = this._mouseUpHandler.bind(this)\n\n      this._unsubscribeRootMouseEvents = () => {\n        rootElement.removeEventListener('mousemove', boundMouseMoveWithDownHandler)\n        rootElement.removeEventListener('mouseup', boundMouseUpHandler)\n      }\n\n      rootElement.addEventListener('mousemove', boundMouseMoveWithDownHandler)\n      rootElement.addEventListener('mouseup', boundMouseUpHandler)\n    }\n\n    this._mousePressed = true\n\n    if (this._firesTouchEvents(downEvent)) {\n      return\n    }\n\n    this._processEvent(this._makeCompatEvent(downEvent), this._handler.mouseDownEvent)\n\n    if (this._clickTimeoutId === null) {\n      this._clickCount = 0\n      this._clickTimeoutId = setTimeout(this._resetClickTimeout.bind(this), Delay.ResetClick)\n      this._clickCoordinate = this._getCoordinate(downEvent)\n    }\n  }\n\n  private _init (): void {\n    this._target.addEventListener('mouseenter', this._mouseEnterHandler.bind(this))\n\n    // Do not show context menu when something went wrong\n    this._target.addEventListener('touchcancel', this._clearLongTapTimeout.bind(this))\n\n    {\n      const doc = this._target.ownerDocument\n\n      const outsideHandler = (event: MouseEvent | TouchEvent): void => {\n        if (this._handler.mouseDownOutsideEvent == null) {\n          return\n        }\n\n        if (event.composed && this._target.contains(event.composedPath()[0] as Element)) {\n          return\n        }\n\n        if ((event.target !== null) && this._target.contains(event.target as Element)) {\n          return\n        }\n\n        this._handler.mouseDownOutsideEvent({ x: 0, y: 0, pageX: 0, pageY: 0 })\n      }\n\n      this._unsubscribeOutsideTouchEvents = () => {\n        doc.removeEventListener('touchstart', outsideHandler)\n      }\n\n      this._unsubscribeOutsideMouseEvents = () => {\n        doc.removeEventListener('mousedown', outsideHandler)\n      }\n\n      doc.addEventListener('mousedown', outsideHandler)\n      doc.addEventListener('touchstart', outsideHandler, { passive: true })\n    }\n\n    if (isIOS()) {\n      this._unsubscribeMobileSafariEvents = () => {\n        this._target.removeEventListener('dblclick', this._onMobileSafariDoubleClick)\n      }\n      this._target.addEventListener('dblclick', this._onMobileSafariDoubleClick)\n    }\n\n    this._target.addEventListener('mouseleave', this._mouseLeaveHandler.bind(this))\n\n    this._target.addEventListener('touchstart', this._touchStartHandler.bind(this), { passive: true })\n\n    // prevent scroll by wheel click\n    if (!isChrome()) {\n      return\n    }\n    this._target.addEventListener('mousedown', (e: MouseEvent) => {\n      if (e.button === MouseEventButton.Middle) {\n        // prevent incorrect scrolling event\n        e.preventDefault()\n        return false\n      }\n      return undefined\n    })\n\n    this._target.addEventListener('mousedown', this._mouseDownHandler.bind(this))\n    this._initPinch()\n\n    // Hey mobile Safari, what's up?\n    // If mobile Safari doesn't have any touchmove handler with passive=false\n    // it treats a touchstart and the following touchmove events as cancelable=false,\n    // so we can't prevent them (as soon we subscribe on touchmove inside touchstart's handler).\n    // And we'll get scroll of the page along with chart's one instead of only chart's scroll.\n    this._target.addEventListener('touchmove', () => {}, { passive: false })\n  }\n\n  private _initPinch (): void {\n    if (this._handler.pinchStartEvent === undefined &&\n      this._handler.pinchEvent === undefined &&\n      this._handler.pinchEndEvent === undefined\n    ) {\n      return\n    }\n\n    this._target.addEventListener(\n      'touchstart',\n      (event: TouchEvent) => this._checkPinchState(event.touches),\n      { passive: true }\n    )\n\n    this._target.addEventListener(\n      'touchmove',\n      (event: TouchEvent) => {\n        if (event.touches.length !== 2 || this._startPinchMiddleCoordinate === null) {\n          return\n        }\n        if (this._handler.pinchEvent !== undefined) {\n          const currentDistance = this._getTouchDistance(event.touches[0], event.touches[1])\n          const scale = currentDistance / this._startPinchDistance\n          this._handler.pinchEvent({ ...this._startPinchMiddleCoordinate, pageX: 0, pageY: 0 }, scale)\n          this._preventDefault(event)\n        }\n      },\n      { passive: false }\n    )\n\n    this._target.addEventListener('touchend', (event: TouchEvent) => {\n      this._checkPinchState(event.touches)\n    })\n  }\n\n  private _checkPinchState (touches: TouchList): void {\n    if (touches.length === 1) {\n      this._pinchPrevented = false\n    }\n\n    if (touches.length !== 2 || this._pinchPrevented || this._longTapActive) {\n      this._stopPinch()\n    } else {\n      this._startPinch(touches)\n    }\n  }\n\n  private _startPinch (touches: TouchList): void {\n    const box = this._target.getBoundingClientRect() ?? { left: 0, top: 0 }\n    this._startPinchMiddleCoordinate = {\n      x: ((touches[0].clientX - box.left) + (touches[1].clientX - box.left)) / 2,\n      y: ((touches[0].clientY - box.top) + (touches[1].clientY - box.top)) / 2\n    }\n\n    this._startPinchDistance = this._getTouchDistance(touches[0], touches[1])\n\n    if (this._handler.pinchStartEvent !== undefined) {\n      this._handler.pinchStartEvent({ x: 0, y: 0, pageX: 0, pageY: 0 })\n    }\n\n    this._clearLongTapTimeout()\n  }\n\n  private _stopPinch (): void {\n    if (this._startPinchMiddleCoordinate === null) {\n      return\n    }\n\n    this._startPinchMiddleCoordinate = null\n\n    if (this._handler.pinchEndEvent !== undefined) {\n      this._handler.pinchEndEvent({ x: 0, y: 0, pageX: 0, pageY: 0 })\n    }\n  }\n\n  private _mouseLeaveHandler (event: MouseEvent): void {\n    this._unsubscribeMousemove?.()\n    this._unsubscribeMouseWheel?.()\n    this._unsubscribeContextMenu?.()\n\n    if (this._firesTouchEvents(event)) {\n      return\n    }\n\n    if (!this._acceptMouseLeave) {\n      // mobile Safari sometimes emits mouse leave event for no reason, there is no way to handle it in other way\n      // just ignore this event if there was no mouse move or mouse enter events\n      return\n    }\n\n    this._processEvent(this._makeCompatEvent(event), this._handler.mouseLeaveEvent)\n\n    // accept all mouse leave events if it's not an iOS device\n    this._acceptMouseLeave = !isIOS()\n  }\n\n  private _longTapHandler (event: TouchEvent): void {\n    const touch = this._touchWithId(event.touches, this._activeTouchId)\n    if (touch === null) {\n      return\n    }\n\n    this._processEvent(this._makeCompatEvent(event, touch), this._handler.longTapEvent)\n    this._cancelTap = true\n\n    // long tap is active until touchend event with 0 touches occurred\n    this._longTapActive = true\n  }\n\n  private _firesTouchEvents (e: MouseEvent): boolean {\n    // @ts-expect-error\n    if (e.sourceCapabilities?.firesTouchEvents !== undefined) {\n      // @ts-expect-error\n      return e.sourceCapabilities.firesTouchEvents\n    }\n\n    return this._eventTimeStamp(e) < this._lastTouchEventTimeStamp + Delay.PreventFiresTouchEvents\n  }\n\n  private _processEvent (event: MouseTouchEvent, callback?: MouseTouchEventCallback): void {\n    callback?.call(this._handler, event)\n  }\n\n  private _makeCompatEvent (event: MouseEvent | TouchEvent, touch?: Touch): MouseTouchEvent {\n    // TouchEvent has no clientX/Y coordinates:\n    // We have to use the last Touch instead\n    const eventLike = touch ?? (event as MouseEvent)\n    const box = this._target.getBoundingClientRect() ?? { left: 0, top: 0 }\n\n    return {\n      x: eventLike.clientX - box.left,\n      y: eventLike.clientY - box.top,\n\n      pageX: eventLike.pageX,\n      pageY: eventLike.pageY,\n\n      isTouch: !event.type.startsWith('mouse') && event.type !== 'contextmenu' && event.type !== 'click',\n\n      preventDefault: () => {\n        if (event.type !== 'touchstart') {\n          // touchstart is passive and cannot be prevented\n          this._preventDefault(event)\n        }\n      }\n    }\n  }\n\n  private _getTouchDistance (p1: Touch, p2: Touch): number {\n    const xDiff = p1.clientX - p2.clientX\n    const yDiff = p1.clientY - p2.clientY\n    return Math.sqrt(xDiff * xDiff + yDiff * yDiff)\n  }\n\n  private _preventDefault (event: Event): void {\n    if (event.cancelable) {\n      event.preventDefault()\n    }\n  }\n\n  private _getCoordinate (eventLike: Touch | MouseEvent): Coordinate {\n    return {\n      x: eventLike.pageX,\n      y: eventLike.pageY\n    }\n  }\n\n  private _eventTimeStamp (e: TouchEvent | MouseEvent): number {\n    // for some reason e.timestamp is always 0 on iPad with magic mouse, so we use performance.now() as a fallback\n    return e.timeStamp ?? performance.now()\n  }\n\n  private _touchWithId (touches: TouchList, id: Nullable<number>): Nullable<Touch> {\n    for (let i = 0; i < touches.length; ++i) {\n      if (touches[i].identifier === id) {\n        return touches[i]\n      }\n    }\n    return null\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Nullable from './common/Nullable'\nimport SyntheticEvent, { EventHandler, MouseTouchEvent, TOUCH_MIN_RADIUS } from './common/SyntheticEvent'\nimport Coordinate from './common/Coordinate'\nimport { UpdateLevel } from './common/Updater'\nimport Bounding from './common/Bounding'\n\nimport { AxisExtremum } from './component/Axis'\nimport YAxis from './component/YAxis'\n\nimport Chart from './Chart'\nimport Pane, { PaneIdConstants } from './pane/Pane'\nimport Widget, { WidgetNameConstants } from './widget/Widget'\nimport { REAL_SEPARATOR_HEIGHT } from './widget/SeparatorWidget'\n\ninterface EventTriggerWidgetInfo {\n  pane: Nullable<Pane>\n  widget: Nullable<Widget>\n}\n\nexport default class ChartEvent implements EventHandler {\n  private readonly _container: HTMLElement\n  private readonly _chart: Chart\n  private readonly _event: SyntheticEvent\n\n  // 惯性滚动开始时间\n  private _flingStartTime = new Date().getTime()\n  // 惯性滚动定时器\n  private _flingScrollTimerId: Nullable<number> = null\n  // 开始滚动时坐标点\n  private _startScrollCoordinate: Nullable<Coordinate> = null\n  // 开始触摸时坐标\n  private _touchCoordinate: Nullable<Coordinate> = null\n  // 是否是取消了十字光标\n  private _touchCancelCrosshair = false\n  // 是否缩放过\n  private _touchZoomed = false\n  // 用来记录捏合缩放的尺寸\n  private _pinchScale = 1\n\n  private _mouseDownWidget: Nullable<Widget> = null\n\n  private _prevYAxisExtremum: Nullable<AxisExtremum> = null\n\n  private _xAxisStartScaleCoordinate: Nullable<Coordinate> = null\n  private _xAxisStartScaleDistance = 0\n  private _xAxisScale = 1\n\n  private _yAxisStartScaleDistance = 0\n\n  private _mouseMoveTriggerWidgetInfo: EventTriggerWidgetInfo = { pane: null, widget: null }\n\n  private readonly _boundKeyBoardDownEvent: ((event: KeyboardEvent) => void) = (event: KeyboardEvent) => {\n    if (event.shiftKey) {\n      switch (event.code) {\n        case 'Equal': {\n          this._chart.getChartStore().getTimeScaleStore().zoom(0.5)\n          break\n        }\n        case 'Minus': {\n          this._chart.getChartStore().getTimeScaleStore().zoom(-0.5)\n          break\n        }\n        case 'ArrowLeft': {\n          const timeScaleStore = this._chart.getChartStore().getTimeScaleStore()\n          timeScaleStore.startScroll()\n          timeScaleStore.scroll(-3 * timeScaleStore.getBarSpace().bar)\n          break\n        }\n        case 'ArrowRight': {\n          const timeScaleStore = this._chart.getChartStore().getTimeScaleStore()\n          timeScaleStore.startScroll()\n          timeScaleStore.scroll(3 * timeScaleStore.getBarSpace().bar)\n          break\n        }\n        default: {\n          break\n        }\n      }\n    }\n  }\n\n  constructor (container: HTMLElement, chart: Chart) {\n    this._container = container\n    this._chart = chart\n    this._event = new SyntheticEvent(container, this, {\n      treatVertDragAsPageScroll: () => false,\n      treatHorzDragAsPageScroll: () => false\n    })\n    container.addEventListener('keydown', this._boundKeyBoardDownEvent)\n  }\n\n  pinchStartEvent (): boolean {\n    this._touchZoomed = true\n    this._pinchScale = 1\n    return true\n  }\n\n  pinchEvent (e: MouseTouchEvent, scale: number): boolean {\n    const { pane, widget } = this._findWidgetByEvent(e)\n    if (pane?.getId() !== PaneIdConstants.XAXIS && widget?.getName() === WidgetNameConstants.MAIN) {\n      const event = this._makeWidgetEvent(e, widget)\n      const zoomScale = (scale - this._pinchScale) * 5\n      this._pinchScale = scale\n      this._chart.getChartStore().getTimeScaleStore().zoom(zoomScale, { x: event.x, y: event.y })\n      return true\n    }\n    return false\n  }\n\n  mouseWheelHortEvent (e: MouseTouchEvent, distance: number): boolean {\n    const timeScaleStore = this._chart.getChartStore().getTimeScaleStore()\n    timeScaleStore.startScroll()\n    timeScaleStore.scroll(distance)\n    return true\n  }\n\n  mouseWheelVertEvent (e: MouseTouchEvent, scale: number): boolean {\n    const { widget } = this._findWidgetByEvent(e)\n    const isTouch = e.isTouch ?? false\n    const event = this._makeWidgetEvent(e, widget)\n    let zoomCoordinate: Nullable<Coordinate> = null\n    const name = widget?.getName()\n    if (isTouch) {\n      if (name === WidgetNameConstants.MAIN || name === WidgetNameConstants.XAXIS) {\n        zoomCoordinate = { x: event.x, y: event.y }\n      } else {\n        const bounding = this._chart.getPaneById(PaneIdConstants.CANDLE)?.getBounding() as Bounding\n        zoomCoordinate = { x: bounding.width / 2, y: bounding.height / 2 }\n      }\n    } else {\n      if (name === WidgetNameConstants.MAIN) {\n        zoomCoordinate = { x: event.x, y: event.y }\n      }\n    }\n    if (zoomCoordinate !== null) {\n      this._chart.getChartStore().getTimeScaleStore().zoom(scale, { x: event.x, y: event.y })\n      return true\n    }\n    return false\n  }\n\n  mouseDownEvent (e: MouseTouchEvent): boolean {\n    const { pane, widget } = this._findWidgetByEvent(e)\n    this._mouseDownWidget = widget\n    if (widget !== null) {\n      const event = this._makeWidgetEvent(e, widget)\n      const name = widget.getName()\n      switch (name) {\n        case WidgetNameConstants.SEPARATOR: {\n          return widget.dispatchEvent('mouseDownEvent', event)\n        }\n        case WidgetNameConstants.MAIN: {\n          const extremum = pane?.getAxisComponent().getExtremum() ?? null\n          this._prevYAxisExtremum = extremum === null ? extremum : { ...extremum }\n          this._startScrollCoordinate = { x: event.x, y: event.y }\n          this._chart.getChartStore().getTimeScaleStore().startScroll()\n          return widget.dispatchEvent('mouseDownEvent', event)\n        }\n        case WidgetNameConstants.XAXIS: {\n          const consumed = widget.dispatchEvent('mouseDownEvent', event)\n          if (consumed) {\n            this._chart.updatePane(UpdateLevel.OVERLAY)\n          }\n          this._xAxisStartScaleCoordinate = { x: event.x, y: event.y }\n          this._xAxisStartScaleDistance = event.pageX\n          return consumed\n        }\n        case WidgetNameConstants.YAXIS: {\n          const consumed = widget.dispatchEvent('mouseDownEvent', event)\n          if (consumed) {\n            this._chart.updatePane(UpdateLevel.OVERLAY)\n          }\n          const extremum = pane?.getAxisComponent().getExtremum() ?? null\n          this._prevYAxisExtremum = extremum === null ? extremum : { ...extremum }\n          this._yAxisStartScaleDistance = event.pageY\n          return consumed\n        }\n      }\n    }\n    return false\n  }\n\n  mouseMoveEvent (e: MouseTouchEvent): boolean {\n    const { pane, widget } = this._findWidgetByEvent(e)\n    const event = this._makeWidgetEvent(e, widget)\n    if (\n      this._mouseMoveTriggerWidgetInfo.pane?.getId() !== pane?.getId() ||\n      this._mouseMoveTriggerWidgetInfo.widget?.getName() !== widget?.getName()\n    ) {\n      widget?.dispatchEvent('mouseEnterEvent', event)\n      this._mouseMoveTriggerWidgetInfo.widget?.dispatchEvent('mouseLeaveEvent', event)\n      this._mouseMoveTriggerWidgetInfo = { pane, widget }\n    }\n    if (widget !== null) {\n      const name = widget.getName()\n      switch (name) {\n        case WidgetNameConstants.MAIN: {\n          this._chart.getChartStore().getCrosshairStore().set({ x: event.x, y: event.y, paneId: pane?.getId() })\n          return widget.dispatchEvent('mouseMoveEvent', event)\n        }\n        case WidgetNameConstants.SEPARATOR:\n        case WidgetNameConstants.XAXIS:\n        case WidgetNameConstants.YAXIS: {\n          const consumed = widget.dispatchEvent('mouseMoveEvent', event)\n          this._chart.getChartStore().getCrosshairStore().set()\n          return consumed\n        }\n      }\n    }\n    return false\n  }\n\n  pressedMouseMoveEvent (e: MouseTouchEvent): boolean {\n    if (this._mouseDownWidget !== null && this._mouseDownWidget.getName() === WidgetNameConstants.SEPARATOR) {\n      return this._mouseDownWidget.dispatchEvent('pressedMouseMoveEvent', e)\n    }\n    const { pane, widget } = this._findWidgetByEvent(e)\n    if (\n      widget !== null &&\n      this._mouseDownWidget?.getPane().getId() === pane?.getId() &&\n      this._mouseDownWidget?.getName() === widget.getName()\n    ) {\n      const event = this._makeWidgetEvent(e, widget)\n      const name = widget.getName()\n      switch (name) {\n        case WidgetNameConstants.MAIN: {\n          const bounding = widget.getBounding()\n          const consumed = widget.dispatchEvent('pressedMouseMoveEvent', event)\n          if (!consumed && this._startScrollCoordinate !== null) {\n            const yAxis = pane?.getAxisComponent() as YAxis\n            if (this._prevYAxisExtremum !== null && !yAxis.getAutoCalcTickFlag()) {\n              const { min, max, range } = this._prevYAxisExtremum\n              let distance: number\n              if (yAxis?.isReverse() ?? false) {\n                distance = this._startScrollCoordinate.y - event.y\n              } else {\n                distance = event.y - this._startScrollCoordinate.y\n              }\n              const scale = distance / bounding.height\n              const difRange = range * scale\n              const newMin = min + difRange\n              const newMax = max + difRange\n              const newRealMin = yAxis.convertToRealValue(newMin)\n              const newRealMax = yAxis.convertToRealValue(newMax)\n              yAxis.setExtremum({\n                min: newMin,\n                max: newMax,\n                range: newMax - newMin,\n                realMin: newRealMin,\n                realMax: newRealMax,\n                realRange: newRealMax - newRealMin\n              })\n            }\n            const distance = event.x - this._startScrollCoordinate.x\n            this._chart.getChartStore().getTimeScaleStore().scroll(distance)\n          }\n          this._chart.getChartStore().getCrosshairStore().set({ x: event.x, y: event.y, paneId: pane?.getId() })\n          return consumed\n        }\n        case WidgetNameConstants.XAXIS: {\n          const consumed = widget.dispatchEvent('pressedMouseMoveEvent', event)\n          if (!consumed) {\n            const scale = this._xAxisStartScaleDistance / event.pageX\n            const zoomScale = (scale - this._xAxisScale) * 10\n            this._xAxisScale = scale\n            this._chart.getChartStore().getTimeScaleStore().zoom(zoomScale, this._xAxisStartScaleCoordinate ?? undefined)\n          } else {\n            this._chart.updatePane(UpdateLevel.OVERLAY)\n          }\n          return consumed\n        }\n        case WidgetNameConstants.YAXIS: {\n          const consumed = widget.dispatchEvent('pressedMouseMoveEvent', event)\n          if (!consumed) {\n            if (this._prevYAxisExtremum !== null) {\n              const { min, max, range } = this._prevYAxisExtremum\n              const scale = event.pageY / this._yAxisStartScaleDistance\n              const newRange = range * scale\n              const difRange = (newRange - range) / 2\n              const newMin = min - difRange\n              const newMax = max + difRange\n              const yAxis = pane?.getAxisComponent() as YAxis\n              const newRealMin = yAxis.convertToRealValue(newMin)\n              const newRealMax = yAxis.convertToRealValue(newMax)\n              yAxis.setExtremum({\n                min: newMin,\n                max: newMax,\n                range: newRange,\n                realMin: newRealMin,\n                realMax: newRealMax,\n                realRange: newRealMax - newRealMin\n              })\n              this._chart.adjustPaneViewport(false, true, true, true)\n            }\n          } else {\n            this._chart.updatePane(UpdateLevel.OVERLAY)\n          }\n          return consumed\n        }\n      }\n    }\n    return false\n  }\n\n  mouseUpEvent (e: MouseTouchEvent): boolean {\n    const { widget } = this._findWidgetByEvent(e)\n    let consumed: boolean = false\n    if (widget !== null) {\n      const event = this._makeWidgetEvent(e, widget)\n      const name = widget.getName()\n      switch (name) {\n        case WidgetNameConstants.MAIN:\n        case WidgetNameConstants.SEPARATOR:\n        case WidgetNameConstants.XAXIS:\n        case WidgetNameConstants.YAXIS: {\n          consumed = widget.dispatchEvent('mouseUpEvent', event)\n          break\n        }\n      }\n      if (consumed) {\n        this._chart.updatePane(UpdateLevel.OVERLAY)\n      }\n    }\n    this._mouseDownWidget = null\n    this._startScrollCoordinate = null\n    this._prevYAxisExtremum = null\n    this._xAxisStartScaleCoordinate = null\n    this._xAxisStartScaleDistance = 0\n    this._xAxisScale = 1\n    this._yAxisStartScaleDistance = 0\n    return consumed\n  }\n\n  mouseRightClickEvent (e: MouseTouchEvent): boolean {\n    const { widget } = this._findWidgetByEvent(e)\n    let consumed: boolean = false\n    if (widget !== null) {\n      const event = this._makeWidgetEvent(e, widget)\n      const name = widget.getName()\n      switch (name) {\n        case WidgetNameConstants.MAIN:\n        case WidgetNameConstants.XAXIS:\n        case WidgetNameConstants.YAXIS: {\n          consumed = widget.dispatchEvent('mouseRightClickEvent', event)\n          break\n        }\n      }\n      if (consumed) {\n        this._chart.updatePane(UpdateLevel.OVERLAY)\n      }\n    }\n    return false\n  }\n\n  mouseDoubleClickEvent (e: MouseTouchEvent): boolean {\n    const { pane, widget } = this._findWidgetByEvent(e)\n    if (widget !== null && widget.getName() === WidgetNameConstants.YAXIS) {\n      const yAxis = pane?.getAxisComponent() as YAxis\n      if (!yAxis.getAutoCalcTickFlag()) {\n        yAxis.setAutoCalcTickFlag(true)\n        this._chart.adjustPaneViewport(false, true, true, true)\n        return true\n      }\n    }\n    return false\n  }\n\n  mouseLeaveEvent (): boolean {\n    this._chart.getChartStore().getCrosshairStore().set()\n    return true\n  }\n\n  touchStartEvent (e: MouseTouchEvent): boolean {\n    const { pane, widget } = this._findWidgetByEvent(e)\n    if (widget !== null) {\n      const event = this._makeWidgetEvent(e, widget)\n      const name = widget.getName()\n      switch (name) {\n        case WidgetNameConstants.MAIN: {\n          const chartStore = this._chart.getChartStore()\n          const crosshairStore = chartStore.getCrosshairStore()\n          if (widget.dispatchEvent('mouseDownEvent', event)) {\n            this._touchCancelCrosshair = true\n            this._touchCoordinate = null\n            crosshairStore.set(undefined, true)\n            this._chart.updatePane(UpdateLevel.OVERLAY)\n            return true\n          }\n          if (this._flingScrollTimerId !== null) {\n            clearTimeout(this._flingScrollTimerId)\n            this._flingScrollTimerId = null\n          }\n          this._flingStartTime = new Date().getTime()\n          this._startScrollCoordinate = { x: event.x, y: event.y }\n          chartStore.getTimeScaleStore().startScroll()\n          this._touchZoomed = false\n          if (this._touchCoordinate !== null) {\n            const xDif = event.x - this._touchCoordinate.x\n            const yDif = event.y - this._touchCoordinate.y\n            const radius = Math.sqrt(xDif * xDif + yDif * yDif)\n            if (radius < TOUCH_MIN_RADIUS) {\n              this._touchCoordinate = { x: event.x, y: event.y }\n              crosshairStore.set({ x: event.x, y: event.y, paneId: pane?.getId() })\n            } else {\n              this._touchCancelCrosshair = true\n              this._touchCoordinate = null\n              crosshairStore.set()\n            }\n          } else {\n            this._touchCancelCrosshair = false\n          }\n          return true\n        }\n        case WidgetNameConstants.XAXIS:\n        case WidgetNameConstants.YAXIS: {\n          const consumed = widget.dispatchEvent('mouseDownEvent', event)\n          if (consumed) {\n            this._chart.updatePane(UpdateLevel.OVERLAY)\n          }\n          return consumed\n        }\n      }\n    }\n    return false\n  }\n\n  touchMoveEvent (e: MouseTouchEvent): boolean {\n    const { pane, widget } = this._findWidgetByEvent(e)\n    if (widget !== null) {\n      const event = this._makeWidgetEvent(e, widget)\n      const name = widget.getName()\n      switch (name) {\n        case WidgetNameConstants.MAIN: {\n          if (widget.dispatchEvent('pressedMouseMoveEvent', event)) {\n            event.preventDefault?.()\n            this._chart.updatePane(UpdateLevel.OVERLAY)\n            return true\n          }\n          const chartStore = this._chart.getChartStore()\n          if (this._touchCoordinate !== null) {\n            event.preventDefault?.()\n            chartStore.getCrosshairStore().set({ x: event.x, y: event.y, paneId: pane?.getId() })\n          } else {\n            if (\n              this._startScrollCoordinate !== null &&\n              Math.abs(this._startScrollCoordinate.x - event.x) > this._startScrollCoordinate.y - event.y\n            ) {\n              const distance = event.x - this._startScrollCoordinate.x\n              chartStore.getTimeScaleStore().scroll(distance)\n            }\n          }\n          return true\n        }\n        case WidgetNameConstants.XAXIS:\n        case WidgetNameConstants.YAXIS: {\n          const consumed = widget.dispatchEvent('pressedMouseMoveEvent', event)\n          if (consumed) {\n            event.preventDefault?.()\n            this._chart.updatePane(UpdateLevel.OVERLAY)\n          }\n          return consumed\n        }\n      }\n    }\n    return false\n  }\n\n  touchEndEvent (e: MouseTouchEvent): boolean {\n    const { widget } = this._findWidgetByEvent(e)\n    if (widget !== null) {\n      const event = this._makeWidgetEvent(e, widget)\n      const name = widget.getName()\n      switch (name) {\n        case WidgetNameConstants.MAIN: {\n          widget.dispatchEvent('mouseUpEvent', event)\n          if (this._startScrollCoordinate !== null) {\n            const time = new Date().getTime() - this._flingStartTime\n            const distance = event.x - this._startScrollCoordinate.x\n            let v = distance / (time > 0 ? time : 1) * 20\n            if (time < 200 && Math.abs(v) > 0) {\n              const timeScaleStore = this._chart.getChartStore().getTimeScaleStore()\n              const flingScroll: (() => void) = () => {\n                this._flingScrollTimerId = setTimeout(() => {\n                  timeScaleStore.startScroll()\n                  timeScaleStore.scroll(v)\n                  v = v * (1 - 0.025)\n                  if (Math.abs(v) < 1) {\n                    if (this._flingScrollTimerId !== null) {\n                      clearTimeout(this._flingScrollTimerId)\n                      this._flingScrollTimerId = null\n                    }\n                  } else {\n                    flingScroll()\n                  }\n                }, 20)\n              }\n              flingScroll()\n            }\n          }\n          return true\n        }\n        case WidgetNameConstants.XAXIS:\n        case WidgetNameConstants.YAXIS: {\n          const consumed = widget.dispatchEvent('mouseUpEvent', event)\n          if (consumed) {\n            this._chart.updatePane(UpdateLevel.OVERLAY)\n          }\n        }\n      }\n    }\n    return false\n  }\n\n  tapEvent (e: MouseTouchEvent): boolean {\n    const { pane, widget } = this._findWidgetByEvent(e)\n    if (widget !== null && widget.getName() === WidgetNameConstants.MAIN && this._touchCoordinate === null && !this._touchCancelCrosshair && !this._touchZoomed) {\n      const event = this._makeWidgetEvent(e, widget)\n      this._touchCoordinate = { x: event.x, y: event.y }\n      this._chart.getChartStore().getCrosshairStore().set({ x: event.x, y: event.y, paneId: pane?.getId() })\n      return true\n    }\n    return false\n  }\n\n  longTapEvent (e: MouseTouchEvent): boolean {\n    const { pane, widget } = this._findWidgetByEvent(e)\n    if (widget !== null && widget.getName() === WidgetNameConstants.MAIN) {\n      const event = this._makeWidgetEvent(e, widget)\n      this._touchCoordinate = { x: event.x, y: event.y }\n      this._chart.getChartStore().getCrosshairStore().set({ x: event.x, y: event.y, paneId: pane?.getId() })\n      return true\n    }\n    return false\n  }\n\n  private _findWidgetByEvent (event: MouseTouchEvent): EventTriggerWidgetInfo {\n    const panes = this._chart.getAllPanes()\n    const { x, y } = event\n    let pane: Nullable<Pane> = null\n    for (const [, p] of panes) {\n      const bounding = p.getBounding()\n      if (\n        x >= bounding.left && x <= bounding.left + bounding.width &&\n        y >= bounding.top && y <= bounding.top + bounding.height\n      ) {\n        pane = p\n        break\n      }\n    }\n    if (pane === null) {\n      pane = this._chart.getPaneById(PaneIdConstants.XAXIS)\n    }\n    let widget: Nullable<Widget> = null\n    if (pane !== null) {\n      const separatorWidget = pane.getSeparatorWidget()\n      if (separatorWidget !== null) {\n        const separatorBounding = separatorWidget.getBounding()\n        if (\n          x >= separatorBounding.left && x <= separatorBounding.left + separatorBounding.width &&\n          y >= separatorBounding.top && y <= separatorBounding.top + REAL_SEPARATOR_HEIGHT\n        ) {\n          widget = separatorWidget\n        }\n      }\n      if (widget === null) {\n        const mainWidget = pane.getMainWidget()\n        const mainBounding = mainWidget.getBounding()\n        if (\n          x >= mainBounding.left && x <= mainBounding.left + mainBounding.width &&\n          y >= mainBounding.top && y <= mainBounding.top + mainBounding.height\n        ) {\n          widget = mainWidget\n        }\n      }\n      if (widget === null) {\n        const yAxisWidget = pane.getYAxisWidget()\n        if (yAxisWidget !== null) {\n          const yAxisBounding = yAxisWidget.getBounding()\n          if (\n            x >= yAxisBounding.left && x <= yAxisBounding.left + yAxisBounding.width &&\n            y >= yAxisBounding.top && y <= yAxisBounding.top + yAxisBounding.height\n          ) {\n            widget = yAxisWidget\n          }\n        }\n      }\n    }\n    return { pane, widget }\n  }\n\n  private _makeWidgetEvent (event: MouseTouchEvent, widget: Nullable<Widget>): MouseTouchEvent {\n    const bounding = widget?.getBounding() ?? null\n    return {\n      ...event,\n      x: event.x - (bounding?.left ?? 0),\n      y: event.y - (bounding?.top ?? 0)\n    }\n  }\n\n  destroy (): void {\n    this._container.removeEventListener('keydown', this._boundKeyBoardDownEvent)\n    this._event.destroy()\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Nullable from './common/Nullable'\nimport DeepPartial from './common/DeepPartial'\nimport Bounding from './common/Bounding'\nimport KLineData from './common/KLineData'\nimport Coordinate from './common/Coordinate'\nimport Point from './common/Point'\nimport { UpdateLevel } from './common/Updater'\nimport { Styles, YAxisPosition, CustomApi, Options } from './common/Options'\nimport Crosshair from './common/Crosshair'\nimport { ActionType, ActionCallback } from './common/Action'\nimport LoadMoreCallback from './common/LoadMoreCallback'\nimport Precision from './common/Precision'\nimport VisibleRange from './common/VisibleRange'\n\nimport { createId } from './common/utils/id'\nimport { createDom } from './common/utils/dom'\nimport { getPixelRatio } from './common/utils/canvas'\nimport { isString, isArray } from './common/utils/typeChecks'\nimport { logWarn } from './common/utils/logger'\nimport { formatValue } from './common/utils/format'\nimport { binarySearchNearest } from './common/utils/number'\n\nimport ChartStore from './store/ChartStore'\n\nimport Pane, { PaneOptions, PANE_DEFAULT_HEIGHT, PaneIdConstants } from './pane/Pane'\nimport CandlePane from './pane/CandlePane'\nimport IndicatorPane from './pane/IndicatorPane'\nimport XAxisPane from './pane/XAxisPane'\n\nimport Axis from './component/Axis'\n\nimport { Indicator, IndicatorCreate } from './component/Indicator'\nimport { Overlay, OverlayCreate, OverlayRemove } from './component/Overlay'\n\nimport { getIndicatorClass } from './extension/indicator/index'\nimport { getOverlayClass } from './extension/overlay/index'\nimport { getStyles as getExtensionStyles } from './extension/styles/index'\n\nimport ChartEvent from './ChartEvent'\n\nexport const enum DomPosition {\n  ROOT = 'root',\n  MAIN = 'main',\n  YAXIS = 'yAxis'\n}\n\nexport interface ConvertFinder {\n  paneId?: string\n  absolute?: boolean\n}\n\nexport interface Chart {\n  getDom: (paneId?: string, position?: DomPosition) => Nullable<HTMLElement>\n  getSize: (paneId?: string, position?: DomPosition) => Nullable<Bounding>\n  setLocale: (locale: string) => void\n  getLocale: () => string\n  setStyles: (styles: string | DeepPartial<Styles>) => void\n  getStyles: () => Styles\n  setCustomApi: (customApi: Partial<CustomApi>) => void\n  setPriceVolumePrecision: (pricePrecision: number, volumePrecision: number) => void\n  getPriceVolumePrecision: () => Precision\n  setTimezone: (timezone: string) => void\n  getTimezone: () => string\n  setOffsetRightDistance: (space: number) => void\n  setLeftMinVisibleBarCount: (barCount: number) => void\n  setRightMinVisibleBarCount: (barCount: number) => void\n  setBarSpace: (space: number) => void\n  getBarSpace: () => number\n  getVisibleRange: () => VisibleRange\n  clearData: () => void\n  getDataList: () => KLineData[]\n  applyNewData: (dataList: KLineData[], more?: boolean) => void\n  applyMoreData: (dataList: KLineData[], more?: boolean) => void\n  updateData: (data: KLineData) => void\n  loadMore: (cb: LoadMoreCallback) => void\n  createIndicator: (value: string | IndicatorCreate, isStack?: boolean, paneOptions?: PaneOptions, callback?: () => void) => Nullable<string>\n  overrideIndicator: (override: IndicatorCreate, paneId?: string, callback?: () => void) => void\n  getIndicatorByPaneId: (paneId?: string, name?: string) => Nullable<Indicator> | Nullable<Map<string, Indicator>> | Map<string, Map<string, Indicator>>\n  removeIndicator: (paneId: string, name?: string) => void\n  createOverlay: (value: string | OverlayCreate, paneId?: string) => Nullable<string>\n  getOverlayById: (id: string) => Nullable<Overlay>\n  overrideOverlay: (override: Partial<OverlayCreate>) => void\n  removeOverlay: (remove?: string | OverlayRemove) => void\n  setPaneOptions: (options: PaneOptions) => void\n  setZoomEnabled: (enabled: boolean) => void\n  isZoomEnabled: () => boolean\n  setScrollEnabled: (enabled: boolean) => void\n  isScrollEnabled: () => boolean\n  scrollByDistance: (distance: number, animationDuration?: number) => void\n  scrollToRealTime: (animationDuration?: number) => void\n  scrollToDataIndex: (dataIndex: number, animationDuration?: number) => void\n  scrollToTimestamp: (timestamp: number, animationDuration?: number) => void\n  zoomAtCoordinate: (scale: number, coordinate: Coordinate, animationDuration?: number) => void\n  zoomAtDataIndex: (scale: number, dataIndex: number, animationDuration?: number) => void\n  zoomAtTimestamp: (scale: number, timestamp: number, animationDuration?: number) => void\n  convertToPixel: (points: Partial<Point> | Array<Partial<Point>>, finder: ConvertFinder) => Partial<Coordinate> | Array<Partial<Coordinate>>\n  convertFromPixel: (coordinates: Array<Partial<Coordinate>>, finder: ConvertFinder) => Partial<Point> | Array<Partial<Point>>\n  subscribeAction: (type: ActionType, callback: ActionCallback) => void\n  unsubscribeAction: (type: ActionType, callback?: ActionCallback) => void\n  getConvertPictureUrl: (includeOverlay?: boolean, type?: string, backgroundColor?: string) => string\n  resize: () => void\n  destroy: () => void\n}\n\nexport default class ChartImp implements Chart {\n  private _container: HTMLElement\n  private _chartContainer: HTMLElement\n  private readonly _chartEvent: ChartEvent\n  private readonly _chartStore: ChartStore\n  private readonly _xAxisPane: XAxisPane\n  private readonly _panes: Map<string, IndicatorPane> = new Map()\n\n  constructor (container: HTMLElement, options?: Options) {\n    this._initContainer(container)\n    this._chartEvent = new ChartEvent(this._chartContainer, this)\n    this._chartStore = new ChartStore(this, options)\n    this._xAxisPane = new XAxisPane(this._chartContainer, this, PaneIdConstants.XAXIS)\n    this._panes.set(PaneIdConstants.CANDLE, new CandlePane(this._chartContainer, this, PaneIdConstants.CANDLE))\n    this.adjustPaneViewport(true, true, true)\n  }\n\n  private _initContainer (container: HTMLElement): void {\n    this._container = container\n    this._chartContainer = createDom('div', {\n      position: 'relative',\n      width: '100%',\n      outline: 'none',\n      borderStyle: 'none',\n      cursor: 'crosshair',\n      boxSizing: 'border-box',\n      userSelect: 'none',\n      webkitUserSelect: 'none',\n      // @ts-expect-error\n      msUserSelect: 'none',\n      MozUserSelect: 'none',\n      webkitTapHighlightColor: 'transparent'\n    })\n    this._chartContainer.tabIndex = 1\n    container.appendChild(this._chartContainer)\n  }\n\n  private _measurePaneHeight (): void {\n    const totalHeight = this._container.offsetHeight\n    const xAxisHeight = this._xAxisPane.getAxisComponent().getAutoSize()\n    let paneExcludeXAxisHeight = totalHeight - xAxisHeight\n    if (paneExcludeXAxisHeight < 0) {\n      paneExcludeXAxisHeight = 0\n    }\n    let indicatorPaneTotalHeight = 0\n    this._panes.forEach(pane => {\n      if (pane.getId() !== PaneIdConstants.CANDLE) {\n        let paneHeight = pane.getBounding().height\n        const paneMinHeight = pane.getOptions().minHeight\n        if (paneHeight < paneMinHeight) {\n          paneHeight = paneMinHeight\n        }\n        if (indicatorPaneTotalHeight + paneHeight > paneExcludeXAxisHeight) {\n          indicatorPaneTotalHeight = paneExcludeXAxisHeight\n          paneHeight = Math.max(paneExcludeXAxisHeight - indicatorPaneTotalHeight, 0)\n        } else {\n          indicatorPaneTotalHeight += paneHeight\n        }\n        pane.setBounding({ height: paneHeight })\n      }\n    })\n\n    const candlePaneHeight = paneExcludeXAxisHeight - indicatorPaneTotalHeight\n    this._panes.get(PaneIdConstants.CANDLE)?.setBounding({ height: candlePaneHeight })\n\n    let top = 0\n    this._panes.forEach(pane => {\n      pane.setBounding({ top })\n      top += pane.getBounding().height\n    })\n    this._xAxisPane.setBounding({ height: xAxisHeight, top })\n  }\n\n  private _measurePaneWidth (): void {\n    const styles = this._chartStore.getStyles()\n    const yAxisStyles = styles.yAxis\n    const isYAxisLeft = yAxisStyles.position === YAxisPosition.LEFT\n    const isOutside = !yAxisStyles.inside\n    const totolWidth = this._container.offsetWidth\n    let mainWidth = 0\n    let yAxisWidth = Number.MIN_SAFE_INTEGER\n    let yAxisLeft = 0\n    let mainLeft = 0\n    this._panes.forEach(pane => {\n      yAxisWidth = Math.max(yAxisWidth, pane.getAxisComponent().getAutoSize())\n    })\n    if (yAxisWidth > totolWidth) {\n      yAxisWidth = totolWidth\n    }\n    if (isOutside) {\n      mainWidth = totolWidth - yAxisWidth\n      if (isYAxisLeft) {\n        yAxisLeft = 0\n        mainLeft = yAxisWidth\n      } else {\n        yAxisLeft = totolWidth - yAxisWidth\n        mainLeft = 0\n      }\n    } else {\n      mainWidth = totolWidth\n      mainLeft = 0\n      if (isYAxisLeft) {\n        yAxisLeft = 0\n      } else {\n        yAxisLeft = totolWidth - yAxisWidth\n      }\n    }\n\n    this._chartStore.getTimeScaleStore().setTotalBarSpace(mainWidth)\n\n    const paneBounding = { width: totolWidth }\n    const mainBounding = { width: mainWidth, left: mainLeft }\n    const yAxisBounding = { width: yAxisWidth, left: yAxisLeft }\n    this._panes.forEach((pane) => {\n      pane.setBounding(paneBounding, mainBounding, yAxisBounding)\n    })\n    this._xAxisPane.setBounding(paneBounding, mainBounding, yAxisBounding)\n  }\n\n  private _setPaneOptions (options: PaneOptions, forceShouldAdjust: boolean): void {\n    const pane = this._panes.get(options?.id ?? '')\n    let shouldMeasureHeight = false\n    if (pane !== undefined) {\n      let shouldAdjust = forceShouldAdjust\n      if (options.id !== PaneIdConstants.CANDLE && options.height !== undefined && options.height > 0) {\n        const minHeight = Math.max(options.minHeight ?? pane.getOptions().minHeight, 0)\n        const height = Math.max(minHeight, options.height)\n        pane.setBounding({ height })\n        shouldAdjust = true\n        shouldMeasureHeight = true\n      }\n      pane.setOptions(options)\n      if (shouldAdjust) {\n        this.adjustPaneViewport(shouldMeasureHeight, true, true, true, true)\n      }\n    }\n  }\n\n  getContainer (): HTMLElement { return this._container }\n\n  getChartStore (): ChartStore { return this._chartStore }\n\n  getAllPanes (): Map<string, IndicatorPane> { return this._panes }\n\n  adjustPaneViewport (\n    shouldMeasureHeight: boolean,\n    shouldMeasureWidth: boolean,\n    shouldUpdate: boolean,\n    shouldAdjustYAxis?: boolean,\n    shouldForceAdjustYAxis?: boolean\n  ): void {\n    if (shouldMeasureHeight) {\n      this._measurePaneHeight()\n    }\n    let forceMeasureWidth = shouldMeasureWidth\n    const adjustYAxis = shouldAdjustYAxis ?? false\n    const forceAdjustYAxis = shouldForceAdjustYAxis ?? false\n    if (adjustYAxis || forceAdjustYAxis) {\n      this._panes.forEach(pane => {\n        const adjust = pane.getAxisComponent().buildTicks(forceAdjustYAxis)\n        if (!forceMeasureWidth) {\n          forceMeasureWidth = adjust\n        }\n      })\n    }\n    if (forceMeasureWidth) {\n      this._measurePaneWidth()\n    }\n    if (shouldUpdate ?? false) {\n      this._xAxisPane.getAxisComponent().buildTicks(true)\n      this.updatePane(UpdateLevel.ALL)\n    }\n  }\n\n  updatePane (level: UpdateLevel, paneId?: string): void {\n    if (paneId !== undefined) {\n      this.getPaneById(paneId)?.update(level)\n    } else {\n      this._xAxisPane.update(level)\n      this._panes.forEach(pane => {\n        pane.update(level)\n      })\n    }\n  }\n\n  getPaneById (paneId: string): Nullable<Pane<Axis>> {\n    if (paneId === PaneIdConstants.XAXIS) {\n      return this._xAxisPane\n    }\n    return this._panes.get(paneId) ?? null\n  }\n\n  crosshairChange (crosshair: Crosshair): void {\n    const actionStore = this._chartStore.getActionStore()\n    if (actionStore.has(ActionType.onCrosshairChange)) {\n      const indicatorData = {}\n      this._panes.forEach((_, id) => {\n        const paneIndicatorData = {}\n        const indicators = this._chartStore.getIndicatorStore().getInstances(id)\n        indicators.forEach(indicator => {\n          const result = indicator.result\n          paneIndicatorData[indicator.name] = result[crosshair.dataIndex ?? result.length - 1]\n        })\n        indicatorData[id] = paneIndicatorData\n      })\n      if (crosshair.paneId !== undefined) {\n        actionStore.execute(ActionType.onCrosshairChange, {\n          ...crosshair,\n          indicatorData\n        })\n      }\n    }\n  }\n\n  getDom (paneId?: string, position?: DomPosition): Nullable<HTMLElement> {\n    if (paneId !== undefined) {\n      const pane = this.getPaneById(paneId)\n      if (pane !== null) {\n        const pos = position ?? DomPosition.ROOT\n        switch (pos) {\n          case DomPosition.ROOT: {\n            return pane.getContainer()\n          }\n          case DomPosition.MAIN: {\n            return pane.getMainWidget().getContainer()\n          }\n          case DomPosition.YAXIS: {\n            return pane.getYAxisWidget()?.getContainer() ?? null\n          }\n        }\n      }\n    } else {\n      return this._chartContainer\n    }\n    return null\n  }\n\n  getSize (paneId?: string, position?: DomPosition): Nullable<Bounding> {\n    if (paneId !== undefined) {\n      const pane = this.getPaneById(paneId)\n      if (pane !== null) {\n        const pos = position ?? DomPosition.ROOT\n        switch (pos) {\n          case DomPosition.ROOT: {\n            return pane.getBounding()\n          }\n          case DomPosition.MAIN: {\n            return pane.getMainWidget().getBounding()\n          }\n          case DomPosition.YAXIS: {\n            return pane.getYAxisWidget()?.getBounding() ?? null\n          }\n        }\n      }\n    } else {\n      return {\n        width: this._chartContainer.offsetWidth,\n        height: this._chartContainer.offsetHeight,\n        left: 0,\n        top: 0,\n        right: 0,\n        bottom: 0\n      }\n    }\n    return null\n  }\n\n  setStyles (styles: string | DeepPartial<Styles>): void {\n    this._chartStore.setOptions({ styles })\n    let realStyles: Nullable<DeepPartial<Styles>>\n    if (isString(styles)) {\n      realStyles = getExtensionStyles(styles as string)\n    } else {\n      realStyles = styles as DeepPartial<Styles>\n    }\n    if (realStyles?.yAxis?.type !== undefined) {\n      this.getPaneById(PaneIdConstants.CANDLE)?.getAxisComponent().setAutoCalcTickFlag(true)\n    }\n    this.adjustPaneViewport(true, true, true, true, true)\n  }\n\n  getStyles (): Styles {\n    return this._chartStore.getStyles()\n  }\n\n  setLocale (locale: string): void {\n    this._chartStore.setOptions({ locale })\n    this.adjustPaneViewport(true, true, true, true, true)\n  }\n\n  getLocale (): string {\n    return this._chartStore.getLocale()\n  }\n\n  setCustomApi (customApi: Partial<CustomApi>): void {\n    this._chartStore.setOptions({ customApi })\n    this.adjustPaneViewport(true, true, true, true, true)\n  }\n\n  setPriceVolumePrecision (pricePrecision: number, volumePrecision: number): void {\n    this._chartStore.setPrecision({ price: pricePrecision, volume: volumePrecision })\n  }\n\n  getPriceVolumePrecision (): Precision {\n    return this._chartStore.getPrecision()\n  }\n\n  setTimezone (timezone: string): void {\n    this._chartStore.setOptions({ timezone })\n    this._xAxisPane.getAxisComponent().buildTicks(true)\n    this._xAxisPane.update(UpdateLevel.DRAWER)\n  }\n\n  getTimezone (): string {\n    return this._chartStore.getTimeScaleStore().getTimezone()\n  }\n\n  setOffsetRightDistance (space: number): void {\n    this._chartStore.getTimeScaleStore().setOffsetRightDistance(space, true)\n  }\n\n  setLeftMinVisibleBarCount (barCount: number): void {\n    if (barCount > 0) {\n      this._chartStore.getTimeScaleStore().setLeftMinVisibleBarCount(Math.ceil(barCount))\n    } else {\n      logWarn('setLeftMinVisibleBarCount', 'barCount', 'barCount must greater than zero!!!')\n    }\n  }\n\n  setRightMinVisibleBarCount (barCount: number): void {\n    if (barCount > 0) {\n      this._chartStore.getTimeScaleStore().setRightMinVisibleBarCount(Math.ceil(barCount))\n    } else {\n      logWarn('setRightMinVisibleBarCount', 'barCount', 'barCount must be a number and greater than zero!!!')\n    }\n  }\n\n  setBarSpace (space: number): void {\n    this._chartStore.getTimeScaleStore().setBarSpace(space)\n  }\n\n  getBarSpace (): number {\n    return this._chartStore.getTimeScaleStore().getBarSpace().bar\n  }\n\n  getVisibleRange (): VisibleRange {\n    return this._chartStore.getTimeScaleStore().getVisibleRange()\n  }\n\n  clearData (): void {\n    this._chartStore.clearDataList()\n  }\n\n  getDataList (): KLineData[] {\n    return this._chartStore.getDataList()\n  }\n\n  applyNewData (dataList: KLineData[], more?: boolean): void {\n    this._chartStore.clearDataList()\n    this.applyMoreData(dataList, more)\n  }\n\n  applyMoreData (dataList: KLineData[], more?: boolean): void {\n    this._chartStore.addData(dataList, 0, more)\n    this._chartStore.getIndicatorStore().calcInstance().then(\n      result => {\n        if (result.length === 0 || result.includes(true)) {\n          this.adjustPaneViewport(false, true, true, true)\n        }\n      }\n    ).catch(_ => {})\n  }\n\n  updateData (data: KLineData): void {\n    const dataList = this._chartStore.getDataList()\n    const dataCount = dataList.length\n    // Determine where individual data should be added\n    const timestamp = data.timestamp\n    const lastDataTimestamp = formatValue(dataList[dataCount - 1], 'timestamp', 0) as number\n    if (timestamp >= lastDataTimestamp) {\n      let pos = dataCount\n      if (timestamp === lastDataTimestamp) {\n        pos = dataCount - 1\n      }\n      this._chartStore.addData(data, pos)\n      this._chartStore.getIndicatorStore().calcInstance().then(\n        result => {\n          if (result.length === 0 || result.includes(true)) {\n            this.adjustPaneViewport(false, true, true, true)\n          }\n        }\n      ).catch(_ => {})\n    }\n  }\n\n  loadMore (cb: LoadMoreCallback): void {\n    this._chartStore.getTimeScaleStore().setLoadMoreCallback(cb)\n  }\n\n  createIndicator (value: string | IndicatorCreate, isStack?: boolean, paneOptions?: Nullable<PaneOptions>, callback?: () => void): Nullable<string> {\n    const indicator: IndicatorCreate = isString(value) ? { name: value as string } : value as IndicatorCreate\n    if (getIndicatorClass(indicator.name) === null) {\n      logWarn('createIndicator', 'value', 'indicator not supported, you may need to use registerIndicator to add one!!!')\n      return null\n    }\n\n    let paneId: string\n    if (paneOptions?.id !== undefined && this._panes.has(paneOptions.id)) {\n      paneId = paneOptions.id\n      this._chartStore.getIndicatorStore().addInstance(indicator, paneId, isStack ?? false).then(_ => {\n        this._setPaneOptions(paneOptions, this._panes.get(paneId)?.getAxisComponent().buildTicks(true) ?? false)\n      }).catch(_ => {})\n    } else {\n      paneId = paneOptions?.id ?? createId(PaneIdConstants.INDICATOR)\n      const topPane = Array.from(this._panes.values()).pop() as unknown as Pane<Axis>\n      const pane = new IndicatorPane(this._chartContainer, this, paneId, topPane)\n      topPane.setBottomPane(pane)\n      const height = paneOptions?.height ?? PANE_DEFAULT_HEIGHT\n      pane.setBounding({ height })\n      if (paneOptions !== undefined && paneOptions !== null) {\n        pane.setOptions(paneOptions)\n      }\n      this._panes.set(paneId, pane)\n      this._chartStore.getIndicatorStore().addInstance(indicator, paneId, isStack ?? false).finally(() => {\n        this.adjustPaneViewport(true, true, true, true, true)\n        callback?.()\n      })\n    }\n    return paneId\n  }\n\n  overrideIndicator (override: IndicatorCreate, paneId?: Nullable<string>, callback?: () => void): void {\n    this._chartStore.getIndicatorStore().override(override, paneId ?? null).then(\n      result => {\n        if (result.length > 0) {\n          this.adjustPaneViewport(false, true, true, true)\n          callback?.()\n        }\n      }\n    ).catch(() => {})\n  }\n\n  getIndicatorByPaneId (paneId?: string, name?: string): Nullable<Indicator> | Nullable<Map<string, Indicator>> | Map<string, Map<string, Indicator>> {\n    return this._chartStore.getIndicatorStore().getInstanceByPaneId(paneId, name)\n  }\n\n  removeIndicator (paneId: string, name?: string): void {\n    const indicatorStore = this._chartStore.getIndicatorStore()\n    const removed = indicatorStore.removeInstance(paneId, name)\n    if (removed) {\n      let shouldMeasureHeight = false\n      if (paneId !== PaneIdConstants.CANDLE) {\n        if (!indicatorStore.hasInstances(paneId)) {\n          const deletePane = this._panes.get(paneId)\n          if (deletePane !== undefined) {\n            shouldMeasureHeight = true\n            const deleteTopPane = deletePane.getTopPane()\n            const deleteBottomPane = deletePane.getBottomPane()\n            deleteBottomPane?.setTopPane(deleteTopPane)\n            deleteTopPane?.setBottomPane(deleteBottomPane)\n            deletePane?.destroy()\n            this._panes.delete(paneId)\n          }\n        }\n      }\n      this.adjustPaneViewport(shouldMeasureHeight, true, true, true, true)\n    }\n  }\n\n  createOverlay (value: string | OverlayCreate, paneId?: string): Nullable<string> {\n    const overlay: OverlayCreate = isString(value) ? { name: value as string } : value as OverlayCreate\n    if (getOverlayClass(overlay.name) === null) {\n      logWarn('createOverlay', 'value', 'overlay not supported, you may need to use registerOverlay to add one!!!')\n      return null\n    }\n    let appointPaneFlag = true\n    if (paneId === undefined || this.getPaneById(paneId) === null) {\n      paneId = PaneIdConstants.CANDLE\n      appointPaneFlag = false\n    }\n    const id = this._chartStore.getOverlayStore().addInstance(overlay, paneId, appointPaneFlag)\n    if (id === null) {\n      logWarn('createOverlay', 'options.id', 'duplicate id!!!')\n    }\n    return id\n  }\n\n  getOverlayById (id: string): Nullable<Overlay> {\n    return this._chartStore.getOverlayStore().getInstanceById(id)\n  }\n\n  overrideOverlay (override: Partial<OverlayCreate>): void {\n    this._chartStore.getOverlayStore().override(override)\n  }\n\n  removeOverlay (remove?: string | OverlayRemove): void {\n    let overlayRemove\n    if (remove !== undefined) {\n      if (isString(remove)) {\n        overlayRemove = { id: remove as string }\n      } else {\n        overlayRemove = remove as OverlayRemove\n      }\n    }\n    this._chartStore.getOverlayStore().removeInstance(overlayRemove)\n  }\n\n  setPaneOptions (options: PaneOptions): void {\n    this._setPaneOptions(options, false)\n  }\n\n  setZoomEnabled (enabled: boolean): void {\n    this._chartStore.getTimeScaleStore().setZoomEnabled(enabled)\n  }\n\n  isZoomEnabled (): boolean {\n    return this._chartStore.getTimeScaleStore().getZoomEnabled()\n  }\n\n  setScrollEnabled (enabled: boolean): void {\n    this._chartStore.getTimeScaleStore().setScrollEnabled(enabled)\n  }\n\n  isScrollEnabled (): boolean {\n    return this._chartStore.getTimeScaleStore().getScrollEnabled()\n  }\n\n  scrollByDistance (distance: number, animationDuration?: number): void {\n    const duration = animationDuration === undefined || animationDuration < 0 ? 0 : animationDuration\n    const timeScaleStore = this._chartStore.getTimeScaleStore()\n    if (duration > 0) {\n      timeScaleStore.startScroll()\n      const startTime = new Date().getTime()\n      const animation: (() => void) = () => {\n        const progress = (new Date().getTime() - startTime) / duration\n        const finished = progress >= 1\n        const dis = finished ? distance : distance * progress\n        timeScaleStore.scroll(dis)\n        if (!finished) {\n          requestAnimationFrame(animation)\n        }\n      }\n      animation()\n    } else {\n      timeScaleStore.startScroll()\n      timeScaleStore.scroll(distance)\n    }\n  }\n\n  scrollToRealTime (animationDuration?: number): void {\n    const timeScaleStore = this._chartStore.getTimeScaleStore()\n    const { bar: barSpace } = timeScaleStore.getBarSpace()\n    const difBarCount = timeScaleStore.getOffsetRightBarCount() - timeScaleStore.getOffsetRightDistance() / barSpace\n    const distance = difBarCount * barSpace\n    this.scrollByDistance(distance, animationDuration)\n  }\n\n  scrollToDataIndex (dataIndex: number, animationDuration?: number): void {\n    const timeScaleStore = this._chartStore.getTimeScaleStore()\n    const distance = (\n      timeScaleStore.getOffsetRightBarCount() + (this.getDataList().length - 1 - dataIndex)\n    ) * timeScaleStore.getBarSpace().bar\n    this.scrollByDistance(distance, animationDuration)\n  }\n\n  scrollToTimestamp (timestamp: number, animationDuration?: number): void {\n    const dataIndex = binarySearchNearest(this.getDataList(), 'timestamp', timestamp)\n    this.scrollToDataIndex(dataIndex, animationDuration)\n  }\n\n  zoomAtCoordinate (scale: number, coordinate: Coordinate, animationDuration?: number): void {\n    const duration = animationDuration === undefined || animationDuration < 0 ? 0 : animationDuration\n    const timeScaleStore = this._chartStore.getTimeScaleStore()\n    if (duration > 0) {\n      const { bar: barSpace } = timeScaleStore.getBarSpace()\n      const scaleDataSpace = barSpace * scale\n      const difSpace = scaleDataSpace - barSpace\n      const startTime = new Date().getTime()\n      const animation: (() => void) = () => {\n        const progress = (new Date().getTime() - startTime) / duration\n        const finished = progress >= 1\n        const progressDataSpace = finished ? difSpace : difSpace * progress\n        timeScaleStore.zoom(progressDataSpace / barSpace, coordinate)\n        if (!finished) {\n          requestAnimationFrame(animation)\n        }\n      }\n      animation()\n    } else {\n      timeScaleStore.zoom(scale, coordinate)\n    }\n  }\n\n  zoomAtDataIndex (scale: number, dataIndex: number, animationDuration?: number): void {\n    const x = this._chartStore.getTimeScaleStore().dataIndexToCoordinate(dataIndex)\n    this.zoomAtCoordinate(scale, { x, y: 0 }, animationDuration)\n  }\n\n  zoomAtTimestamp (scale: number, timestamp: number, animationDuration?: number): void {\n    const dataIndex = binarySearchNearest(this.getDataList(), 'timestamp', timestamp)\n    this.zoomAtDataIndex(scale, dataIndex, animationDuration)\n  }\n\n  convertToPixel (points: Partial<Point> | Array<Partial<Point>>, finder: ConvertFinder): Partial<Coordinate> | Array<Partial<Coordinate>> {\n    const { paneId = PaneIdConstants.CANDLE, absolute = false } = finder\n    let coordinates: Array<Partial<Coordinate>> = []\n    if (paneId !== PaneIdConstants.XAXIS) {\n      const pane = this.getPaneById(paneId)\n      if (pane !== null) {\n        const timeScaleStore = this._chartStore.getTimeScaleStore()\n        const bounding = pane.getBounding()\n        const ps = new Array<Partial<Point>>().concat(points)\n        const xAxis = this._xAxisPane.getAxisComponent()\n        const yAxis = pane.getAxisComponent()\n        coordinates = ps.map(point => {\n          const coordinate: Partial<Coordinate> = {}\n          let dataIndex = point.dataIndex\n          if (point.timestamp !== undefined) {\n            dataIndex = timeScaleStore.timestampToDataIndex(point.timestamp)\n          }\n          if (dataIndex !== undefined) {\n            coordinate.x = xAxis?.convertToPixel(dataIndex)\n          }\n          if (point.value !== undefined) {\n            const y = yAxis?.convertToPixel(point.value)\n            coordinate.y = absolute ? bounding.top + y : y\n          }\n          return coordinate\n        })\n      }\n    }\n    return isArray(points) ? coordinates : (coordinates[0] ?? {})\n  }\n\n  convertFromPixel (coordinates: Array<Partial<Coordinate>>, finder: ConvertFinder): Partial<Point> | Array<Partial<Point>> {\n    const { paneId = PaneIdConstants.CANDLE, absolute = false } = finder\n    let points: Array<Partial<Point>> = []\n    if (paneId !== PaneIdConstants.XAXIS) {\n      const pane = this.getPaneById(paneId)\n      if (pane !== null) {\n        const timeScaleStore = this._chartStore.getTimeScaleStore()\n        const bounding = pane.getBounding()\n        const cs = new Array<Partial<Coordinate>>().concat(coordinates)\n        const xAxis = this._xAxisPane.getAxisComponent()\n        const yAxis = pane.getAxisComponent()\n        points = cs.map(coordinate => {\n          const point: Partial<Point> = {}\n          if (coordinate.x !== undefined) {\n            const dataIndex = xAxis.convertFromPixel(coordinate.x)\n            point.dataIndex = dataIndex\n            point.timestamp = timeScaleStore.dataIndexToTimestamp(dataIndex) ?? undefined\n          }\n          if (coordinate.y !== undefined) {\n            const y = absolute ? coordinate.y - bounding.top : coordinate.y\n            point.value = yAxis.convertFromPixel(y)\n          }\n          return point\n        })\n      }\n    }\n    return isArray(coordinates) ? points : (points[0] ?? {})\n  }\n\n  subscribeAction (type: ActionType, callback: ActionCallback): void {\n    this._chartStore.getActionStore().subscribe(type, callback)\n  }\n\n  unsubscribeAction (type: ActionType, callback?: ActionCallback): void {\n    this._chartStore.getActionStore().unsubscribe(type, callback)\n  }\n\n  getConvertPictureUrl (includeOverlay?: boolean, type?: string, backgroundColor?: string): string {\n    const width = this._chartContainer.offsetWidth\n    const height = this._chartContainer.offsetHeight\n    const canvas = createDom('canvas', {\n      width: `${width}px`,\n      height: `${height}px`,\n      boxSizing: 'border-box'\n    })\n    const ctx = canvas.getContext('2d') as CanvasRenderingContext2D\n    const pixelRatio = getPixelRatio(canvas)\n    canvas.width = width * pixelRatio\n    canvas.height = height * pixelRatio\n    ctx.scale(pixelRatio, pixelRatio)\n\n    ctx.fillStyle = backgroundColor ?? '#FFFFFF'\n    ctx.fillRect(0, 0, width, height)\n    const overlayFlag = includeOverlay ?? false\n    this._panes.forEach(pane => {\n      const bounding = pane.getBounding()\n      ctx.drawImage(\n        pane.getImage(overlayFlag),\n        0, bounding.top, width, bounding.height\n      )\n    })\n    const xAxisBounding = this._xAxisPane.getBounding()\n    ctx.drawImage(\n      this._xAxisPane.getImage(overlayFlag),\n      0, xAxisBounding.top, width, xAxisBounding.height\n    )\n    return canvas.toDataURL(`image/${type ?? 'jpeg'}`)\n  }\n\n  resize (): void {\n    this.adjustPaneViewport(true, true, true, true, true)\n  }\n\n  destroy (): void {\n    this._chartEvent.destroy()\n    this._panes.forEach(pane => {\n      pane.destroy()\n    })\n    this._panes.clear()\n    this._xAxisPane.destroy()\n    this._container.removeChild(this._chartContainer)\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport default interface Coordinate {\n  x: number\n  y: number\n}\n\nexport function getDistance (coordinate1: Coordinate, coordinate2: Coordinate): number {\n  const xDif = coordinate1.x - coordinate2.x\n  const yDif = coordinate1.y - coordinate2.y\n  return Math.sqrt(xDif * xDif + yDif * yDif)\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Coordinate, { getDistance } from '../../common/Coordinate'\nimport { LineStyle, LineType } from '../../common/Options'\n\nimport { FigureTemplate, DEVIATION } from '../../component/Figure'\n\nexport function checkCoordinateOnArc (coordinate: Coordinate, arc: ArcAttrs): boolean {\n  if (Math.abs(getDistance(coordinate, arc) - arc.r) < DEVIATION) {\n    const { r, startAngle, endAngle } = arc\n    const startCoordinateX = r * Math.cos(startAngle) + arc.x\n    const startCoordinateY = r * Math.sin(startAngle) + arc.y\n    const endCoordinateX = r * Math.cos(endAngle) + arc.x\n    const endCoordinateY = r * Math.sin(endAngle) + arc.y\n    return (\n      coordinate.x <= Math.max(startCoordinateX, endCoordinateX) + DEVIATION &&\n      coordinate.x >= Math.min(startCoordinateX, endCoordinateX) - DEVIATION &&\n      coordinate.y <= Math.max(startCoordinateY, endCoordinateY) + DEVIATION &&\n      coordinate.y >= Math.min(startCoordinateY, endCoordinateY) - DEVIATION\n    )\n  }\n  return false\n}\n\nexport function drawArc (ctx: CanvasRenderingContext2D, attrs: ArcAttrs, styles: Partial<LineStyle>): void {\n  const { x, y, r, startAngle, endAngle } = attrs\n  const { style = LineType.SOLID, size = 1, color = 'currentColor', dashedValue = [2, 2] } = styles\n  ctx.lineWidth = size\n  ctx.strokeStyle = color\n  if (style === LineType.DASHED) {\n    ctx.setLineDash(dashedValue)\n  } else {\n    ctx.setLineDash([])\n  }\n  ctx.beginPath()\n  ctx.arc(x, y, r, startAngle, endAngle)\n  ctx.stroke()\n  ctx.closePath()\n}\n\nexport interface ArcAttrs {\n  x: number\n  y: number\n  r: number\n  startAngle: number\n  endAngle: number\n}\n\nconst arc: FigureTemplate<ArcAttrs, Partial<LineStyle>> = {\n  name: 'arc',\n  checkEventOn: checkCoordinateOnArc,\n  draw: (ctx: CanvasRenderingContext2D, attrs: ArcAttrs, styles: Partial<LineStyle>) => {\n    drawArc(ctx, attrs, styles)\n  }\n}\n\nexport default arc\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Options } from './common/Options'\nimport ChartImp, { Chart } from './Chart'\n\nimport { checkCoordinateOnArc, drawArc } from './extension/figure/arc'\nimport { checkCoordinateOnCircle, drawCircle } from './extension/figure/circle'\nimport {\n  checkCoordinateOnLine, drawLine,\n  getLinearYFromSlopeIntercept, getLinearSlopeIntercept, getLinearYFromCoordinates\n} from './extension/figure/line'\nimport { checkCoordinateOnPolygon, drawPolygon } from './extension/figure/polygon'\nimport { checkCoordinateOnRect, drawRect } from './extension/figure/rect'\nimport { drawRectText } from './extension/figure/rectText'\nimport { checkCoordinateOnText, drawText } from './extension/figure/text'\n\nimport { registerFigure, getSupportedFigures, getFigureClass } from './extension/figure/index'\nimport { registerIndicator, getSupportedIndicators } from './extension/indicator/index'\nimport { registerLocale, getSupportedLocales } from './extension/i18n/index'\nimport { registerOverlay, getSupportedOverlays } from './extension/overlay/index'\nimport { registerStyles } from './extension/styles/index'\n\nimport { logError, logTag, logWarn } from './common/utils/logger'\n\nimport {\n  clone, merge, isString, isNumber, isValid, isObject, isArray, isFunction, isBoolean\n} from './common/utils/typeChecks'\nimport { formatValue, formatPrecision, formatBigNumber, formatDate } from './common/utils/format'\n\nconst instances: {[id: string]: Chart} = {}\nlet chartBaseId = 1\n\n/**\n * Chart version\n * @return {string}\n */\nfunction version (): string {\n  return '__BUILD_VERSION__'\n}\n\n/**\n * Init chart instance\n * @param ds\n * @param options\n * @returns {Chart}\n */\nfunction init (ds: HTMLElement | string, options?: Options): Chart | null {\n  logTag()\n  const errorMessage = 'The chart cannot be initialized correctly. Please check the parameters. The chart container cannot be null and child elements need to be added!!!'\n  let dom\n  if (isString(ds)) {\n    dom = document.getElementById(ds as string)\n  } else {\n    dom = ds\n  }\n  if (dom === null) {\n    logError('', '', errorMessage)\n    return null\n  }\n  let chart = instances[dom.chartId ?? '']\n  if (chart !== undefined) {\n    logWarn('', '', 'The chart has been initialized on the dom！！！')\n    return chart\n  }\n  const id = `k_line_chart_${chartBaseId++}`\n  chart = new ChartImp(dom, options)\n  // @ts-expect-error\n  chart.id = id\n  dom.chartId = id\n  instances[id] = chart\n  return chart\n}\n\n/**\n * Destory chart instace\n * @param dcs\n */\nfunction dispose (dcs: HTMLElement | Chart | string): void {\n  let id: string | null\n  if (isString(dcs)) {\n    const dom = document.getElementById(dcs as string)\n    id = dom?.getAttribute('chartId') ?? null\n  } else if (dcs instanceof ChartImp) {\n    // @ts-expect-error\n    id = dcs.id\n  } else {\n    // @ts-expect-error\n    id = dcs ?? dcs.chartId\n  }\n  if (id !== null) {\n    instances[id].destroy()\n    // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n    delete instances[id]\n  }\n}\n\nconst utils = {\n  clone,\n  merge,\n  isString,\n  isNumber,\n  isValid,\n  isObject,\n  isArray,\n  isFunction,\n  isBoolean,\n  formatValue,\n  formatPrecision,\n  formatBigNumber,\n  formatDate,\n  getLinearSlopeIntercept,\n  getLinearYFromSlopeIntercept,\n  getLinearYFromCoordinates,\n  checkCoordinateOnArc,\n  checkCoordinateOnCircle,\n  checkCoordinateOnLine,\n  checkCoordinateOnPolygon,\n  checkCoordinateOnRect,\n  checkCoordinateOnText,\n  drawArc,\n  drawCircle,\n  drawLine,\n  drawPolygon,\n  drawRect,\n  drawText,\n  drawRectText\n}\n\nexport {\n  version, init, dispose,\n  registerFigure, getSupportedFigures, getFigureClass,\n  registerIndicator, getSupportedIndicators,\n  registerOverlay, getSupportedOverlays,\n  registerLocale, getSupportedLocales,\n  registerStyles, utils\n}\n"],"names":["extensions","getDistance","Action","requestAnimationFrame","CandleLastPriceLineView","YAxisView","YAxis","XAxis","getExtensionStyles"],"mappings":"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"}